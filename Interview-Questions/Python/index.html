<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="100+ Python interview questions for cracking Data Science, Backend, and Software Engineering interviews"><meta name=author content="Kuldeep Singh Sidhu"><link href=https://singhsidhukuldeep.github.io/Interview-Questions/Python/ rel=canonical><link href=../SQL-Interview-Questions/ rel=prev><link href=../Pandas/ rel=next><link rel=icon href=https://repository-images.githubusercontent.com/275878203/13719500-bb75-11ea-8f3a-be2ffb87a6a2><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.50"><title>Python Interview Questions - Data Science Interview preparation</title><link rel=stylesheet href=../../assets/stylesheets/main.a40c8224.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-EVGNTG49J7"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-EVGNTG49J7",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-EVGNTG49J7",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link href=../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#python-interview-questions class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <!-- Add announcement here, including arbitrary HTML --> <style>
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
      20%, 40%, 60%, 80% { transform: translateX(2px); }
    }
    @keyframes glow {
      0%, 100% { text-shadow: 0 0 5px rgba(255, 165, 0, 0.5); }
      50% { text-shadow: 0 0 20px rgba(255, 165, 0, 0.8), 0 0 30px rgba(255, 140, 0, 0.6); }
    }
    .shake-text {
      display: inline-block;
      animation: shake 3s ease-in-out infinite;
    }
    .glow-link {
      animation: glow 2s ease-in-out infinite;
      font-weight: bold;
    }
  </style> <span class=shake-text>üöÄ <a href=/flashcards class=glow-link>Flashcards</a> feature is live!</span> <meta name=google-adsense-account content=ca-pub-4988388949365963> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4988388949365963" crossorigin=anonymous></script> </div> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Data Science Interview preparation" class="md-header__button md-logo" aria-label="Data Science Interview preparation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M9.4 86.6c-12.5-12.5-12.5-32.7 0-45.2s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256zM256 416h288c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Data Science Interview preparation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Python Interview Questions </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=deep-purple data-md-color-accent=purple aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/singhsidhukuldeep/singhsidhukuldeep.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> singhsidhukuldeep/singhsidhukuldeep.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Data Science Interview preparation" class="md-nav__button md-logo" aria-label="Data Science Interview preparation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M9.4 86.6c-12.5-12.5-12.5-32.7 0-45.2s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256zM256 416h288c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg> </a> Data Science Interview preparation </label> <div class=md-nav__source> <a href=https://github.com/singhsidhukuldeep/singhsidhukuldeep.github.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> singhsidhukuldeep/singhsidhukuldeep.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> üè° Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> üë®üèø‚Äçüè´ Interview Questions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> üë®üèø‚Äçüè´ Interview Questions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../flashcards/ class=md-nav__link> <span class=md-ellipsis> üìá Flashcards </span> </a> </li> <li class=md-nav__item> <a href=../data-structures-algorithms/ class=md-nav__link> <span class=md-ellipsis> DSA (Data Structures & Algorithms) </span> </a> </li> <li class=md-nav__item> <a href=../Machine-Learning/ class=md-nav__link> <span class=md-ellipsis> Machine Learning </span> </a> </li> <li class=md-nav__item> <a href=../System-design/ class=md-nav__link> <span class=md-ellipsis> System Design </span> </a> </li> <li class=md-nav__item> <a href=../Natural-Language-Processing/ class=md-nav__link> <span class=md-ellipsis> Natural Language Processing (NLP) </span> </a> </li> <li class=md-nav__item> <a href=../Probability/ class=md-nav__link> <span class=md-ellipsis> Probability </span> </a> </li> <li class=md-nav__item> <a href=../AB-testing/ class=md-nav__link> <span class=md-ellipsis> A/B Testing </span> </a> </li> <li class=md-nav__item> <a href=../SQL-Interview-Questions/ class=md-nav__link> <span class=md-ellipsis> SQL </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Python </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#premium-interview-questions class=md-nav__link> <span class=md-ellipsis> Premium Interview Questions </span> </a> <nav class=md-nav aria-label="Premium Interview Questions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-is-the-global-interpreter-lock-gil-in-python-google-meta-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Global Interpreter Lock (GIL) in Python? - Google, Meta, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-python-decorators-with-examples-google-amazon-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python Decorators with Examples - Google, Amazon, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-args-and-kwargs-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between *args and **kwargs? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-does-python-manage-memory-explain-garbage-collection-google-meta-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> How Does Python Manage Memory? Explain Garbage Collection - Google, Meta, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-deepcopy-and-shallow-copy-google-amazon-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between deepcopy and shallow copy? - Google, Amazon, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-python-generators-when-should-you-use-them-google-amazon-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Python Generators? When Should You Use Them? - Google, Amazon, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-method-resolution-order-mro-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Method Resolution Order (MRO) - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-is-and-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between is and ==? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-context-managers-with-statement-google-amazon-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Context Managers (with statement)? - Google, Amazon, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-handle-exceptions-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Handle Exceptions in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-__init__-vs-__new__-in-python-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What is __init__ vs __new__ in Python? - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-staticmethod-and-classmethod-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between staticmethod and classmethod? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-list-comprehensions-and-when-should-you-use-them-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are List Comprehensions and When Should You Use Them? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-asyncio-in-python-how-does-it-work-google-meta-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> What is Asyncio in Python? How Does It Work? - Google, Meta, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-python-dataclasses-when-should-you-use-them-google-amazon-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Python Dataclasses? When Should You Use Them? - Google, Amazon, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-type-hints-in-python-how-do-you-use-them-google-meta-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Type Hints in Python? How Do You Use Them? - Google, Meta, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-__slots__-in-python-when-and-why-to-use-it-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain __slots__ in Python - When and Why to Use It? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-walrus-operator-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Walrus Operator :=? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-metaclasses-in-python-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Metaclasses in Python? - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-python-descriptors-what-are-__get__-__set__-__delete__-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python Descriptors - What Are __get__, __set__, __delete__? - Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-threading-vs-multiprocessing-in-python-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Threading vs Multiprocessing in Python - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-profile-and-optimize-python-code-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Profile and Optimize Python Code? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-write-unit-tests-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Write Unit Tests in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-handle-files-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Handle Files in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-virtual-environments-and-how-do-you-manage-dependencies-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Virtual Environments and How Do You Manage Dependencies? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-logging-module-how-do-you-use-it-effectively-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Logging Module - How Do You Use It Effectively? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-regular-expressions-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Regular Expressions in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-__name__-__main__-why-use-it-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is __name__ == "__main__"? Why Use It? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-itertools-how-do-you-use-it-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is itertools? How Do You Use It? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-functools-explain-lru_cache-and-partial-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is functools? Explain lru_cache and partial - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-collections-module-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is the collections Module? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-serialize-python-objects-explain-pickle-and-json-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Serialize Python Objects? Explain pickle and json - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-subprocess-how-do-you-run-shell-commands-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is subprocess? How Do You Run Shell Commands? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-argparse-how-do-you-build-cli-tools-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is argparse? How Do You Build CLI Tools? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-work-with-datetime-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Work with Datetime in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-copy-and-deepcopy-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between copy and deepcopy? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-heapq-how-do-you-use-priority-queues-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is heapq? How Do You Use Priority Queues? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-bisect-how-do-you-use-binary-search-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is bisect? How Do You Use Binary Search? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-zip-enumerate-map-and-filter-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> Explain zip, enumerate, map, and filter - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-lambda-functions-when-to-use-them-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Lambda Functions? When to Use Them? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-closures-in-python-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Closures in Python? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-property-decorator-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is the @property Decorator? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-abstract-base-classes-abcs-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Abstract Base Classes (ABCs)? - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-multiprocessingpool-how-do-you-parallelize-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is multiprocessing.Pool? How Do You Parallelize? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-itertoolsgroupby-how-do-you-use-it-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is itertools.groupby? How Do You Use It? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-staticmethod-and-classmethod-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are @staticmethod and @classmethod? - Most Tech Companies Interview Question </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#quick-reference-100-interview-questions class=md-nav__link> <span class=md-ellipsis> Quick Reference: 100+ Interview Questions </span> </a> </li> <li class=md-nav__item> <a href=#code-examples class=md-nav__link> <span class=md-ellipsis> Code Examples </span> </a> <nav class=md-nav aria-label="Code Examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-decorator-for-timing-functions class=md-nav__link> <span class=md-ellipsis> 1. Decorator for Timing Functions </span> </a> </li> <li class=md-nav__item> <a href=#2-context-manager-for-files class=md-nav__link> <span class=md-ellipsis> 2. Context Manager for Files </span> </a> </li> <li class=md-nav__item> <a href=#3-asynchronous-pattern class=md-nav__link> <span class=md-ellipsis> 3. Asynchronous Pattern </span> </a> </li> <li class=md-nav__item> <a href=#what-are-python-descriptors-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What are Python Descriptors? - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-args-and-kwargs-amazon-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's *args and **kwargs - Amazon, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-does-python-memory-management-work-google-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> How Does Python Memory Management Work? - Google, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-python-metaclasses-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> What are Python Metaclasses? - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-decorators-with-multiple-examples-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Decorators with Multiple Examples - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-walrus-operator-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Walrus Operator (:=)? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-python-context-managers-meta-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python Context Managers - Meta, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-generators-and-yield-google-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Generators and yield - Google, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-python-dataclasses-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python dataclasses - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-structural-pattern-matching-matchcase-google-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> What is Structural Pattern Matching (match/case)? - Google, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-type-hints-and-typing-module-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Type Hints and typing Module - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-functools-module-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain functools Module - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-itertools-module-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain itertools Module - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-collections-module-meta-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Collections Module - Meta, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-__slots__-for-memory-optimization-google-dropbox-interview-question class=md-nav__link> <span class=md-ellipsis> Explain __slots__ for Memory Optimization - Google, Dropbox Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-multiprocessing-vs-threading-amazon-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Multiprocessing vs Threading - Amazon, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-asyncawait-and-asyncio-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain async/await and asyncio - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-property-decorators-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Property Decorators - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-abstract-base-classes-abc-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Abstract Base Classes (ABC) - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-concurrentfutures-module-netflix-meta-interview-question class=md-nav__link> <span class=md-ellipsis> Explain concurrent.futures Module - Netflix, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-logging-module-amazon-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Logging Module - Amazon, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-pathlib-module-google-dropbox-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's pathlib Module - Google, Dropbox Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-testing-with-pytest-meta-dropbox-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Testing with pytest - Meta, Dropbox Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-f-string-advanced-features-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain F-string Advanced Features - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-protocol-classes-structural-subtyping-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Protocol Classes (Structural Subtyping) - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-operator-overloading-amazon-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Operator Overloading - Amazon, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-classmethod-vs-staticmethod-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain classmethod vs staticmethod - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-import-system-dropbox-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Import System - Dropbox, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-virtual-environments-venv-amazon-dropbox-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Virtual Environments (venv) - Amazon, Dropbox Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-weak-references-weakref-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Weak References (weakref) - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-exception-handling-best-practices-amazon-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Exception Handling Best Practices - Amazon, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-subprocess-module-dropbox-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain subprocess Module - Dropbox, Google Interview Question </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Pandas/ class=md-nav__link> <span class=md-ellipsis> Pandas </span> </a> </li> <li class=md-nav__item> <a href=../NumPy/ class=md-nav__link> <span class=md-ellipsis> NumPy </span> </a> </li> <li class=md-nav__item> <a href=../Scikit-Learn/ class=md-nav__link> <span class=md-ellipsis> Scikit-Learn </span> </a> </li> <li class=md-nav__item> <a href=../LangChain/ class=md-nav__link> <span class=md-ellipsis> LangChain </span> </a> </li> <li class=md-nav__item> <a href=../LangGraph/ class=md-nav__link> <span class=md-ellipsis> LangGraph </span> </a> </li> <li class=md-nav__item> <a href=../Interview-Question-Resources/ class=md-nav__link> <span class=md-ellipsis> Interview Question Resources </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> üìù Cheat Sheets </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> üìù Cheat Sheets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Cheat-Sheets/Django/ class=md-nav__link> <span class=md-ellipsis> Django </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/Flask/ class=md-nav__link> <span class=md-ellipsis> Flask </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/Hypothesis-Tests/ class=md-nav__link> <span class=md-ellipsis> Hypothesis Tests </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/Keras/ class=md-nav__link> <span class=md-ellipsis> Keras </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/LangChain-LangGraph/ class=md-nav__link> <span class=md-ellipsis> LangChain & LangGraph </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/NumPy/ class=md-nav__link> <span class=md-ellipsis> NumPy </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/Pandas/ class=md-nav__link> <span class=md-ellipsis> Pandas </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/PySpark/ class=md-nav__link> <span class=md-ellipsis> PySpark </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/PyTorch/ class=md-nav__link> <span class=md-ellipsis> PyTorch </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/Python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/RegEx/ class=md-nav__link> <span class=md-ellipsis> Regular Expressions (RegEx) </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/Sk-learn/ class=md-nav__link> <span class=md-ellipsis> Scikit Learn </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/SQL/ class=md-nav__link> <span class=md-ellipsis> SQL </span> </a> </li> <li class=md-nav__item> <a href=../../Cheat-Sheets/tensorflow/ class=md-nav__link> <span class=md-ellipsis> TensorFlow </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> ‚Äçüéì ML Topics </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> ‚Äçüéì ML Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Machine-Learning/ARIMA/ class=md-nav__link> <span class=md-ellipsis> ARIMA </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Activation%20functions/ class=md-nav__link> <span class=md-ellipsis> Activation functions </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Collaborative%20Filtering/ class=md-nav__link> <span class=md-ellipsis> Collaborative Filtering </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Confusion%20Matrix/ class=md-nav__link> <span class=md-ellipsis> Confusion Matrix </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/DBSCAN/ class=md-nav__link> <span class=md-ellipsis> DBSCAN </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Decision%20Trees/ class=md-nav__link> <span class=md-ellipsis> Decision Trees </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Gradient%20Boosting/ class=md-nav__link> <span class=md-ellipsis> Gradient Boosting </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/K-means%20clustering/ class=md-nav__link> <span class=md-ellipsis> K-means clustering </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Linear%20Regression/ class=md-nav__link> <span class=md-ellipsis> Linear Regression </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Logistic%20Regression/ class=md-nav__link> <span class=md-ellipsis> Logistic Regression </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Loss%20Function%20MAE%2C%20RMSE/ class=md-nav__link> <span class=md-ellipsis> Loss Function MAE, RMSE </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Neural%20Networks/ class=md-nav__link> <span class=md-ellipsis> Neural Networks </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Normal%20Distribution/ class=md-nav__link> <span class=md-ellipsis> Normal Distribution </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Normalization%20Regularisation/ class=md-nav__link> <span class=md-ellipsis> Normalization Regularisation </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Overfitting%2C%20Underfitting/ class=md-nav__link> <span class=md-ellipsis> Overfitting, Underfitting </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/PCA/ class=md-nav__link> <span class=md-ellipsis> PCA </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Random%20Forest/ class=md-nav__link> <span class=md-ellipsis> Random Forest </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Support%20Vector%20Machines/ class=md-nav__link> <span class=md-ellipsis> Support Vector Machines </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/Unbalanced%2C%20Skewed%20data/ class=md-nav__link> <span class=md-ellipsis> Unbalanced, Skewed data </span> </a> </li> <li class=md-nav__item> <a href=../../Machine-Learning/kNN/ class=md-nav__link> <span class=md-ellipsis> kNN </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> üë®üèæ‚Äçüíª Online Resources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> üë®üèæ‚Äçüíª Online Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Online-Material/Online-Material-for-Learning/ class=md-nav__link> <span class=md-ellipsis> Online Study Material </span> </a> </li> <li class=md-nav__item> <a href=../../Online-Material/popular-resources/ class=md-nav__link> <span class=md-ellipsis> Popular Blogs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../Contribute/ class=md-nav__link> <span class=md-ellipsis> ü§ù Contribute </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#premium-interview-questions class=md-nav__link> <span class=md-ellipsis> Premium Interview Questions </span> </a> <nav class=md-nav aria-label="Premium Interview Questions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-is-the-global-interpreter-lock-gil-in-python-google-meta-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Global Interpreter Lock (GIL) in Python? - Google, Meta, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-python-decorators-with-examples-google-amazon-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python Decorators with Examples - Google, Amazon, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-args-and-kwargs-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between *args and **kwargs? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-does-python-manage-memory-explain-garbage-collection-google-meta-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> How Does Python Manage Memory? Explain Garbage Collection - Google, Meta, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-deepcopy-and-shallow-copy-google-amazon-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between deepcopy and shallow copy? - Google, Amazon, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-python-generators-when-should-you-use-them-google-amazon-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Python Generators? When Should You Use Them? - Google, Amazon, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-method-resolution-order-mro-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Method Resolution Order (MRO) - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-is-and-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between is and ==? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-context-managers-with-statement-google-amazon-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Context Managers (with statement)? - Google, Amazon, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-handle-exceptions-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Handle Exceptions in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-__init__-vs-__new__-in-python-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What is __init__ vs __new__ in Python? - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-staticmethod-and-classmethod-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between staticmethod and classmethod? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-list-comprehensions-and-when-should-you-use-them-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are List Comprehensions and When Should You Use Them? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-asyncio-in-python-how-does-it-work-google-meta-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> What is Asyncio in Python? How Does It Work? - Google, Meta, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-python-dataclasses-when-should-you-use-them-google-amazon-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Python Dataclasses? When Should You Use Them? - Google, Amazon, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-type-hints-in-python-how-do-you-use-them-google-meta-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Type Hints in Python? How Do You Use Them? - Google, Meta, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-__slots__-in-python-when-and-why-to-use-it-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain __slots__ in Python - When and Why to Use It? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-walrus-operator-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Walrus Operator :=? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-metaclasses-in-python-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Metaclasses in Python? - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-python-descriptors-what-are-__get__-__set__-__delete__-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python Descriptors - What Are __get__, __set__, __delete__? - Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-threading-vs-multiprocessing-in-python-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Threading vs Multiprocessing in Python - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-profile-and-optimize-python-code-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Profile and Optimize Python Code? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-write-unit-tests-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Write Unit Tests in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-handle-files-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Handle Files in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-virtual-environments-and-how-do-you-manage-dependencies-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Virtual Environments and How Do You Manage Dependencies? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-logging-module-how-do-you-use-it-effectively-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Logging Module - How Do You Use It Effectively? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-regular-expressions-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Regular Expressions in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-__name__-__main__-why-use-it-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What is __name__ == "__main__"? Why Use It? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-itertools-how-do-you-use-it-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is itertools? How Do You Use It? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-functools-explain-lru_cache-and-partial-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is functools? Explain lru_cache and partial - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-collections-module-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is the collections Module? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-serialize-python-objects-explain-pickle-and-json-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Serialize Python Objects? Explain pickle and json - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-subprocess-how-do-you-run-shell-commands-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is subprocess? How Do You Run Shell Commands? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-argparse-how-do-you-build-cli-tools-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is argparse? How Do You Build CLI Tools? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-do-you-work-with-datetime-in-python-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> How Do You Work with Datetime in Python? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-difference-between-copy-and-deepcopy-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Difference Between copy and deepcopy? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-heapq-how-do-you-use-priority-queues-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is heapq? How Do You Use Priority Queues? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-bisect-how-do-you-use-binary-search-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is bisect? How Do You Use Binary Search? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-zip-enumerate-map-and-filter-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> Explain zip, enumerate, map, and filter - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-lambda-functions-when-to-use-them-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Lambda Functions? When to Use Them? - Most Tech Companies Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-closures-in-python-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Closures in Python? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-property-decorator-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is the @property Decorator? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-abstract-base-classes-abcs-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What Are Abstract Base Classes (ABCs)? - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-multiprocessingpool-how-do-you-parallelize-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is multiprocessing.Pool? How Do You Parallelize? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-itertoolsgroupby-how-do-you-use-it-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> What is itertools.groupby? How Do You Use It? - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-staticmethod-and-classmethod-most-tech-companies-interview-question class=md-nav__link> <span class=md-ellipsis> What Are @staticmethod and @classmethod? - Most Tech Companies Interview Question </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#quick-reference-100-interview-questions class=md-nav__link> <span class=md-ellipsis> Quick Reference: 100+ Interview Questions </span> </a> </li> <li class=md-nav__item> <a href=#code-examples class=md-nav__link> <span class=md-ellipsis> Code Examples </span> </a> <nav class=md-nav aria-label="Code Examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-decorator-for-timing-functions class=md-nav__link> <span class=md-ellipsis> 1. Decorator for Timing Functions </span> </a> </li> <li class=md-nav__item> <a href=#2-context-manager-for-files class=md-nav__link> <span class=md-ellipsis> 2. Context Manager for Files </span> </a> </li> <li class=md-nav__item> <a href=#3-asynchronous-pattern class=md-nav__link> <span class=md-ellipsis> 3. Asynchronous Pattern </span> </a> </li> <li class=md-nav__item> <a href=#what-are-python-descriptors-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> What are Python Descriptors? - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-args-and-kwargs-amazon-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's *args and **kwargs - Amazon, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#how-does-python-memory-management-work-google-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> How Does Python Memory Management Work? - Google, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-are-python-metaclasses-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> What are Python Metaclasses? - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-decorators-with-multiple-examples-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Decorators with Multiple Examples - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-the-walrus-operator-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> What is the Walrus Operator (:=)? - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-python-context-managers-meta-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python Context Managers - Meta, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-generators-and-yield-google-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Generators and yield - Google, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-python-dataclasses-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python dataclasses - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#what-is-structural-pattern-matching-matchcase-google-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> What is Structural Pattern Matching (match/case)? - Google, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-type-hints-and-typing-module-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Type Hints and typing Module - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-functools-module-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain functools Module - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-itertools-module-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain itertools Module - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-collections-module-meta-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Collections Module - Meta, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-__slots__-for-memory-optimization-google-dropbox-interview-question class=md-nav__link> <span class=md-ellipsis> Explain __slots__ for Memory Optimization - Google, Dropbox Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-multiprocessing-vs-threading-amazon-netflix-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Multiprocessing vs Threading - Amazon, Netflix Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-asyncawait-and-asyncio-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain async/await and asyncio - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-property-decorators-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Property Decorators - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-abstract-base-classes-abc-google-meta-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Abstract Base Classes (ABC) - Google, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-concurrentfutures-module-netflix-meta-interview-question class=md-nav__link> <span class=md-ellipsis> Explain concurrent.futures Module - Netflix, Meta Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-logging-module-amazon-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Logging Module - Amazon, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-pathlib-module-google-dropbox-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's pathlib Module - Google, Dropbox Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-testing-with-pytest-meta-dropbox-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Testing with pytest - Meta, Dropbox Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-f-string-advanced-features-amazon-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain F-string Advanced Features - Amazon, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-protocol-classes-structural-subtyping-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Protocol Classes (Structural Subtyping) - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-operator-overloading-amazon-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Operator Overloading - Amazon, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-classmethod-vs-staticmethod-google-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain classmethod vs staticmethod - Google, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-pythons-import-system-dropbox-amazon-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Python's Import System - Dropbox, Amazon Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-virtual-environments-venv-amazon-dropbox-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Virtual Environments (venv) - Amazon, Dropbox Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-weak-references-weakref-meta-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Weak References (weakref) - Meta, Google Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-exception-handling-best-practices-amazon-microsoft-interview-question class=md-nav__link> <span class=md-ellipsis> Explain Exception Handling Best Practices - Amazon, Microsoft Interview Question </span> </a> </li> <li class=md-nav__item> <a href=#explain-subprocess-module-dropbox-google-interview-question class=md-nav__link> <span class=md-ellipsis> Explain subprocess Module - Dropbox, Google Interview Question </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/singhsidhukuldeep/singhsidhukuldeep.github.io/edit/master/docs/Interview-Questions/Python.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/singhsidhukuldeep/singhsidhukuldeep.github.io/raw/master/docs/Interview-Questions/Python.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=python-interview-questions>Python Interview Questions</h1> <p>This comprehensive guide contains <strong>100+ Python interview questions</strong> commonly asked at top tech companies like Google, Amazon, Meta, Microsoft, and Netflix. Each premium question includes detailed explanations, code examples, and interviewer insights.</p> <hr> <h2 id=premium-interview-questions>Premium Interview Questions</h2> <p>Master these frequently asked Python questions with detailed explanations, code examples, and insights into what interviewers really look for.</p> <hr> <h3 id=what-is-the-global-interpreter-lock-gil-in-python-google-meta-amazon-interview-question>What is the Global Interpreter Lock (GIL) in Python? - Google, Meta, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Internals</code>, <code>Concurrency</code>, <code>Performance</code> | <strong>Asked by:</strong> Google, Meta, Amazon, Apple, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong>What is the GIL?</strong></p> <p>The Global Interpreter Lock is a mutex (lock) that protects access to Python objects, preventing multiple threads from executing Python bytecode simultaneously in CPython.</p> <p><strong>Why Does It Exist?</strong></p> <ul> <li>CPython's memory management (reference counting) is not thread-safe</li> <li>Without GIL, race conditions would corrupt object reference counts</li> <li>Simplifies the implementation of CPython</li> </ul> <p><strong>Impact on Performance:</strong></p> <table> <thead> <tr> <th>Task Type</th> <th>Impact</th> <th>Solution</th> </tr> </thead> <tbody> <tr> <td>CPU-bound</td> <td>Significant slowdown</td> <td>Use <code>multiprocessing</code></td> </tr> <tr> <td>I/O-bound</td> <td>Minimal impact</td> <td><code>threading</code> works fine</td> </tr> <tr> <td>C extensions</td> <td>Can release GIL</td> <td>NumPy, Pandas are efficient</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>threading</span>
<span class=kn>import</span><span class=w> </span><span class=nn>multiprocessing</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=k>def</span><span class=w> </span><span class=nf>cpu_bound_task</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;CPU-intensive calculation&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=n>i</span><span class=o>*</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>))</span>

<span class=c1># Threading (limited by GIL for CPU-bound)</span>
<span class=k>def</span><span class=w> </span><span class=nf>run_threaded</span><span class=p>():</span>
    <span class=n>threads</span> <span class=o>=</span> <span class=p>[</span><span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>cpu_bound_task</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=mi>10</span><span class=o>**</span><span class=mi>7</span><span class=p>,))</span> 
               <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>)]</span>
    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span> <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Threaded: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>  <span class=c1># ~4s (no parallelism)</span>

<span class=c1># Multiprocessing (bypasses GIL)</span>
<span class=k>def</span><span class=w> </span><span class=nf>run_multiprocess</span><span class=p>():</span>
    <span class=k>with</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Pool</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>pool</span><span class=p>:</span>
        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
        <span class=n>pool</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>cpu_bound_task</span><span class=p>,</span> <span class=p>[</span><span class=mi>10</span><span class=o>**</span><span class=mi>7</span><span class=p>]</span><span class=o>*</span><span class=mi>4</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Multiprocess: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>  <span class=c1># ~1s (true parallelism)</span>

<span class=c1># For I/O-bound, asyncio is often best</span>
<span class=kn>import</span><span class=w> </span><span class=nn>asyncio</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>io_bound_task</span><span class=p>():</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># Simulates I/O wait</span>
    <span class=k>return</span> <span class=s2>&quot;done&quot;</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>run_async</span><span class=p>():</span>
    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=p>[</span><span class=n>io_bound_task</span><span class=p>()</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>)])</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Async: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>  <span class=c1># ~1s (concurrent I/O)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Deep understanding of Python internals and concurrency.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows GIL only affects CPython (not Jython, PyPy with STM)</li> <li>Can explain reference counting and why GIL exists</li> <li>Gives practical solutions: multiprocessing, asyncio, C extensions</li> <li>Mentions upcoming work: "Python 3.12+ has per-interpreter GIL, free-threading in 3.13"</li> </ul> </div> </details> <hr> <h3 id=explain-python-decorators-with-examples-google-amazon-netflix-interview-question>Explain Python Decorators with Examples - Google, Amazon, Netflix Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Functions</code>, <code>Advanced</code>, <code>Metaprogramming</code> | <strong>Asked by:</strong> Google, Amazon, Netflix, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>What Are Decorators?</strong></p> <p>Decorators are functions that modify the behavior of other functions or classes without changing their source code. They're a form of metaprogramming.</p> <p><strong>Basic Syntax:</strong></p> <div class=highlight><pre><span></span><code><span class=nd>@decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>function</span><span class=p>():</span>
    <span class=k>pass</span>

<span class=c1># Equivalent to:</span>
<span class=n>function</span> <span class=o>=</span> <span class=n>decorator</span><span class=p>(</span><span class=n>function</span><span class=p>)</span>
</code></pre></div> <p><strong>Common Use Cases:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>functools</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=c1># 1. Timing Decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>timer</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>  <span class=c1># Preserves function metadata</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> took </span><span class=si>{</span><span class=n>end</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@timer</span>
<span class=k>def</span><span class=w> </span><span class=nf>slow_function</span><span class=p>():</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
    <span class=k>return</span> <span class=s2>&quot;done&quot;</span>

<span class=c1># 2. Memoization (Caching)</span>
<span class=k>def</span><span class=w> </span><span class=nf>memoize</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=n>cache</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>args</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>cache</span><span class=p>:</span>
            <span class=n>cache</span><span class=p>[</span><span class=n>args</span><span class=p>]</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>cache</span><span class=p>[</span><span class=n>args</span><span class=p>]</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@memoize</span>  <span class=c1># Or use @functools.lru_cache(maxsize=128)</span>
<span class=k>def</span><span class=w> </span><span class=nf>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>n</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>n</span>
    <span class=k>return</span> <span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>

<span class=c1># 3. Decorator with Arguments</span>
<span class=k>def</span><span class=w> </span><span class=nf>repeat</span><span class=p>(</span><span class=n>times</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>times</span><span class=p>):</span>
                <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>result</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=nd>@repeat</span><span class=p>(</span><span class=n>times</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Hello </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 4. Class-based Decorator</span>
<span class=k>class</span><span class=w> </span><span class=nc>CountCalls</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func</span><span class=p>):</span>
        <span class=n>functools</span><span class=o>.</span><span class=n>update_wrapper</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>func</span> <span class=o>=</span> <span class=n>func</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

<span class=nd>@CountCalls</span>
<span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Hello!&quot;</span><span class=p>)</span>

<span class=n>say_hello</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Called </span><span class=si>{</span><span class=n>say_hello</span><span class=o>.</span><span class=n>count</span><span class=si>}</span><span class=s2> times&quot;</span><span class=p>)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of higher-order functions and Python idioms.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Always uses <code>@functools.wraps</code> (preserves <code>__name__</code>, <code>__doc__</code>)</li> <li>Can write decorators with and without arguments</li> <li>Knows built-in decorators: <code>@property</code>, <code>@staticmethod</code>, <code>@classmethod</code></li> <li>Mentions real use cases: logging, authentication, rate limiting</li> </ul> </div> </details> <hr> <h3 id=what-is-the-difference-between-args-and-kwargs-most-tech-companies-interview-question>What is the Difference Between <code>*args</code> and <code>**kwargs</code>? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Functions</code>, <code>Basics</code>, <code>Syntax</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong>The Basics:</strong></p> <ul> <li><code>*args</code>: Collects positional arguments into a <strong>tuple</strong></li> <li><code>**kwargs</code>: Collects keyword arguments into a <strong>dictionary</strong></li> </ul> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>demo</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;args (tuple): </span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;kwargs (dict): </span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>demo</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span>
<span class=c1># args (tuple): (1, 2, 3)</span>
<span class=c1># kwargs (dict): {&#39;name&#39;: &#39;Alice&#39;, &#39;age&#39;: 30}</span>
</code></pre></div> <p><strong>Order Matters:</strong></p> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>function</span><span class=p>(</span><span class=n>regular</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=n>keyword_only</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=c1># Call: function(1, 2, 3, keyword_only=&quot;required&quot;, extra=&quot;optional&quot;)</span>
</code></pre></div> <p><strong>Practical Use Cases:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Wrapper functions (decorators)</span>
<span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>inner</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Before&quot;</span><span class=p>)</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>  <span class=c1># Pass all args through</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;After&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>inner</span>

<span class=c1># 2. Unpacking for function calls</span>
<span class=k>def</span><span class=w> </span><span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>city</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>age</span><span class=si>}</span><span class=s2>, from </span><span class=si>{</span><span class=n>city</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>data</span> <span class=o>=</span> <span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s2>&quot;NYC&quot;</span><span class=p>)</span>
<span class=n>greet</span><span class=p>(</span><span class=o>*</span><span class=n>data</span><span class=p>)</span>  <span class=c1># Unpacks tuple</span>

<span class=n>info</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Bob&quot;</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span> <span class=s2>&quot;city&quot;</span><span class=p>:</span> <span class=s2>&quot;LA&quot;</span><span class=p>}</span>
<span class=n>greet</span><span class=p>(</span><span class=o>**</span><span class=n>info</span><span class=p>)</span>  <span class=c1># Unpacks dict</span>

<span class=c1># 3. Combining dictionaries (Python 3.5+)</span>
<span class=n>defaults</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;theme&quot;</span><span class=p>:</span> <span class=s2>&quot;dark&quot;</span><span class=p>,</span> <span class=s2>&quot;lang&quot;</span><span class=p>:</span> <span class=s2>&quot;en&quot;</span><span class=p>}</span>
<span class=n>overrides</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;theme&quot;</span><span class=p>:</span> <span class=s2>&quot;light&quot;</span><span class=p>}</span>
<span class=n>settings</span> <span class=o>=</span> <span class=p>{</span><span class=o>**</span><span class=n>defaults</span><span class=p>,</span> <span class=o>**</span><span class=n>overrides</span><span class=p>}</span>  <span class=c1># {&#39;theme&#39;: &#39;light&#39;, &#39;lang&#39;: &#39;en&#39;}</span>

<span class=c1># 4. Forcing keyword-only arguments</span>
<span class=k>def</span><span class=w> </span><span class=nf>api_call</span><span class=p>(</span><span class=n>endpoint</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s2>&quot;GET&quot;</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>30</span><span class=p>):</span>
    <span class=c1># method and timeout MUST be passed as keywords</span>
    <span class=k>pass</span>

<span class=n>api_call</span><span class=p>(</span><span class=s2>&quot;/users&quot;</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s2>&quot;POST&quot;</span><span class=p>)</span>  <span class=c1># Valid</span>
<span class=c1># api_call(&quot;/users&quot;, &quot;POST&quot;)  # TypeError!</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Basic Python fluency.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows the names are convention (<code>*args</code>, <code>**kwargs</code>), asterisks matter</li> <li>Can show argument unpacking (<code>*</code> and <code>**</code> in function calls)</li> <li>Mentions keyword-only arguments (after <code>*</code>)</li> <li>Gives practical example: "I use this in decorators to pass through all arguments"</li> </ul> </div> </details> <hr> <h3 id=how-does-python-manage-memory-explain-garbage-collection-google-meta-netflix-interview-question>How Does Python Manage Memory? Explain Garbage Collection - Google, Meta, Netflix Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Internals</code>, <code>Memory</code>, <code>Garbage Collection</code> | <strong>Asked by:</strong> Google, Meta, Netflix, Amazon, Spotify</p> <details class=success> <summary>View Answer</summary> <p><strong>Python's Memory Management:</strong></p> <p>Python uses a private heap to store all objects. Memory management is handled by:</p> <ol> <li><strong>Reference Counting</strong> (Main mechanism)</li> <li><strong>Garbage Collector</strong> (For cyclic references)</li> </ol> <p><strong>Reference Counting:</strong></p> <p>Every object has a reference count. When count ‚Üí 0, memory is freed immediately.</p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>sys</span>

<span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>  <span class=c1># 2 (a + getrefcount&#39;s reference)</span>

<span class=n>b</span> <span class=o>=</span> <span class=n>a</span>  <span class=c1># Reference count increases</span>
<span class=nb>print</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>  <span class=c1># 3</span>

<span class=k>del</span> <span class=n>b</span>  <span class=c1># Reference count decreases</span>
<span class=nb>print</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>  <span class=c1># 2</span>
</code></pre></div> <p><strong>The Problem: Cyclic References</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Reference counting can&#39;t handle cycles</span>
<span class=k>class</span><span class=w> </span><span class=nc>Node</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>children</span> <span class=o>=</span> <span class=p>[]</span>

<span class=c1># Create a cycle</span>
<span class=n>parent</span> <span class=o>=</span> <span class=n>Node</span><span class=p>()</span>
<span class=n>child</span> <span class=o>=</span> <span class=n>Node</span><span class=p>()</span>
<span class=n>parent</span><span class=o>.</span><span class=n>children</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>child</span><span class=p>)</span>
<span class=n>child</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>  <span class=c1># Cycle: parent ‚Üî child</span>

<span class=k>del</span> <span class=n>parent</span><span class=p>,</span> <span class=n>child</span>  <span class=c1># Objects still exist! (cycle keeps refcount &gt; 0)</span>
</code></pre></div> <p><strong>Generational Garbage Collector:</strong></p> <p>Python's GC uses 3 generations based on object age:</p> <table> <thead> <tr> <th>Generation</th> <th>Contains</th> <th>Collection Frequency</th> </tr> </thead> <tbody> <tr> <td>0</td> <td>New objects</td> <td>Most frequent</td> </tr> <tr> <td>1</td> <td>Survived gen 0</td> <td>Less frequent</td> </tr> <tr> <td>2</td> <td>Long-lived</td> <td>Least frequent</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>gc</span>

<span class=c1># Manual GC control</span>
<span class=n>gc</span><span class=o>.</span><span class=n>collect</span><span class=p>()</span>  <span class=c1># Force collection of all generations</span>
<span class=n>gc</span><span class=o>.</span><span class=n>collect</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>  <span class=c1># Only generation 0</span>

<span class=c1># Check GC thresholds</span>
<span class=nb>print</span><span class=p>(</span><span class=n>gc</span><span class=o>.</span><span class=n>get_threshold</span><span class=p>())</span>  <span class=c1># (700, 10, 10)</span>
<span class=c1># After 700 gen-0 allocations, collect gen 0</span>
<span class=c1># After 10 gen-0 collections, collect gen 1</span>

<span class=c1># Disable GC (for performance in specific scenarios)</span>
<span class=n>gc</span><span class=o>.</span><span class=n>disable</span><span class=p>()</span>  <span class=c1># Be careful!</span>
</code></pre></div> <p><strong>Memory Optimization Tips:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Use __slots__ to reduce memory</span>
<span class=k>class</span><span class=w> </span><span class=nc>Point</span><span class=p>:</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>]</span>  <span class=c1># No __dict__, saves ~40%</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=c1># Use generators for large sequences</span>
<span class=k>def</span><span class=w> </span><span class=nf>squares</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
        <span class=k>yield</span> <span class=n>i</span> <span class=o>*</span> <span class=n>i</span>  <span class=c1># Memory: O(1) instead of O(n)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Deep Python internals knowledge.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Explains both reference counting AND generational GC</li> <li>Knows cyclic references require GC (refcount alone won't work)</li> <li>Can discuss <code>__slots__</code>, <code>weakref</code> for memory optimization</li> <li>Mentions debugging: <code>gc.get_objects()</code>, <code>tracemalloc</code> module</li> </ul> </div> </details> <hr> <h3 id=what-is-the-difference-between-deepcopy-and-shallow-copy-google-amazon-meta-interview-question>What is the Difference Between <code>deepcopy</code> and <code>shallow copy</code>? - Google, Amazon, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Objects</code>, <code>Memory</code>, <code>Data Structures</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>The Core Difference:</strong></p> <table> <thead> <tr> <th>Copy Type</th> <th>Nested Objects</th> <th>Memory</th> </tr> </thead> <tbody> <tr> <td>Shallow</td> <td>Shared (references)</td> <td>Less</td> </tr> <tr> <td>Deep</td> <td>New copies</td> <td>More</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>copy</span>

<span class=n>original</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]]</span>

<span class=c1># Shallow copy - nested lists are SHARED</span>
<span class=n>shallow</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>copy</span><span class=p>(</span><span class=n>original</span><span class=p>)</span>
<span class=n>shallow</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>999</span>
<span class=nb>print</span><span class=p>(</span><span class=n>original</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>])</span>  <span class=c1># 999 - Original is affected!</span>

<span class=c1># Deep copy - everything is copied</span>
<span class=n>original</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]]</span>
<span class=n>deep</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=n>original</span><span class=p>)</span>
<span class=n>deep</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>999</span>
<span class=nb>print</span><span class=p>(</span><span class=n>original</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>])</span>  <span class=c1># 1 - Original is NOT affected</span>
</code></pre></div> <p><strong>Visual Representation:</strong></p> <div class=highlight><pre><span></span><code>Shallow Copy:
original ‚îÄ‚îÄ‚Üí [ptr1, ptr2]
               ‚Üì      ‚Üì
shallow  ‚îÄ‚îÄ‚Üí [ptr1, ptr2]  (same pointers!)
               ‚Üì      ‚Üì
            [1,2,3] [4,5,6]

Deep Copy:
original ‚îÄ‚îÄ‚Üí [ptr1, ptr2]
               ‚Üì      ‚Üì
            [1,2,3] [4,5,6]

deep     ‚îÄ‚îÄ‚Üí [ptr3, ptr4]  (different pointers!)
               ‚Üì      ‚Üì
            [1,2,3] [4,5,6]  (new objects)
</code></pre></div> <p><strong>Common Ways to Copy:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Shallow copies</span>
<span class=n>list2</span> <span class=o>=</span> <span class=n>list1</span><span class=p>[:]</span>           <span class=c1># Slice</span>
<span class=n>list2</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>        <span class=c1># Constructor</span>
<span class=n>list2</span> <span class=o>=</span> <span class=n>list1</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>       <span class=c1># Method</span>
<span class=n>list2</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>copy</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>   <span class=c1># copy module</span>

<span class=n>dict2</span> <span class=o>=</span> <span class=n>dict1</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>       <span class=c1># Method</span>
<span class=n>dict2</span> <span class=o>=</span> <span class=p>{</span><span class=o>**</span><span class=n>dict1</span><span class=p>}</span>          <span class=c1># Unpacking</span>

<span class=c1># Deep copy</span>
<span class=n>deep</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=n>original</span><span class=p>)</span>

<span class=c1># Custom deep copy behavior</span>
<span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>__deepcopy__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>memo</span><span class=p>):</span>
        <span class=c1># Custom logic here</span>
        <span class=k>return</span> <span class=n>MyClass</span><span class=p>(</span><span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>memo</span><span class=p>))</span>
</code></pre></div> <p><strong>When to Use Which:</strong></p> <table> <thead> <tr> <th>Scenario</th> <th>Use</th> </tr> </thead> <tbody> <tr> <td>Flat data structures</td> <td>Shallow</td> </tr> <tr> <td>Nested mutable objects</td> <td>Deep</td> </tr> <tr> <td>Performance critical</td> <td>Shallow + be careful</td> </tr> <tr> <td>Immutable nested data</td> <td>Shallow (safe)</td> </tr> </tbody> </table> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of Python's object model.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Can draw memory diagrams showing shared references</li> <li>Knows list slicing <code>[:]</code> is shallow, not deep</li> <li>Mentions immutable objects don't need copying</li> <li>Knows <code>deepcopy</code> handles cycles (uses memo dict)</li> </ul> </div> </details> <hr> <h3 id=what-are-python-generators-when-should-you-use-them-google-amazon-netflix-interview-question>What Are Python Generators? When Should You Use Them? - Google, Amazon, Netflix Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Iterators</code>, <code>Memory</code>, <code>Performance</code> | <strong>Asked by:</strong> Google, Amazon, Netflix, Meta, Apple</p> <details class=success> <summary>View Answer</summary> <p><strong>What Are Generators?</strong></p> <p>Generators are functions that return an iterator and yield values one at a time, maintaining state between calls. They're memory-efficient for large sequences.</p> <p><strong>Why Use Generators:</strong></p> <table> <thead> <tr> <th>List</th> <th>Generator</th> </tr> </thead> <tbody> <tr> <td>All items in memory</td> <td>One item at a time</td> </tr> <tr> <td>O(n) memory</td> <td>O(1) memory</td> </tr> <tr> <td>Can iterate multiple times</td> <td>Single-use (exhausted)</td> </tr> <tr> <td>Random access</td> <td>Sequential only</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=c1># Generator Function (uses yield)</span>
<span class=k>def</span><span class=w> </span><span class=nf>count_up_to</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span>
    <span class=k>while</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>i</span>  <span class=c1># Pauses here, resumes on next()</span>
        <span class=n>i</span> <span class=o>+=</span> <span class=mi>1</span>

<span class=n>gen</span> <span class=o>=</span> <span class=n>count_up_to</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># 1</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># 2</span>
<span class=c1># Or iterate</span>
<span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>count_up_to</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>

<span class=c1># Generator Expression (like list comprehension)</span>
<span class=n>squares_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000000</span><span class=p>)]</span>  <span class=c1># 8MB in memory</span>
<span class=n>squares_gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000000</span><span class=p>))</span>   <span class=c1># ~128 bytes!</span>

<span class=c1># Practical Example: Reading Large Files</span>
<span class=k>def</span><span class=w> </span><span class=nf>read_large_file</span><span class=p>(</span><span class=n>file_path</span><span class=p>):</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>  <span class=c1># Already a generator!</span>
            <span class=k>yield</span> <span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>

<span class=c1># Process 1TB file with constant memory</span>
<span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>read_large_file</span><span class=p>(</span><span class=s2>&quot;huge_file.txt&quot;</span><span class=p>):</span>
    <span class=n>process</span><span class=p>(</span><span class=n>line</span><span class=p>)</span>

<span class=c1># Chaining Generators (Pipeline)</span>
<span class=k>def</span><span class=w> </span><span class=nf>parse_lines</span><span class=p>(</span><span class=n>lines</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>filter_valid</span><span class=p>(</span><span class=n>records</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>record</span> <span class=ow>in</span> <span class=n>records</span><span class=p>:</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>record</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
            <span class=k>yield</span> <span class=n>record</span>

<span class=c1># Lazy pipeline - nothing executes until iterated</span>
<span class=n>pipeline</span> <span class=o>=</span> <span class=n>filter_valid</span><span class=p>(</span><span class=n>parse_lines</span><span class=p>(</span><span class=n>read_large_file</span><span class=p>(</span><span class=s2>&quot;data.csv&quot;</span><span class=p>)))</span>
<span class=k>for</span> <span class=n>record</span> <span class=ow>in</span> <span class=n>pipeline</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>record</span><span class=p>)</span>
</code></pre></div> <p><strong>Advanced: <code>yield from</code> and <code>send()</code></strong></p> <div class=highlight><pre><span></span><code><span class=c1># Delegate to sub-generator</span>
<span class=k>def</span><span class=w> </span><span class=nf>chain</span><span class=p>(</span><span class=o>*</span><span class=n>iterables</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>it</span> <span class=ow>in</span> <span class=n>iterables</span><span class=p>:</span>
        <span class=k>yield from</span> <span class=n>it</span>  <span class=c1># Equivalent to: for x in it: yield x</span>

<span class=nb>list</span><span class=p>(</span><span class=n>chain</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]))</span>  <span class=c1># [1, 2, 3, 4]</span>

<span class=c1># Two-way communication with send()</span>
<span class=k>def</span><span class=w> </span><span class=nf>accumulator</span><span class=p>():</span>
    <span class=n>total</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>value</span> <span class=o>=</span> <span class=k>yield</span> <span class=n>total</span>
        <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>total</span> <span class=o>+=</span> <span class=n>value</span>

<span class=n>acc</span> <span class=o>=</span> <span class=n>accumulator</span><span class=p>()</span>
<span class=nb>next</span><span class=p>(</span><span class=n>acc</span><span class=p>)</span>  <span class=c1># Initialize</span>
<span class=nb>print</span><span class=p>(</span><span class=n>acc</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>  <span class=c1># 10</span>
<span class=nb>print</span><span class=p>(</span><span class=n>acc</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>   <span class=c1># 15</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of lazy evaluation and memory efficiency.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Compares memory: list vs generator for large data</li> <li>Knows files are already generators (line by line)</li> <li>Can explain <code>yield from</code> for sub-generators</li> <li>Mentions use cases: ETL pipelines, infinite sequences, streaming</li> </ul> </div> </details> <hr> <h3 id=explain-pythons-method-resolution-order-mro-google-meta-interview-question>Explain Python's Method Resolution Order (MRO) - Google, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>OOP</code>, <code>Inheritance</code>, <code>Internals</code> | <strong>Asked by:</strong> Google, Meta, Amazon, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>What is MRO?</strong></p> <p>Method Resolution Order determines the order in which base classes are searched when looking for a method. Python uses the <strong>C3 Linearization</strong> algorithm.</p> <p><strong>The Diamond Problem:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>A</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>method</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>B</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>method</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;B&quot;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>C</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>method</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;C&quot;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>D</span><span class=p>(</span><span class=n>B</span><span class=p>,</span> <span class=n>C</span><span class=p>):</span>  <span class=c1># Diamond inheritance</span>
    <span class=k>pass</span>

<span class=n>d</span> <span class=o>=</span> <span class=n>D</span><span class=p>()</span>
<span class=n>d</span><span class=o>.</span><span class=n>method</span><span class=p>()</span>  <span class=c1># Prints &quot;B&quot; - but why?</span>

<span class=c1># Check the MRO</span>
<span class=nb>print</span><span class=p>(</span><span class=n>D</span><span class=o>.</span><span class=vm>__mro__</span><span class=p>)</span>
<span class=c1># (&lt;class &#39;D&#39;&gt;, &lt;class &#39;B&#39;&gt;, &lt;class &#39;C&#39;&gt;, &lt;class &#39;A&#39;&gt;, &lt;class &#39;object&#39;&gt;)</span>
</code></pre></div> <p><strong>C3 Linearization Rules:</strong></p> <ol> <li>Children come before parents</li> <li>Parents order is preserved (left to right)</li> <li>Common parent appears only once, after all children</li> </ol> <p><strong>Using <code>super()</code> Correctly:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>A</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;A init&quot;</span><span class=p>)</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>

<span class=k>class</span><span class=w> </span><span class=nc>B</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;B init&quot;</span><span class=p>)</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>

<span class=k>class</span><span class=w> </span><span class=nc>C</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;C init&quot;</span><span class=p>)</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>

<span class=k>class</span><span class=w> </span><span class=nc>D</span><span class=p>(</span><span class=n>B</span><span class=p>,</span> <span class=n>C</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;D init&quot;</span><span class=p>)</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>

<span class=n>d</span> <span class=o>=</span> <span class=n>D</span><span class=p>()</span>
<span class=c1># Output:</span>
<span class=c1># D init</span>
<span class=c1># B init</span>
<span class=c1># C init</span>
<span class=c1># A init</span>

<span class=c1># super() follows MRO, not just parent class!</span>
</code></pre></div> <p><strong>Practical Implications:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Mixins should use super() to play nice with MRO</span>
<span class=k>class</span><span class=w> </span><span class=nc>LoggingMixin</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Saving </span><span class=si>{</span><span class=bp>self</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>  <span class=c1># Calls next in MRO</span>

<span class=k>class</span><span class=w> </span><span class=nc>TimestampMixin</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>updated_at</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>

<span class=k>class</span><span class=w> </span><span class=nc>Model</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Saved to database&quot;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>(</span><span class=n>LoggingMixin</span><span class=p>,</span> <span class=n>TimestampMixin</span><span class=p>,</span> <span class=n>Model</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=n>user</span> <span class=o>=</span> <span class=n>User</span><span class=p>()</span>
<span class=n>user</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
<span class=c1># Saving &lt;User&gt;</span>
<span class=c1># (sets updated_at)</span>
<span class=c1># Saved to database</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of Python's object model and multiple inheritance.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Can explain C3 linearization (children first, left-to-right)</li> <li>Knows <code>super()</code> follows MRO, not just immediate parent</li> <li>Mentions the diamond problem by name</li> <li>Gives practical example: mixins using <code>super()</code></li> </ul> </div> </details> <hr> <h3 id=what-is-the-difference-between-is-and-most-tech-companies-interview-question>What is the Difference Between <code>is</code> and <code>==</code>? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Operators</code>, <code>Identity</code>, <code>Equality</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft, Apple</p> <details class=success> <summary>View Answer</summary> <p><strong>The Core Difference:</strong></p> <table> <thead> <tr> <th>Operator</th> <th>Compares</th> <th>Question</th> </tr> </thead> <tbody> <tr> <td><code>==</code></td> <td>Value/Equality</td> <td>Do they have the same content?</td> </tr> <tr> <td><code>is</code></td> <td>Identity</td> <td>Are they the same object in memory?</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
<span class=n>b</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
<span class=n>c</span> <span class=o>=</span> <span class=n>a</span>

<span class=nb>print</span><span class=p>(</span><span class=n>a</span> <span class=o>==</span> <span class=n>b</span><span class=p>)</span>  <span class=c1># True (same values)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>a</span> <span class=ow>is</span> <span class=n>b</span><span class=p>)</span>  <span class=c1># False (different objects)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>a</span> <span class=ow>is</span> <span class=n>c</span><span class=p>)</span>  <span class=c1># True (same object)</span>

<span class=c1># Check with id()</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>a</span><span class=p>),</span> <span class=nb>id</span><span class=p>(</span><span class=n>b</span><span class=p>),</span> <span class=nb>id</span><span class=p>(</span><span class=n>c</span><span class=p>))</span>
<span class=c1># 140234... 140235... 140234...  (a and c share id)</span>
</code></pre></div> <p><strong>Python's Integer Caching (Gotcha!):</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Small integers (-5 to 256) are cached</span>
<span class=n>a</span> <span class=o>=</span> <span class=mi>256</span>
<span class=n>b</span> <span class=o>=</span> <span class=mi>256</span>
<span class=nb>print</span><span class=p>(</span><span class=n>a</span> <span class=ow>is</span> <span class=n>b</span><span class=p>)</span>  <span class=c1># True (cached!)</span>

<span class=n>a</span> <span class=o>=</span> <span class=mi>257</span>
<span class=n>b</span> <span class=o>=</span> <span class=mi>257</span>
<span class=nb>print</span><span class=p>(</span><span class=n>a</span> <span class=ow>is</span> <span class=n>b</span><span class=p>)</span>  <span class=c1># False (not cached)</span>

<span class=c1># String interning (similar behavior)</span>
<span class=n>s1</span> <span class=o>=</span> <span class=s2>&quot;hello&quot;</span>
<span class=n>s2</span> <span class=o>=</span> <span class=s2>&quot;hello&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>s1</span> <span class=ow>is</span> <span class=n>s2</span><span class=p>)</span>  <span class=c1># True (interned)</span>

<span class=n>s1</span> <span class=o>=</span> <span class=s2>&quot;hello world!&quot;</span>
<span class=n>s2</span> <span class=o>=</span> <span class=s2>&quot;hello world!&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>s1</span> <span class=ow>is</span> <span class=n>s2</span><span class=p>)</span>  <span class=c1># False (not interned - has space/special chars)</span>
</code></pre></div> <p><strong>When to Use Which:</strong></p> <table> <thead> <tr> <th>Use Case</th> <th>Operator</th> </tr> </thead> <tbody> <tr> <td>Compare values</td> <td><code>==</code> (almost always)</td> </tr> <tr> <td>Check for <code>None</code></td> <td><code>is</code> (<code>if x is None</code>)</td> </tr> <tr> <td>Check for singletons</td> <td><code>is</code> (True, False, None)</td> </tr> <tr> <td>Compare object identity</td> <td><code>is</code> (rare)</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=c1># Correct: Use &#39;is&#39; for None</span>
<span class=k>if</span> <span class=n>result</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;No result&quot;</span><span class=p>)</span>

<span class=c1># Correct: Use &#39;is&#39; for True/False in rare cases</span>
<span class=k>if</span> <span class=n>flag</span> <span class=ow>is</span> <span class=kc>True</span><span class=p>:</span>  <span class=c1># Stricter than &#39;if flag:&#39;</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Explicitly True, not just truthy&quot;</span><span class=p>)</span>

<span class=c1># Wrong: Don&#39;t use &#39;is&#39; for string/number comparison</span>
<span class=k>if</span> <span class=n>name</span> <span class=ow>is</span> <span class=s2>&quot;John&quot;</span><span class=p>:</span>  <span class=c1># Bad! Use ==</span>
    <span class=k>pass</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of Python's object model.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Immediately mentions identity vs equality</li> <li>Knows about integer caching (-5 to 256)</li> <li>Correctly states: "Use <code>is</code> for <code>None</code>, <code>==</code> for everything else"</li> <li>Can explain why <code>is</code> works for small integers</li> </ul> </div> </details> <hr> <h3 id=what-are-context-managers-with-statement-google-amazon-netflix-interview-question>What Are Context Managers (<code>with</code> statement)? - Google, Amazon, Netflix Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Resource Management</code>, <code>Context Managers</code>, <code>Best Practices</code> | <strong>Asked by:</strong> Google, Amazon, Netflix, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>What Are Context Managers?</strong></p> <p>Context managers ensure proper acquisition and release of resources (files, locks, connections) using the <code>with</code> statement. They guarantee cleanup even if exceptions occur.</p> <p><strong>The Protocol:</strong></p> <div class=highlight><pre><span></span><code><span class=k>with</span> <span class=n>expression</span> <span class=k>as</span> <span class=n>variable</span><span class=p>:</span>
    <span class=c1># code block</span>

<span class=c1># Equivalent to:</span>
<span class=n>manager</span> <span class=o>=</span> <span class=n>expression</span>
<span class=n>variable</span> <span class=o>=</span> <span class=n>manager</span><span class=o>.</span><span class=fm>__enter__</span><span class=p>()</span>
<span class=k>try</span><span class=p>:</span>
    <span class=c1># code block</span>
<span class=k>finally</span><span class=p>:</span>
    <span class=n>manager</span><span class=o>.</span><span class=fm>__exit__</span><span class=p>(</span><span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>)</span>
</code></pre></div> <p><strong>Common Built-in Context Managers:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># File handling</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;file.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>content</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
<span class=c1># File automatically closed, even if exception</span>

<span class=c1># Thread locks</span>
<span class=kn>import</span><span class=w> </span><span class=nn>threading</span>
<span class=n>lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Lock</span><span class=p>()</span>
<span class=k>with</span> <span class=n>lock</span><span class=p>:</span>
    <span class=c1># Critical section</span>
    <span class=k>pass</span>

<span class=c1># Database connections</span>
<span class=k>with</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=s1>&#39;db.sqlite&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
    <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;SELECT * FROM users&quot;</span><span class=p>)</span>
<span class=c1># Connection closed automatically</span>
</code></pre></div> <p><strong>Creating Custom Context Managers:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Method 1: Class-based</span>
<span class=k>class</span><span class=w> </span><span class=nc>Timer</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__enter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__exit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>elapsed</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>start</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Elapsed: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>  <span class=c1># Don&#39;t suppress exceptions</span>

<span class=k>with</span> <span class=n>Timer</span><span class=p>()</span> <span class=k>as</span> <span class=n>t</span><span class=p>:</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=c1># Prints: Elapsed: 1.00XXs</span>

<span class=c1># Method 2: Using contextlib (simpler)</span>
<span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>contextmanager</span>

<span class=nd>@contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>timer</span><span class=p>():</span>
    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>yield</span>  <span class=c1># Code inside &#39;with&#39; block runs here</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=n>elapsed</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Elapsed: </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=k>with</span> <span class=n>timer</span><span class=p>():</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>

<span class=c1># Method 3: Suppress specific exceptions</span>
<span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>suppress</span>

<span class=k>with</span> <span class=n>suppress</span><span class=p>(</span><span class=ne>FileNotFoundError</span><span class=p>):</span>
    <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=s1>&#39;nonexistent.txt&#39;</span><span class=p>)</span>
<span class=c1># No error raised!</span>
</code></pre></div> <p><strong>Exception Handling in <code>__exit__</code>:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>SuppressError</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__enter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__exit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>exc_type</span> <span class=ow>is</span> <span class=ne>ValueError</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Suppressed: </span><span class=si>{</span><span class=n>exc_val</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=k>return</span> <span class=kc>True</span>  <span class=c1># Suppress the exception</span>
        <span class=k>return</span> <span class=kc>False</span>  <span class=c1># Re-raise other exceptions</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of resource management and Python idioms.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows <code>__enter__</code> and <code>__exit__</code> methods</li> <li>Can use <code>@contextmanager</code> decorator for simple cases</li> <li>Mentions exception suppression (<code>return True</code> in <code>__exit__</code>)</li> <li>Gives practical examples: file handling, database connections, timing</li> </ul> </div> </details> <hr> <h3 id=how-do-you-handle-exceptions-in-python-most-tech-companies-interview-question>How Do You Handle Exceptions in Python? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Error Handling</code>, <code>Exceptions</code>, <code>Best Practices</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong>Basic Exception Handling:</strong></p> <div class=highlight><pre><span></span><code><span class=k>try</span><span class=p>:</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>risky_operation</span><span class=p>()</span>
<span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Value error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=k>except</span> <span class=p>(</span><span class=ne>TypeError</span><span class=p>,</span> <span class=ne>KeyError</span><span class=p>)</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Type or Key error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unexpected error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>raise</span>  <span class=c1># Re-raise after logging</span>
<span class=k>else</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Success! No exceptions occurred&quot;</span><span class=p>)</span>
<span class=k>finally</span><span class=p>:</span>
    <span class=n>cleanup</span><span class=p>()</span>  <span class=c1># Always runs</span>
</code></pre></div> <p><strong>Exception Hierarchy (Partial):</strong></p> <div class=highlight><pre><span></span><code>BaseException
‚îú‚îÄ‚îÄ SystemExit
‚îú‚îÄ‚îÄ KeyboardInterrupt
‚îî‚îÄ‚îÄ Exception
    ‚îú‚îÄ‚îÄ ValueError
    ‚îú‚îÄ‚îÄ TypeError
    ‚îú‚îÄ‚îÄ KeyError
    ‚îú‚îÄ‚îÄ IndexError
    ‚îú‚îÄ‚îÄ FileNotFoundError
    ‚îî‚îÄ‚îÄ ...
</code></pre></div> <p><strong>Best Practices:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># ‚úÖ Catch specific exceptions</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>user_input</span><span class=p>)</span>
<span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Invalid number&quot;</span><span class=p>)</span>

<span class=c1># ‚ùå Don&#39;t catch bare Exception (hides bugs)</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>do_something</span><span class=p>()</span>
<span class=k>except</span><span class=p>:</span>  <span class=c1># Bad! Catches KeyboardInterrupt too</span>
    <span class=k>pass</span>

<span class=c1># ‚úÖ Use exception chaining</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>process_data</span><span class=p>()</span>
<span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>original</span><span class=p>:</span>
    <span class=k>raise</span> <span class=n>DataProcessingError</span><span class=p>(</span><span class=s2>&quot;Failed to process&quot;</span><span class=p>)</span> <span class=kn>from</span><span class=w> </span><span class=nn>original</span>

<span class=c1># ‚úÖ Create custom exceptions</span>
<span class=k>class</span><span class=w> </span><span class=nc>ValidationError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>field</span><span class=p>,</span> <span class=n>message</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>field</span> <span class=o>=</span> <span class=n>field</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>message</span> <span class=o>=</span> <span class=n>message</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>field</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=s2>&quot;email&quot;</span><span class=p>,</span> <span class=s2>&quot;Invalid format&quot;</span><span class=p>)</span>

<span class=c1># ‚úÖ EAFP (Easier to Ask Forgiveness than Permission)</span>
<span class=c1># Pythonic:</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>value</span> <span class=o>=</span> <span class=n>dictionary</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
<span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
    <span class=n>value</span> <span class=o>=</span> <span class=n>default</span>

<span class=c1># Also good (for this specific case):</span>
<span class=n>value</span> <span class=o>=</span> <span class=n>dictionary</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>

<span class=c1># ‚úÖ Context managers for cleanup</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;file.txt&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>  <span class=c1># File closed even if exception</span>
</code></pre></div> <p><strong>Advanced: Exception Groups (Python 3.11+):</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Handle multiple exceptions at once</span>
<span class=k>try</span><span class=p>:</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>TaskGroup</span><span class=p>()</span> <span class=k>as</span> <span class=n>tg</span><span class=p>:</span>
        <span class=n>tg</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=n>task1</span><span class=p>())</span>
        <span class=n>tg</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=n>task2</span><span class=p>())</span>
<span class=k>except</span><span class=o>*</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>eg</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>eg</span><span class=o>.</span><span class=n>exceptions</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;ValueError: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=k>except</span><span class=o>*</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>eg</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>eg</span><span class=o>.</span><span class=n>exceptions</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;TypeError: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of error handling patterns.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Always catches specific exceptions, never bare <code>except:</code></li> <li>Knows the difference between <code>else</code> and <code>finally</code></li> <li>Uses exception chaining (<code>from original</code>)</li> <li>Mentions EAFP vs LBYL (Look Before You Leap)</li> </ul> </div> </details> <hr> <h3 id=what-is-__init__-vs-__new__-in-python-google-meta-interview-question>What is <code>__init__</code> vs <code>__new__</code> in Python? - Google, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>OOP</code>, <code>Object Creation</code>, <code>Internals</code> | <strong>Asked by:</strong> Google, Meta, Amazon, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>The Difference:</strong></p> <table> <thead> <tr> <th>Method</th> <th>Purpose</th> <th>Returns</th> <th>When Called</th> </tr> </thead> <tbody> <tr> <td><code>__new__</code></td> <td>Creates the instance</td> <td>Instance object</td> <td>Before <code>__init__</code></td> </tr> <tr> <td><code>__init__</code></td> <td>Initializes the instance</td> <td>None</td> <td>After <code>__new__</code></td> </tr> </tbody> </table> <p><strong>Normal Flow:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;1. __new__ called&quot;</span><span class=p>)</span>
        <span class=n>instance</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>  <span class=c1># Create instance</span>
        <span class=k>return</span> <span class=n>instance</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;2. __init__ called&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
<span class=c1># Output:</span>
<span class=c1># 1. __new__ called</span>
<span class=c1># 2. __init__ called</span>
</code></pre></div> <p><strong>When to Override <code>__new__</code>:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Singleton Pattern</span>
<span class=k>class</span><span class=w> </span><span class=nc>Singleton</span><span class=p>:</span>
    <span class=n>_instance</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instance</span>

<span class=n>s1</span> <span class=o>=</span> <span class=n>Singleton</span><span class=p>()</span>
<span class=n>s2</span> <span class=o>=</span> <span class=n>Singleton</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>s1</span> <span class=ow>is</span> <span class=n>s2</span><span class=p>)</span>  <span class=c1># True</span>

<span class=c1># 2. Immutable Types (can&#39;t modify in __init__)</span>
<span class=k>class</span><span class=w> </span><span class=nc>Point</span><span class=p>(</span><span class=nb>tuple</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>))</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>x</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=bp>self</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>y</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=k>return</span> <span class=bp>self</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>

<span class=n>p</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>p</span><span class=o>.</span><span class=n>y</span><span class=p>)</span>  <span class=c1># 3 4</span>

<span class=c1># 3. Instance Caching</span>
<span class=k>class</span><span class=w> </span><span class=nc>CachedClass</span><span class=p>:</span>
    <span class=n>_cache</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>key</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_cache</span><span class=p>:</span>
            <span class=n>instance</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
            <span class=bp>cls</span><span class=o>.</span><span class=n>_cache</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>instance</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_cache</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>

<span class=c1># 4. Returning Different Types</span>
<span class=k>class</span><span class=w> </span><span class=nc>Factory</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>animal_type</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>animal_type</span> <span class=o>==</span> <span class=s2>&quot;dog&quot;</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>Dog</span><span class=p>()</span>
        <span class=k>elif</span> <span class=n>animal_type</span> <span class=o>==</span> <span class=s2>&quot;cat&quot;</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>Cat</span><span class=p>()</span>
        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
</code></pre></div> <p><strong>Critical Rule:</strong></p> <p><code>__init__</code> is only called if <code>__new__</code> returns an instance of <code>cls</code>:</p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Weird</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>return</span> <span class=s2>&quot;I&#39;m a string!&quot;</span>  <span class=c1># Not an instance of Weird</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;This never runs!&quot;</span><span class=p>)</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>Weird</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>  <span class=c1># &quot;I&#39;m a string!&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>obj</span><span class=p>))</span>  <span class=c1># &lt;class &#39;str&#39;&gt;</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Deep OOP understanding.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows <code>__new__</code> creates, <code>__init__</code> initializes</li> <li>Can implement singleton using <code>__new__</code></li> <li>Mentions subclassing immutables (tuple, str, int) requires <code>__new__</code></li> <li>Knows <code>__init__</code> not called if <code>__new__</code> returns different type</li> </ul> </div> </details> <hr> <h3 id=what-is-the-difference-between-staticmethod-and-classmethod-most-tech-companies-interview-question>What is the Difference Between <code>staticmethod</code> and <code>classmethod</code>? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>OOP</code>, <code>Methods</code>, <code>Decorators</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft, Apple</p> <details class=success> <summary>View Answer</summary> <p><strong>The Three Method Types:</strong></p> <table> <thead> <tr> <th>Method Type</th> <th>First Argument</th> <th>Access to</th> </tr> </thead> <tbody> <tr> <td>Instance</td> <td><code>self</code></td> <td>Instance + class attributes</td> </tr> <tr> <td>Class</td> <td><code>cls</code></td> <td>Class attributes only</td> </tr> <tr> <td>Static</td> <td>None</td> <td>Nothing (just a function)</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=n>class_attr</span> <span class=o>=</span> <span class=s2>&quot;I&#39;m a class attribute&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>instance_attr</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=nf>instance_method</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># Has access to self and cls (via self.__class__)</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Instance: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>instance_attr</span><span class=si>}</span><span class=s2>, Class: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>class_attr</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>class_method</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=c1># Has access to cls, not self</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Class: </span><span class=si>{</span><span class=bp>cls</span><span class=o>.</span><span class=n>class_attr</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>static_method</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=c1># No access to self or cls</span>
        <span class=k>return</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>(</span><span class=s2>&quot;hello&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>instance_method</span><span class=p>())</span>  <span class=c1># Instance: hello, Class: I&#39;m a class attribute</span>
<span class=nb>print</span><span class=p>(</span><span class=n>MyClass</span><span class=o>.</span><span class=n>class_method</span><span class=p>())</span>  <span class=c1># Class: I&#39;m a class attribute</span>
<span class=nb>print</span><span class=p>(</span><span class=n>MyClass</span><span class=o>.</span><span class=n>static_method</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>  <span class=c1># 5</span>
</code></pre></div> <p><strong>When to Use Each:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Pizza</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ingredients</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>ingredients</span> <span class=o>=</span> <span class=n>ingredients</span>

    <span class=c1># Factory method - use @classmethod</span>
    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>margherita</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>([</span><span class=s2>&quot;mozzarella&quot;</span><span class=p>,</span> <span class=s2>&quot;tomatoes&quot;</span><span class=p>])</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>pepperoni</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>([</span><span class=s2>&quot;mozzarella&quot;</span><span class=p>,</span> <span class=s2>&quot;pepperoni&quot;</span><span class=p>])</span>

    <span class=c1># Utility function - use @staticmethod</span>
    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>calculate_price</span><span class=p>(</span><span class=n>base</span><span class=p>,</span> <span class=n>toppings_count</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>base</span> <span class=o>+</span> <span class=n>toppings_count</span> <span class=o>*</span> <span class=mf>1.5</span>

<span class=n>p</span> <span class=o>=</span> <span class=n>Pizza</span><span class=o>.</span><span class=n>margherita</span><span class=p>()</span>  <span class=c1># Factory pattern</span>
<span class=nb>print</span><span class=p>(</span><span class=n>Pizza</span><span class=o>.</span><span class=n>calculate_price</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>  <span class=c1># 14.5</span>
</code></pre></div> <p><strong>Inheritance Behavior:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Parent</span><span class=p>:</span>
    <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;Parent&quot;</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>who_am_i</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>name</span>  <span class=c1># Uses cls, not hardcoded</span>

<span class=k>class</span><span class=w> </span><span class=nc>Child</span><span class=p>(</span><span class=n>Parent</span><span class=p>):</span>
    <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;Child&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>Parent</span><span class=o>.</span><span class=n>who_am_i</span><span class=p>())</span>  <span class=c1># Parent</span>
<span class=nb>print</span><span class=p>(</span><span class=n>Child</span><span class=o>.</span><span class=n>who_am_i</span><span class=p>())</span>   <span class=c1># Child (polymorphic!)</span>

<span class=c1># Static method doesn&#39;t get this benefit</span>
<span class=k>class</span><span class=w> </span><span class=nc>Parent2</span><span class=p>:</span>
    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>who_am_i</span><span class=p>():</span>
        <span class=k>return</span> <span class=n>Parent2</span><span class=o>.</span><span class=n>name</span>  <span class=c1># Hardcoded!</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of Python's method types.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows <code>@classmethod</code> for factory methods</li> <li>Knows <code>@staticmethod</code> is just a namespaced function</li> <li>Mentions inheritance: <code>@classmethod</code> is polymorphic</li> <li>Gives real use case: alternative constructors</li> </ul> </div> </details> <hr> <h3 id=what-are-list-comprehensions-and-when-should-you-use-them-most-tech-companies-interview-question>What Are List Comprehensions and When Should You Use Them? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Syntax</code>, <code>Comprehensions</code>, <code>Performance</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong>Basic Syntax:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># List comprehension</span>
<span class=p>[</span><span class=n>expression</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>iterable</span> <span class=k>if</span> <span class=n>condition</span><span class=p>]</span>

<span class=c1># Equivalent loop</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[]</span>
<span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>iterable</span><span class=p>:</span>
    <span class=k>if</span> <span class=n>condition</span><span class=p>:</span>
        <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>
</code></pre></div> <p><strong>Types of Comprehensions:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># List comprehension</span>
<span class=n>squares</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>

<span class=c1># Dict comprehension</span>
<span class=n>square_dict</span> <span class=o>=</span> <span class=p>{</span><span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)}</span>

<span class=c1># Set comprehension</span>
<span class=n>unique_squares</span> <span class=o>=</span> <span class=p>{</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]}</span>

<span class=c1># Generator expression (lazy, memory efficient)</span>
<span class=n>squares_gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
</code></pre></div> <p><strong>Practical Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Filtering</span>
<span class=n>evens</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>]</span>

<span class=c1># Transformation</span>
<span class=n>names</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;alice&quot;</span><span class=p>,</span> <span class=s2>&quot;bob&quot;</span><span class=p>,</span> <span class=s2>&quot;charlie&quot;</span><span class=p>]</span>
<span class=n>capitalized</span> <span class=o>=</span> <span class=p>[</span><span class=n>name</span><span class=o>.</span><span class=n>title</span><span class=p>()</span> <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>names</span><span class=p>]</span>

<span class=c1># Nested loops (flattening)</span>
<span class=n>matrix</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>]]</span>
<span class=n>flat</span> <span class=o>=</span> <span class=p>[</span><span class=n>num</span> <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>matrix</span> <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>row</span><span class=p>]</span>

<span class=c1># Conditional expression</span>
<span class=n>labels</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;even&quot;</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=k>else</span> <span class=s2>&quot;odd&quot;</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span>

<span class=c1># Multiple conditions</span>
<span class=n>filtered</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>3</span> <span class=o>==</span> <span class=mi>0</span><span class=p>]</span>

<span class=c1># Dict from two lists</span>
<span class=n>keys</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;a&quot;</span><span class=p>,</span> <span class=s2>&quot;b&quot;</span><span class=p>,</span> <span class=s2>&quot;c&quot;</span><span class=p>]</span>
<span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
<span class=n>combined</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>keys</span><span class=p>,</span> <span class=n>values</span><span class=p>)}</span>

<span class=c1># Filtering dict</span>
<span class=n>original</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;a&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;b&quot;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&quot;c&quot;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>&quot;d&quot;</span><span class=p>:</span> <span class=mi>4</span><span class=p>}</span>
<span class=n>filtered</span> <span class=o>=</span> <span class=p>{</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>original</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>if</span> <span class=n>v</span> <span class=o>&gt;</span> <span class=mi>2</span><span class=p>}</span>
</code></pre></div> <p><strong>When NOT to Use:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># ‚ùå Too complex - use regular loop</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>process</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span> 
    <span class=k>if</span> <span class=n>validate</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> 
    <span class=k>for</span> <span class=n>y</span> <span class=ow>in</span> <span class=n>get_related</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> 
    <span class=k>if</span> <span class=n>check</span><span class=p>(</span><span class=n>y</span><span class=p>)</span>
<span class=p>]</span>

<span class=c1># ‚úÖ Better: regular loop for readability</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[]</span>
<span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
    <span class=k>if</span> <span class=n>validate</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
        <span class=k>for</span> <span class=n>y</span> <span class=ow>in</span> <span class=n>get_related</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>check</span><span class=p>(</span><span class=n>y</span><span class=p>):</span>
                <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>process</span><span class=p>(</span><span class=n>x</span><span class=p>))</span>

<span class=c1># ‚ùå Side effects - use regular loop</span>
<span class=p>[</span><span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>items</span><span class=p>]</span>  <span class=c1># Works but bad practice</span>

<span class=c1># ‚úÖ Better</span>
<span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>items</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</code></pre></div> <p><strong>Performance Note:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># List comprehension is ~20-30% faster than equivalent loop</span>
<span class=c1># Because it&#39;s optimized at bytecode level</span>

<span class=kn>import</span><span class=w> </span><span class=nn>timeit</span>

<span class=c1># Comprehension</span>
<span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s1>&#39;[x**2 for x in range(1000)]&#39;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>10000</span><span class=p>)</span>

<span class=c1># Loop</span>
<span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s1>&#39;&#39;&#39;</span>
<span class=s1>result = []</span>
<span class=s1>for x in range(1000):</span>
<span class=s1>    result.append(x**2)</span>
<span class=s1>&#39;&#39;&#39;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>10000</span><span class=p>)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Python idiom knowledge.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows all types: list, dict, set, generator expression</li> <li>Knows when NOT to use (too complex, side effects)</li> <li>Mentions performance advantage (~20-30% faster)</li> <li>Uses generator expression for memory efficiency</li> </ul> </div> </details> <hr> <h3 id=what-is-asyncio-in-python-how-does-it-work-google-meta-netflix-interview-question>What is Asyncio in Python? How Does It Work? - Google, Meta, Netflix Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Concurrency</code>, <code>Asyncio</code>, <code>Async/Await</code> | <strong>Asked by:</strong> Google, Meta, Netflix, Amazon, Apple</p> <details class=success> <summary>View Answer</summary> <p><strong>What is Asyncio?</strong></p> <p>Asyncio is Python's library for writing concurrent code using async/await syntax. It's designed for I/O-bound tasks (network requests, file I/O, database queries).</p> <p><strong>Key Concepts:</strong></p> <table> <thead> <tr> <th>Concept</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Coroutine</td> <td><code>async def</code> function, can be paused/resumed</td> </tr> <tr> <td>Event Loop</td> <td>Runs coroutines, manages I/O</td> </tr> <tr> <td><code>await</code></td> <td>Pause coroutine, wait for result</td> </tr> <tr> <td>Task</td> <td>Wrapped coroutine, runs concurrently</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>asyncio</span>

<span class=c1># A coroutine</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>fetch_data</span><span class=p>(</span><span class=n>url</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Fetching </span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># Simulate I/O</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Data from </span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=c1># Running coroutines</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
    <span class=c1># Sequential (takes 3 seconds)</span>
    <span class=n>result1</span> <span class=o>=</span> <span class=k>await</span> <span class=n>fetch_data</span><span class=p>(</span><span class=s2>&quot;url1&quot;</span><span class=p>)</span>
    <span class=n>result2</span> <span class=o>=</span> <span class=k>await</span> <span class=n>fetch_data</span><span class=p>(</span><span class=s2>&quot;url2&quot;</span><span class=p>)</span>
    <span class=n>result3</span> <span class=o>=</span> <span class=k>await</span> <span class=n>fetch_data</span><span class=p>(</span><span class=s2>&quot;url3&quot;</span><span class=p>)</span>

    <span class=c1># Concurrent (takes 1 second!)</span>
    <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span>
        <span class=n>fetch_data</span><span class=p>(</span><span class=s2>&quot;url1&quot;</span><span class=p>),</span>
        <span class=n>fetch_data</span><span class=p>(</span><span class=s2>&quot;url2&quot;</span><span class=p>),</span>
        <span class=n>fetch_data</span><span class=p>(</span><span class=s2>&quot;url3&quot;</span><span class=p>)</span>
    <span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>results</span><span class=p>)</span>

<span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>main</span><span class=p>())</span>
</code></pre></div> <p><strong>Practical Example: HTTP Requests</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>aiohttp</span>
<span class=kn>import</span><span class=w> </span><span class=nn>asyncio</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>fetch</span><span class=p>(</span><span class=n>session</span><span class=p>,</span> <span class=n>url</span><span class=p>):</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>session</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span> <span class=k>as</span> <span class=n>response</span><span class=p>:</span>
        <span class=k>return</span> <span class=k>await</span> <span class=n>response</span><span class=o>.</span><span class=n>text</span><span class=p>()</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>fetch_all</span><span class=p>(</span><span class=n>urls</span><span class=p>):</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>aiohttp</span><span class=o>.</span><span class=n>ClientSession</span><span class=p>()</span> <span class=k>as</span> <span class=n>session</span><span class=p>:</span>
        <span class=n>tasks</span> <span class=o>=</span> <span class=p>[</span><span class=n>fetch</span><span class=p>(</span><span class=n>session</span><span class=p>,</span> <span class=n>url</span><span class=p>)</span> <span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>urls</span><span class=p>]</span>
        <span class=k>return</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>tasks</span><span class=p>)</span>

<span class=n>urls</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s2>&quot;https://httpbin.org/delay/1&quot;</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>

<span class=c1># Synchronous: 10 seconds</span>
<span class=c1># Async: ~1 second</span>
<span class=n>results</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>fetch_all</span><span class=p>(</span><span class=n>urls</span><span class=p>))</span>
</code></pre></div> <p><strong>Common Patterns:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Task with timeout</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>with_timeout</span><span class=p>():</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>result</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>wait_for</span><span class=p>(</span><span class=n>slow_operation</span><span class=p>(),</span> <span class=n>timeout</span><span class=o>=</span><span class=mf>5.0</span><span class=p>)</span>
    <span class=k>except</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>TimeoutError</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Operation timed out&quot;</span><span class=p>)</span>

<span class=c1># Producer-Consumer with Queue</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>producer</span><span class=p>(</span><span class=n>queue</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>consumer</span><span class=p>(</span><span class=n>queue</span><span class=p>):</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>item</span> <span class=o>=</span> <span class=k>await</span> <span class=n>queue</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Consumed </span><span class=si>{</span><span class=n>item</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>queue</span><span class=o>.</span><span class=n>task_done</span><span class=p>()</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
    <span class=n>queue</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>
    <span class=n>producers</span> <span class=o>=</span> <span class=p>[</span><span class=n>asyncio</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=n>producer</span><span class=p>(</span><span class=n>queue</span><span class=p>))]</span>
    <span class=n>consumers</span> <span class=o>=</span> <span class=p>[</span><span class=n>asyncio</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=n>consumer</span><span class=p>(</span><span class=n>queue</span><span class=p>))</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>)]</span>

    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>producers</span><span class=p>)</span>
    <span class=k>await</span> <span class=n>queue</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>consumers</span><span class=p>:</span>
        <span class=n>c</span><span class=o>.</span><span class=n>cancel</span><span class=p>()</span>

<span class=c1># Semaphore for rate limiting</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>rate_limited_fetch</span><span class=p>(</span><span class=n>sem</span><span class=p>,</span> <span class=n>url</span><span class=p>):</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>sem</span><span class=p>:</span>  <span class=c1># Max 10 concurrent</span>
        <span class=k>return</span> <span class=k>await</span> <span class=n>fetch</span><span class=p>(</span><span class=n>url</span><span class=p>)</span>

<span class=n>sem</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>Semaphore</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
<span class=n>tasks</span> <span class=o>=</span> <span class=p>[</span><span class=n>rate_limited_fetch</span><span class=p>(</span><span class=n>sem</span><span class=p>,</span> <span class=n>url</span><span class=p>)</span> <span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>urls</span><span class=p>]</span>
</code></pre></div> <p><strong>Asyncio vs Threading:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>Asyncio</th> <th>Threading</th> </tr> </thead> <tbody> <tr> <td>Best for</td> <td>I/O-bound</td> <td>I/O-bound (simpler code)</td> </tr> <tr> <td>Concurrency</td> <td>Cooperative (explicit <code>await</code>)</td> <td>Preemptive (OS switches)</td> </tr> <tr> <td>Debugging</td> <td>Easier (predictable switching)</td> <td>Harder (race conditions)</td> </tr> <tr> <td>Libraries</td> <td>Need async versions</td> <td>Work with any library</td> </tr> </tbody> </table> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of async programming model.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows it's for I/O-bound, not CPU-bound tasks</li> <li>Can explain event loop and cooperative multitasking</li> <li>Uses <code>asyncio.gather()</code> for concurrency</li> <li>Mentions <code>aiohttp</code> for HTTP, <code>asyncpg</code> for databases</li> </ul> </div> </details> <hr> <h3 id=what-are-python-dataclasses-when-should-you-use-them-google-amazon-meta-interview-question>What Are Python Dataclasses? When Should You Use Them? - Google, Amazon, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>OOP</code>, <code>Dataclasses</code>, <code>Python 3.7+</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>What Are Dataclasses?</strong></p> <p>Dataclasses are a decorator-based way to create classes primarily used for storing data, with automatic <code>__init__</code>, <code>__repr__</code>, <code>__eq__</code>, and more.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>dataclasses</span><span class=w> </span><span class=kn>import</span> <span class=n>dataclass</span><span class=p>,</span> <span class=n>field</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span>

<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>:</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>email</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>age</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>  <span class=c1># Default value</span>
    <span class=n>tags</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>default_factory</span><span class=o>=</span><span class=nb>list</span><span class=p>)</span>  <span class=c1># Mutable default</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_adult</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>&gt;=</span> <span class=mi>18</span>

<span class=c1># Auto-generated __init__, __repr__, __eq__</span>
<span class=n>user</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>,</span> <span class=mi>25</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>user</span><span class=p>)</span>  <span class=c1># User(name=&#39;Alice&#39;, email=&#39;alice@example.com&#39;, age=25, tags=[])</span>

<span class=c1># Comparison works</span>
<span class=n>user2</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>,</span> <span class=mi>25</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>user</span> <span class=o>==</span> <span class=n>user2</span><span class=p>)</span>  <span class=c1># True</span>
</code></pre></div> <p><strong>Advanced Features:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>dataclasses</span><span class=w> </span><span class=kn>import</span> <span class=n>dataclass</span><span class=p>,</span> <span class=n>field</span><span class=p>,</span> <span class=n>asdict</span><span class=p>,</span> <span class=n>astuple</span>

<span class=nd>@dataclass</span><span class=p>(</span><span class=n>frozen</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># Immutable</span>
<span class=k>class</span><span class=w> </span><span class=nc>Point</span><span class=p>:</span>
    <span class=n>x</span><span class=p>:</span> <span class=nb>float</span>
    <span class=n>y</span><span class=p>:</span> <span class=nb>float</span>

<span class=nd>@dataclass</span><span class=p>(</span><span class=n>order</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># Adds __lt__, __le__, __gt__, __ge__</span>
<span class=k>class</span><span class=w> </span><span class=nc>SortableItem</span><span class=p>:</span>
    <span class=n>sort_key</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>init</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=nb>repr</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>value</span><span class=p>:</span> <span class=nb>int</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__post_init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>sort_key</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span>

<span class=c1># Convert to dict/tuple</span>
<span class=n>user_dict</span> <span class=o>=</span> <span class=n>asdict</span><span class=p>(</span><span class=n>user</span><span class=p>)</span>
<span class=n>user_tuple</span> <span class=o>=</span> <span class=n>astuple</span><span class=p>(</span><span class=n>user</span><span class=p>)</span>
</code></pre></div> <p><strong>When to Use:</strong></p> <table> <thead> <tr> <th>Use Dataclass</th> <th>Use Regular Class</th> </tr> </thead> <tbody> <tr> <td>Data containers</td> <td>Complex behavior</td> </tr> <tr> <td>Simple defaults</td> <td>Custom <strong>init</strong> logic</td> </tr> <tr> <td>Need <strong>eq</strong>, <strong>hash</strong></td> <td>Inheritance-heavy</td> </tr> </tbody> </table> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Modern Python knowledge.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses <code>field(default_factory=list)</code> for mutable defaults</li> <li>Knows <code>frozen=True</code> for immutability</li> <li>Mentions <code>__post_init__</code> for validation</li> <li>Compares to NamedTuple, attrs, Pydantic</li> </ul> </div> </details> <hr> <h3 id=what-are-type-hints-in-python-how-do-you-use-them-google-meta-microsoft-interview-question>What Are Type Hints in Python? How Do You Use Them? - Google, Meta, Microsoft Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Type Hints</code>, <code>Static Analysis</code>, <code>Python 3.5+</code> | <strong>Asked by:</strong> Google, Meta, Microsoft, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong>What Are Type Hints?</strong></p> <p>Type hints are optional annotations that indicate expected types. They don't enforce types at runtime but enable static analysis with tools like mypy.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Union</span><span class=p>,</span> <span class=n>Callable</span><span class=p>,</span> <span class=n>TypeVar</span><span class=p>,</span> <span class=n>Generic</span>

<span class=c1># Basic type hints</span>
<span class=k>def</span><span class=w> </span><span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Hello, </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=c1># Collections</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_items</span><span class=p>(</span><span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]:</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;sum&quot;</span><span class=p>:</span> <span class=nb>sum</span><span class=p>(</span><span class=n>items</span><span class=p>),</span> <span class=s2>&quot;count&quot;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)}</span>

<span class=c1># Optional (can be None)</span>
<span class=k>def</span><span class=w> </span><span class=nf>find_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>dict</span><span class=p>]:</span>
    <span class=k>return</span> <span class=kc>None</span> <span class=k>if</span> <span class=n>user_id</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=n>user_id</span><span class=p>}</span>

<span class=c1># Union (multiple types)</span>
<span class=k>def</span><span class=w> </span><span class=nf>handle_input</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
    <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>

<span class=c1># Python 3.10+ simplified syntax</span>
<span class=k>def</span><span class=w> </span><span class=nf>handle_input_new</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
    <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>if</span> <span class=n>value</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>

<span class=c1># Callable</span>
<span class=k>def</span><span class=w> </span><span class=nf>apply_func</span><span class=p>(</span><span class=n>func</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>int</span><span class=p>],</span> <span class=nb>int</span><span class=p>],</span> <span class=n>a</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
    <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>

<span class=c1># TypeVar for generics</span>
<span class=n>T</span> <span class=o>=</span> <span class=n>TypeVar</span><span class=p>(</span><span class=s1>&#39;T&#39;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>first</span><span class=p>(</span><span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>T</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>T</span><span class=p>]:</span>
    <span class=k>return</span> <span class=n>items</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>if</span> <span class=n>items</span> <span class=k>else</span> <span class=kc>None</span>
</code></pre></div> <p><strong>Class Type Hints:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>ClassVar</span>
<span class=kn>from</span><span class=w> </span><span class=nn>dataclasses</span><span class=w> </span><span class=kn>import</span> <span class=n>dataclass</span>

<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Config</span><span class=p>:</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>debug</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=n>max_retries</span><span class=p>:</span> <span class=n>ClassVar</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=mi>3</span>  <span class=c1># Class variable</span>

<span class=c1># Forward references (class not yet defined)</span>
<span class=k>class</span><span class=w> </span><span class=nc>Node</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=nb>next</span><span class=p>:</span> <span class=s2>&quot;Node&quot;</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=nb>next</span>

<span class=c1># Python 3.11+ Self type</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Self</span>
<span class=k>class</span><span class=w> </span><span class=nc>Builder</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>set_name</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Self</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=k>return</span> <span class=bp>self</span>
</code></pre></div> <p><strong>Type Checking:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># mypy static analysis</span>
pip<span class=w> </span>install<span class=w> </span>mypy
mypy<span class=w> </span>script.py
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Code quality and maintainability practices.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows type hints are optional (not enforced at runtime)</li> <li>Uses <code>Optional</code> correctly (not <code>Union[X, None]</code>)</li> <li>Mentions mypy for static checking</li> <li>Knows <code>TypeVar</code> for generic functions</li> </ul> </div> </details> <hr> <h3 id=explain-__slots__-in-python-when-and-why-to-use-it-google-amazon-interview-question>Explain <code>__slots__</code> in Python - When and Why to Use It? - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Memory Optimization</code>, <code>OOP</code>, <code>Performance</code> | <strong>Asked by:</strong> Google, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>What Are <code>__slots__</code>?</strong></p> <p><code>__slots__</code> declares fixed set of attributes, preventing creation of <code>__dict__</code> and <code>__weakref__</code>, reducing memory usage by ~40%.</p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>sys</span>

<span class=c1># Without __slots__</span>
<span class=k>class</span><span class=w> </span><span class=nc>RegularPoint</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=c1># With __slots__</span>
<span class=k>class</span><span class=w> </span><span class=nc>SlottedPoint</span><span class=p>:</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=c1># Memory comparison</span>
<span class=n>regular</span> <span class=o>=</span> <span class=n>RegularPoint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>slotted</span> <span class=o>=</span> <span class=n>SlottedPoint</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>regular</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>))</span>  <span class=c1># ~104 bytes for dict</span>
<span class=c1># slotted has no __dict__</span>

<span class=c1># With millions of instances, savings are significant</span>
</code></pre></div> <p><strong>Limitations:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Slotted</span><span class=p>:</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>]</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>Slotted</span><span class=p>()</span>
<span class=n>obj</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=mi>1</span>
<span class=n>obj</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=mi>2</span>
<span class=n>obj</span><span class=o>.</span><span class=n>z</span> <span class=o>=</span> <span class=mi>3</span>  <span class=c1># AttributeError: &#39;Slotted&#39; object has no attribute &#39;z&#39;</span>

<span class=c1># Can&#39;t use __dict__ for dynamic attributes</span>
<span class=c1># Can&#39;t use __weakref__ by default (add to __slots__ if needed)</span>
</code></pre></div> <p><strong>Inheritance with <code>__slots__</code>:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Base</span><span class=p>:</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>]</span>

<span class=k>class</span><span class=w> </span><span class=nc>Child</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;y&#39;</span><span class=p>]</span>  <span class=c1># Only add new slots, don&#39;t repeat &#39;x&#39;</span>

<span class=n>c</span> <span class=o>=</span> <span class=n>Child</span><span class=p>()</span>
<span class=n>c</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=mi>1</span>  <span class=c1># From Base</span>
<span class=n>c</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=mi>2</span>  <span class=c1># From Child</span>

<span class=c1># If child doesn&#39;t define __slots__, it gets __dict__</span>
<span class=k>class</span><span class=w> </span><span class=nc>ChildWithDict</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span>
    <span class=k>pass</span>  <span class=c1># Has __dict__, can add any attribute</span>
</code></pre></div> <p><strong>When to Use:</strong></p> <table> <thead> <tr> <th>Use <strong>slots</strong></th> <th>Avoid <strong>slots</strong></th> </tr> </thead> <tbody> <tr> <td>Millions of instances</td> <td>Need dynamic attributes</td> </tr> <tr> <td>Fixed attributes known</td> <td>Multiple inheritance</td> </tr> <tr> <td>Memory-constrained</td> <td>Metaclasses that need <strong>dict</strong></td> </tr> </tbody> </table> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Python memory model understanding.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows <strong>slots</strong> prevents <strong>dict</strong> creation</li> <li>Mentions ~40% memory savings</li> <li>Understands inheritance implications</li> <li>Gives use case: "Many instances of same class"</li> </ul> </div> </details> <hr> <h3 id=what-is-the-walrus-operator-most-tech-companies-interview-question>What is the Walrus Operator <code>:=</code>? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Python 3.8+</code>, <code>Assignment Expression</code>, <code>Syntax</code> | <strong>Asked by:</strong> Google, Meta, Amazon, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>What is the Walrus Operator?</strong></p> <p>The walrus operator (<code>:=</code>) assigns values as part of an expression (assignment expression), introduced in Python 3.8.</p> <div class=highlight><pre><span></span><code><span class=c1># Without walrus operator</span>
<span class=n>line</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span>
<span class=k>while</span> <span class=n>line</span> <span class=o>!=</span> <span class=s1>&#39;quit&#39;</span><span class=p>:</span>
    <span class=n>process</span><span class=p>(</span><span class=n>line</span><span class=p>)</span>
    <span class=n>line</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span>

<span class=c1># With walrus operator</span>
<span class=k>while</span> <span class=p>(</span><span class=n>line</span> <span class=o>:=</span> <span class=nb>input</span><span class=p>())</span> <span class=o>!=</span> <span class=s1>&#39;quit&#39;</span><span class=p>:</span>
    <span class=n>process</span><span class=p>(</span><span class=n>line</span><span class=p>)</span>

<span class=c1># List comprehension filtering</span>
<span class=c1># Without</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
<span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
    <span class=n>y</span> <span class=o>=</span> <span class=n>expensive_function</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>y</span> <span class=o>&gt;</span> <span class=n>threshold</span><span class=p>:</span>
        <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>y</span><span class=p>)</span>

<span class=c1># With walrus operator</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[</span><span class=n>y</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span> <span class=k>if</span> <span class=p>(</span><span class=n>y</span> <span class=o>:=</span> <span class=n>expensive_function</span><span class=p>(</span><span class=n>x</span><span class=p>))</span> <span class=o>&gt;</span> <span class=n>threshold</span><span class=p>]</span>
</code></pre></div> <p><strong>Common Use Cases:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Regex matching</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=k>if</span> <span class=p>(</span><span class=n>match</span> <span class=o>:=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\d+&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found: </span><span class=si>{</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 2. File reading</span>
<span class=k>while</span> <span class=p>(</span><span class=n>chunk</span> <span class=o>:=</span> <span class=n>file</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>8192</span><span class=p>)):</span>
    <span class=n>process</span><span class=p>(</span><span class=n>chunk</span><span class=p>)</span>

<span class=c1># 3. Dictionary get with check</span>
<span class=k>if</span> <span class=p>(</span><span class=n>value</span> <span class=o>:=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;key&#39;</span><span class=p>))</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Value: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 4. Avoiding repeated function calls</span>
<span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>:=</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>))</span> <span class=o>&gt;</span> <span class=mi>10</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Too many items: </span><span class=si>{</span><span class=n>n</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <p><strong>When NOT to Use:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># ‚ùå Don&#39;t use for simple assignments</span>
<span class=n>x</span> <span class=o>:=</span> <span class=mi>5</span>  <span class=c1># SyntaxError (needs parentheses in statements)</span>

<span class=c1># ‚úÖ Regular assignment is clearer</span>
<span class=n>x</span> <span class=o>=</span> <span class=mi>5</span>

<span class=c1># ‚ùå Don&#39;t sacrifice readability</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[(</span><span class=n>y</span> <span class=o>:=</span> <span class=n>f</span><span class=p>(</span><span class=n>x</span><span class=p>),</span> <span class=n>y</span><span class=o>**</span><span class=mi>2</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>]</span>  <span class=c1># Confusing</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Knowledge of modern Python features.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows it's Python 3.8+</li> <li>Gives practical use case (while loop, comprehension)</li> <li>Knows when NOT to use (simple assignments)</li> <li>Mentions readability concerns</li> </ul> </div> </details> <hr> <h3 id=what-are-metaclasses-in-python-google-meta-interview-question>What Are Metaclasses in Python? - Google, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Metaprogramming</code>, <code>OOP</code>, <code>Advanced</code> | <strong>Asked by:</strong> Google, Meta, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong>What Are Metaclasses?</strong></p> <p>A metaclass is the class of a class. Just as a class defines how instances behave, a metaclass defines how classes behave.</p> <div class=highlight><pre><span></span><code><span class=c1># Everything is an object</span>
<span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=k>pass</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>()</span>

<span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>obj</span><span class=p>))</span>       <span class=c1># &lt;class &#39;__main__.MyClass&#39;&gt;</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>MyClass</span><span class=p>))</span>   <span class=c1># &lt;class &#39;type&#39;&gt;</span>

<span class=c1># &#39;type&#39; is the default metaclass</span>
<span class=c1># MyClass is an instance of &#39;type&#39;</span>
</code></pre></div> <p><strong>Creating a Metaclass:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Meta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=c1># Called when class is created</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Creating class: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

        <span class=c1># Add methods or modify class</span>
        <span class=n>namespace</span><span class=p>[</span><span class=s1>&#39;created_by&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;Meta&#39;</span>

        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=c1># Called after class is created</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>Meta</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=nb>print</span><span class=p>(</span><span class=n>MyClass</span><span class=o>.</span><span class=n>created_by</span><span class=p>)</span>  <span class=c1># &#39;Meta&#39;</span>
</code></pre></div> <p><strong>Practical Use Cases:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Singleton pattern</span>
<span class=k>class</span><span class=w> </span><span class=nc>SingletonMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
    <span class=n>_instances</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>cls</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>:</span>
            <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__call__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span>

<span class=k>class</span><span class=w> </span><span class=nc>Database</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>SingletonMeta</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=c1># 2. Registry pattern (like Django models)</span>
<span class=k>class</span><span class=w> </span><span class=nc>ModelMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
    <span class=n>registry</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=bp>cls</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>name</span> <span class=o>!=</span> <span class=s1>&#39;Model&#39;</span><span class=p>:</span>
            <span class=n>mcs</span><span class=o>.</span><span class=n>registry</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=bp>cls</span>
        <span class=k>return</span> <span class=bp>cls</span>

<span class=k>class</span><span class=w> </span><span class=nc>Model</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>ModelMeta</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>(</span><span class=n>Model</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=nb>print</span><span class=p>(</span><span class=n>ModelMeta</span><span class=o>.</span><span class=n>registry</span><span class=p>)</span>  <span class=c1># {&#39;User&#39;: &lt;class &#39;User&#39;&gt;}</span>
</code></pre></div> <p><strong>When to Use:</strong></p> <table> <thead> <tr> <th>Use Metaclass</th> <th>Use Decorator/Inheritance</th> </tr> </thead> <tbody> <tr> <td>Modify class creation</td> <td>Modify instance behavior</td> </tr> <tr> <td>Class registry</td> <td>Add methods</td> </tr> <tr> <td>API enforcement</td> <td>Simple transformations</td> </tr> </tbody> </table> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Deep Python understanding.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows "type is the metaclass of all classes"</li> <li>Can implement singleton with metaclass</li> <li>Mentions <code>__new__</code> vs <code>__init__</code> at metaclass level</li> <li>Knows: "If you're not sure you need it, you don't"</li> </ul> </div> </details> <hr> <h3 id=explain-python-descriptors-what-are-__get__-__set__-__delete__-google-interview-question>Explain Python Descriptors - What Are <code>__get__</code>, <code>__set__</code>, <code>__delete__</code>? - Google Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Descriptors</code>, <code>OOP</code>, <code>Advanced</code> | <strong>Asked by:</strong> Google, Meta, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong>What Are Descriptors?</strong></p> <p>Descriptors are objects that define <code>__get__</code>, <code>__set__</code>, or <code>__delete__</code> methods. They customize attribute access on classes.</p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Descriptor</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Getting from </span><span class=si>{</span><span class=n>obj</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Setting </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2> on </span><span class=si>{</span><span class=n>obj</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__delete__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Deleting from </span><span class=si>{</span><span class=n>obj</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span>

<span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=n>attr</span> <span class=o>=</span> <span class=n>Descriptor</span><span class=p>()</span>  <span class=c1># Descriptor instance as class attribute</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>()</span>
<span class=n>obj</span><span class=o>.</span><span class=n>attr</span> <span class=o>=</span> <span class=mi>10</span>       <span class=c1># Setting 10 on &lt;MyClass object&gt;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>attr</span><span class=p>)</span>     <span class=c1># Getting from &lt;MyClass object&gt; -&gt; 10</span>
<span class=k>del</span> <span class=n>obj</span><span class=o>.</span><span class=n>attr</span>        <span class=c1># Deleting from &lt;MyClass object&gt;</span>
</code></pre></div> <p><strong>Practical Example - Validation:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Validated</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>min_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_value</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>min_value</span> <span class=o>=</span> <span class=n>min_value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>max_value</span> <span class=o>=</span> <span class=n>max_value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__set_name__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>owner</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>
        <span class=k>return</span> <span class=n>obj</span><span class=o>.</span><span class=vm>__dict__</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>min_value</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>min_value</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> must be &gt;= </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>min_value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_value</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_value</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> must be &lt;= </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>max_value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>obj</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

<span class=k>class</span><span class=w> </span><span class=nc>Order</span><span class=p>:</span>
    <span class=n>quantity</span> <span class=o>=</span> <span class=n>Validated</span><span class=p>(</span><span class=n>min_value</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>max_value</span><span class=o>=</span><span class=mi>1000</span><span class=p>)</span>
    <span class=n>price</span> <span class=o>=</span> <span class=n>Validated</span><span class=p>(</span><span class=n>min_value</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>

<span class=n>order</span> <span class=o>=</span> <span class=n>Order</span><span class=p>()</span>
<span class=n>order</span><span class=o>.</span><span class=n>quantity</span> <span class=o>=</span> <span class=mi>50</span>   <span class=c1># OK</span>
<span class=n>order</span><span class=o>.</span><span class=n>quantity</span> <span class=o>=</span> <span class=mi>0</span>    <span class=c1># ValueError: quantity must be &gt;= 1</span>
</code></pre></div> <p><strong>Built-in Descriptors:</strong></p> <table> <thead> <tr> <th>Decorator</th> <th>Uses Descriptors</th> </tr> </thead> <tbody> <tr> <td><code>@property</code></td> <td>Data descriptor</td> </tr> <tr> <td><code>@classmethod</code></td> <td>Non-data descriptor</td> </tr> <tr> <td><code>@staticmethod</code></td> <td>Non-data descriptor</td> </tr> <tr> <td><code>__slots__</code></td> <td>Data descriptor</td> </tr> </tbody> </table> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of Python's attribute access protocol.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows descriptors power <code>@property</code></li> <li>Data (has <code>__set__</code>) vs non-data (only <code>__get__</code>) descriptors</li> <li>Uses <code>__set_name__</code> for automatic name binding</li> <li>Gives practical use case: validation, lazy loading, caching</li> </ul> </div> </details> <hr> <h3 id=explain-threading-vs-multiprocessing-in-python-google-amazon-interview-question>Explain Threading vs Multiprocessing in Python - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Concurrency</code>, <code>Threading</code>, <code>Multiprocessing</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong>Threading vs Multiprocessing:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>Threading</th> <th>Multiprocessing</th> </tr> </thead> <tbody> <tr> <td>GIL</td> <td>Shared (blocked)</td> <td>Separate per process</td> </tr> <tr> <td>Memory</td> <td>Shared</td> <td>Separate (IPC needed)</td> </tr> <tr> <td>Overhead</td> <td>Light</td> <td>Heavy (process spawn)</td> </tr> <tr> <td>Best for</td> <td>I/O-bound</td> <td>CPU-bound</td> </tr> <tr> <td>Debugging</td> <td>Harder (race conditions)</td> <td>Easier (isolated)</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>threading</span>
<span class=kn>import</span><span class=w> </span><span class=nn>multiprocessing</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=k>def</span><span class=w> </span><span class=nf>cpu_task</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;CPU-intensive task&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=n>i</span><span class=o>*</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>))</span>

<span class=c1># Threading (limited by GIL for CPU)</span>
<span class=k>def</span><span class=w> </span><span class=nf>thread_example</span><span class=p>():</span>
    <span class=n>threads</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>):</span>
        <span class=n>t</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>cpu_task</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=mi>10</span><span class=o>**</span><span class=mi>7</span><span class=p>,))</span>
        <span class=n>threads</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
        <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
        <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Threading: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>  <span class=c1># ~4s</span>

<span class=c1># Multiprocessing (true parallelism)</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_example</span><span class=p>():</span>
    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
    <span class=k>with</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Pool</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>pool</span><span class=p>:</span>
        <span class=n>results</span> <span class=o>=</span> <span class=n>pool</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>cpu_task</span><span class=p>,</span> <span class=p>[</span><span class=mi>10</span><span class=o>**</span><span class=mi>7</span><span class=p>]</span><span class=o>*</span><span class=mi>4</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Multiprocessing: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>  <span class=c1># ~1s</span>
</code></pre></div> <p><strong>Communication Between Processes:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>multiprocessing</span><span class=w> </span><span class=kn>import</span> <span class=n>Queue</span><span class=p>,</span> <span class=n>Pipe</span><span class=p>,</span> <span class=n>Manager</span>

<span class=c1># Queue</span>
<span class=k>def</span><span class=w> </span><span class=nf>worker</span><span class=p>(</span><span class=n>q</span><span class=p>):</span>
    <span class=n>q</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=s2>&quot;result&quot;</span><span class=p>)</span>

<span class=n>q</span> <span class=o>=</span> <span class=n>Queue</span><span class=p>()</span>
<span class=n>p</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>worker</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>q</span><span class=p>,))</span>
<span class=n>p</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>q</span><span class=o>.</span><span class=n>get</span><span class=p>())</span>  <span class=c1># &quot;result&quot;</span>
<span class=n>p</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>

<span class=c1># Manager for shared state</span>
<span class=k>with</span> <span class=n>Manager</span><span class=p>()</span> <span class=k>as</span> <span class=n>manager</span><span class=p>:</span>
    <span class=n>shared_dict</span> <span class=o>=</span> <span class=n>manager</span><span class=o>.</span><span class=n>dict</span><span class=p>()</span>
    <span class=n>shared_list</span> <span class=o>=</span> <span class=n>manager</span><span class=o>.</span><span class=n>list</span><span class=p>()</span>
</code></pre></div> <p><strong>concurrent.futures (High-level API):</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>concurrent.futures</span><span class=w> </span><span class=kn>import</span> <span class=n>ThreadPoolExecutor</span><span class=p>,</span> <span class=n>ProcessPoolExecutor</span>

<span class=c1># Thread pool for I/O</span>
<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>io_task</span><span class=p>,</span> <span class=n>urls</span><span class=p>))</span>

<span class=c1># Process pool for CPU</span>
<span class=k>with</span> <span class=n>ProcessPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>cpu_task</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of Python's concurrency limitations.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Immediately connects to GIL discussion</li> <li>Knows threading for I/O, multiprocessing for CPU</li> <li>Uses concurrent.futures as preferred API</li> <li>Mentions IPC overhead for multiprocessing</li> </ul> </div> </details> <hr> <h3 id=how-do-you-profile-and-optimize-python-code-amazon-google-interview-question>How Do You Profile and Optimize Python Code? - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Performance</code>, <code>Profiling</code>, <code>Optimization</code> | <strong>Asked by:</strong> Amazon, Google, Meta, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong>Profiling Tools:</strong></p> <table> <thead> <tr> <th>Tool</th> <th>Purpose</th> </tr> </thead> <tbody> <tr> <td><code>time</code></td> <td>Basic timing</td> </tr> <tr> <td><code>cProfile</code></td> <td>Function-level profiling</td> </tr> <tr> <td><code>line_profiler</code></td> <td>Line-by-line timing</td> </tr> <tr> <td><code>memory_profiler</code></td> <td>Memory usage</td> </tr> <tr> <td><code>py-spy</code></td> <td>Sampling profiler (production)</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic timing</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>expensive_function</span><span class=p>()</span>
<span class=n>elapsed</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>

<span class=c1># 2. timeit for benchmarking</span>
<span class=kn>import</span><span class=w> </span><span class=nn>timeit</span>
<span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span><span class=s1>&#39;&quot;-&quot;.join(str(n) for n in range(100))&#39;</span><span class=p>,</span> <span class=n>number</span><span class=o>=</span><span class=mi>10000</span><span class=p>)</span>

<span class=c1># 3. cProfile</span>
<span class=kn>import</span><span class=w> </span><span class=nn>cProfile</span>
<span class=n>cProfile</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=s1>&#39;main()&#39;</span><span class=p>,</span> <span class=n>sort</span><span class=o>=</span><span class=s1>&#39;cumulative&#39;</span><span class=p>)</span>

<span class=c1># Or as decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>profile</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>profiler</span> <span class=o>=</span> <span class=n>cProfile</span><span class=o>.</span><span class=n>Profile</span><span class=p>()</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>profiler</span><span class=o>.</span><span class=n>runcall</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=n>profiler</span><span class=o>.</span><span class=n>print_stats</span><span class=p>(</span><span class=n>sort</span><span class=o>=</span><span class=s1>&#39;cumulative&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=c1># 4. line_profiler (pip install line_profiler)</span>
<span class=nd>@profile</span>  <span class=c1># Add decorator, run with kernprof -l script.py</span>
<span class=k>def</span><span class=w> </span><span class=nf>slow_function</span><span class=p>():</span>
    <span class=n>result</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10000</span><span class=p>):</span>
        <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span><span class=o>**</span><span class=mi>2</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>result</span>
</code></pre></div> <p><strong>Common Optimizations:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Use built-ins</span>
<span class=c1># ‚ùå Slow</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[]</span>
<span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
    <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>upper</span><span class=p>())</span>

<span class=c1># ‚úÖ Fast</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>]</span>

<span class=c1># 2. Local variables (faster than global)</span>
<span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=n>items</span><span class=p>):</span>
    <span class=n>append</span> <span class=o>=</span> <span class=n>result</span><span class=o>.</span><span class=n>append</span>  <span class=c1># Cache method lookup</span>
    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>items</span><span class=p>:</span>
        <span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>

<span class=c1># 3. Use appropriate data structures</span>
<span class=c1># ‚ùå O(n) lookup</span>
<span class=k>if</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>large_list</span><span class=p>:</span>
    <span class=k>pass</span>

<span class=c1># ‚úÖ O(1) lookup</span>
<span class=n>large_set</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>large_list</span><span class=p>)</span>
<span class=k>if</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>large_set</span><span class=p>:</span>
    <span class=k>pass</span>

<span class=c1># 4. NumPy for numerical operations</span>
<span class=c1># ‚ùå Pure Python</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000000</span><span class=p>)]</span>

<span class=c1># ‚úÖ NumPy (100x faster)</span>
<span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>1000000</span><span class=p>)</span><span class=o>**</span><span class=mi>2</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Performance engineering skills.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses cProfile first, then line_profiler</li> <li>Knows "profile first, then optimize"</li> <li>Mentions algorithmic optimizations before micro-optimizations</li> <li>Suggests NumPy/Cython for heavy computation</li> </ul> </div> </details> <hr> <h3 id=how-do-you-write-unit-tests-in-python-most-tech-companies-interview-question>How Do You Write Unit Tests in Python? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Testing</code>, <code>pytest</code>, <code>unittest</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong>Testing Frameworks:</strong></p> <table> <thead> <tr> <th>Framework</th> <th>Pros</th> </tr> </thead> <tbody> <tr> <td><code>pytest</code></td> <td>Simple, powerful, most popular</td> </tr> <tr> <td><code>unittest</code></td> <td>Built-in, Java-like</td> </tr> <tr> <td><code>doctest</code></td> <td>Tests in docstrings</td> </tr> </tbody> </table> <p><strong>pytest Example:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># calculator.py</span>
<span class=k>def</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>

<span class=k>def</span><span class=w> </span><span class=nf>divide</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>b</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Cannot divide by zero&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>/</span> <span class=n>b</span>

<span class=c1># test_calculator.py</span>
<span class=kn>import</span><span class=w> </span><span class=nn>pytest</span>
<span class=kn>from</span><span class=w> </span><span class=nn>calculator</span><span class=w> </span><span class=kn>import</span> <span class=n>add</span><span class=p>,</span> <span class=n>divide</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_add</span><span class=p>():</span>
    <span class=k>assert</span> <span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span>
    <span class=k>assert</span> <span class=n>add</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_divide</span><span class=p>():</span>
    <span class=k>assert</span> <span class=n>divide</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_divide_by_zero</span><span class=p>():</span>
    <span class=k>with</span> <span class=n>pytest</span><span class=o>.</span><span class=n>raises</span><span class=p>(</span><span class=ne>ValueError</span><span class=p>,</span> <span class=n>match</span><span class=o>=</span><span class=s2>&quot;Cannot divide by zero&quot;</span><span class=p>):</span>
        <span class=n>divide</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

<span class=c1># Parametrized tests</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>mark</span><span class=o>.</span><span class=n>parametrize</span><span class=p>(</span><span class=s2>&quot;a,b,expected&quot;</span><span class=p>,</span> <span class=p>[</span>
    <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>
    <span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
    <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
<span class=p>])</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_add_parametrized</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>expected</span><span class=p>):</span>
    <span class=k>assert</span> <span class=n>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span> <span class=o>==</span> <span class=n>expected</span>

<span class=c1># Fixtures</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span>
<span class=k>def</span><span class=w> </span><span class=nf>sample_data</span><span class=p>():</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;users&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]}</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_with_fixture</span><span class=p>(</span><span class=n>sample_data</span><span class=p>):</span>
    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>sample_data</span><span class=p>[</span><span class=s2>&quot;users&quot;</span><span class=p>])</span> <span class=o>==</span> <span class=mi>3</span>
</code></pre></div> <p><strong>Mocking:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>unittest.mock</span><span class=w> </span><span class=kn>import</span> <span class=n>Mock</span><span class=p>,</span> <span class=n>patch</span><span class=p>,</span> <span class=n>MagicMock</span>

<span class=c1># Mock external API</span>
<span class=nd>@patch</span><span class=p>(</span><span class=s1>&#39;module.requests.get&#39;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_api_call</span><span class=p>(</span><span class=n>mock_get</span><span class=p>):</span>
    <span class=n>mock_get</span><span class=o>.</span><span class=n>return_value</span><span class=o>.</span><span class=n>json</span><span class=o>.</span><span class=n>return_value</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;key&quot;</span><span class=p>:</span> <span class=s2>&quot;value&quot;</span><span class=p>}</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>fetch_data</span><span class=p>()</span>
    <span class=k>assert</span> <span class=n>result</span> <span class=o>==</span> <span class=p>{</span><span class=s2>&quot;key&quot;</span><span class=p>:</span> <span class=s2>&quot;value&quot;</span><span class=p>}</span>

<span class=c1># Mock class method</span>
<span class=k>with</span> <span class=n>patch</span><span class=o>.</span><span class=n>object</span><span class=p>(</span><span class=n>MyClass</span><span class=p>,</span> <span class=s1>&#39;method&#39;</span><span class=p>,</span> <span class=n>return_value</span><span class=o>=</span><span class=mi>42</span><span class=p>):</span>
    <span class=n>obj</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>()</span>
    <span class=k>assert</span> <span class=n>obj</span><span class=o>.</span><span class=n>method</span><span class=p>()</span> <span class=o>==</span> <span class=mi>42</span>
</code></pre></div> <p><strong>Running Tests:</strong></p> <div class=highlight><pre><span></span><code>pytest<span class=w>                     </span><span class=c1># All tests</span>
pytest<span class=w> </span>test_file.py<span class=w>        </span><span class=c1># Specific file</span>
pytest<span class=w> </span>-k<span class=w> </span><span class=s2>&quot;test_add&quot;</span><span class=w>       </span><span class=c1># Match pattern</span>
pytest<span class=w> </span>-v<span class=w>                  </span><span class=c1># Verbose</span>
pytest<span class=w> </span>--cov<span class=o>=</span>mymodule<span class=w>     </span><span class=c1># Coverage</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Software engineering practices.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses pytest over unittest</li> <li>Knows fixtures and parametrization</li> <li>Uses mocking for external dependencies</li> <li>Mentions test coverage</li> </ul> </div> </details> <hr> <h3 id=how-do-you-handle-files-in-python-most-tech-companies-interview-question>How Do You Handle Files in Python? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>File I/O</code>, <code>Context Managers</code>, <code>Basics</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>Basic File Operations:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># ‚úÖ Always use context manager</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;file.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>content</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
<span class=c1># File automatically closed</span>

<span class=c1># Modes</span>
<span class=c1># &#39;r&#39; - read (default)</span>
<span class=c1># &#39;w&#39; - write (overwrite)</span>
<span class=c1># &#39;a&#39; - append</span>
<span class=c1># &#39;x&#39; - exclusive create (fail if exists)</span>
<span class=c1># &#39;b&#39; - binary mode</span>
<span class=c1># &#39;+&#39; - read and write</span>

<span class=c1># Reading methods</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;file.txt&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>content</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>         <span class=c1># Entire file as string</span>
    <span class=n>lines</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>readlines</span><span class=p>()</span>      <span class=c1># List of lines</span>
    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>             <span class=c1># Iterate (memory efficient)</span>
        <span class=n>process</span><span class=p>(</span><span class=n>line</span><span class=p>)</span>

<span class=c1># Writing</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;output.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&quot;Hello</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=n>f</span><span class=o>.</span><span class=n>writelines</span><span class=p>([</span><span class=s2>&quot;line1</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;line2</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>])</span>
</code></pre></div> <p><strong>Working with Paths (pathlib):</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>

<span class=c1># Modern way to handle paths</span>
<span class=n>path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;data&#39;</span><span class=p>)</span> <span class=o>/</span> <span class=s1>&#39;file.txt&#39;</span>

<span class=c1># Check existence</span>
<span class=k>if</span> <span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
    <span class=n>content</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>read_text</span><span class=p>()</span>

<span class=c1># Write</span>
<span class=n>path</span><span class=o>.</span><span class=n>write_text</span><span class=p>(</span><span class=s2>&quot;content&quot;</span><span class=p>)</span>

<span class=c1># List directory</span>
<span class=k>for</span> <span class=n>file</span> <span class=ow>in</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*.py&#39;</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>file</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>

<span class=c1># Common operations</span>
<span class=n>path</span><span class=o>.</span><span class=n>parent</span>      <span class=c1># Parent directory</span>
<span class=n>path</span><span class=o>.</span><span class=n>stem</span>        <span class=c1># Filename without extension</span>
<span class=n>path</span><span class=o>.</span><span class=n>suffix</span>      <span class=c1># Extension (.txt)</span>
<span class=n>path</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>   <span class=c1># Is it a file?</span>
<span class=n>path</span><span class=o>.</span><span class=n>mkdir</span><span class=p>(</span><span class=n>parents</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># Create directory</span>
</code></pre></div> <p><strong>Binary Files and JSON:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>json</span>

<span class=c1># JSON</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.json&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>

<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;output.json&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>

<span class=c1># Binary</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;image.png&#39;</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>binary_data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>

<span class=c1># CSV</span>
<span class=kn>import</span><span class=w> </span><span class=nn>csv</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.csv&#39;</span><span class=p>,</span> <span class=n>newline</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>reader</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>DictReader</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>reader</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>row</span><span class=p>[</span><span class=s1>&#39;column_name&#39;</span><span class=p>])</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Fundamental I/O skills.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Always uses context managers (<code>with</code>)</li> <li>Uses <code>pathlib</code> for paths (not os.path)</li> <li>Knows encoding: <code>open('f.txt', encoding='utf-8')</code></li> <li>Mentions streaming for large files</li> </ul> </div> </details> <hr> <h3 id=what-are-virtual-environments-and-how-do-you-manage-dependencies-most-tech-companies-interview-question>What Are Virtual Environments and How Do You Manage Dependencies? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Virtual Environments</code>, <code>Dependencies</code>, <code>Best Practices</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>What Are Virtual Environments?</strong></p> <p>Isolated Python environments that have their own packages, avoiding conflicts between projects.</p> <p><strong>Creating and Using Virtual Environments:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Built-in venv</span>
python<span class=w> </span>-m<span class=w> </span>venv<span class=w> </span>myenv
<span class=nb>source</span><span class=w> </span>myenv/bin/activate<span class=w>  </span><span class=c1># Linux/Mac</span>
myenv<span class=se>\S</span>cripts<span class=se>\a</span>ctivate<span class=w>     </span><span class=c1># Windows</span>

deactivate<span class=w>  </span><span class=c1># Exit virtual environment</span>

<span class=c1># With pip</span>
pip<span class=w> </span>install<span class=w> </span>requests
pip<span class=w> </span>freeze<span class=w> </span>&gt;<span class=w> </span>requirements.txt
pip<span class=w> </span>install<span class=w> </span>-r<span class=w> </span>requirements.txt
</code></pre></div> <p><strong>Modern Tools:</strong></p> <table> <thead> <tr> <th>Tool</th> <th>Purpose</th> </tr> </thead> <tbody> <tr> <td><code>venv</code></td> <td>Built-in, basic</td> </tr> <tr> <td><code>virtualenv</code></td> <td>More features</td> </tr> <tr> <td><code>conda</code></td> <td>Data science, binary packages</td> </tr> <tr> <td><code>poetry</code></td> <td>Dependency + packaging</td> </tr> <tr> <td><code>pipenv</code></td> <td>Pip + venv combined</td> </tr> <tr> <td><code>uv</code></td> <td>Fast, Rust-based (new)</td> </tr> </tbody> </table> <p><strong>Poetry Example:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Initialize project</span>
poetry<span class=w> </span>init

<span class=c1># Add dependencies</span>
poetry<span class=w> </span>add<span class=w> </span>requests
poetry<span class=w> </span>add<span class=w> </span>--group<span class=w> </span>dev<span class=w> </span>pytest

<span class=c1># Install from lock file</span>
poetry<span class=w> </span>install

<span class=c1># Run in virtual environment</span>
poetry<span class=w> </span>run<span class=w> </span>python<span class=w> </span>script.py
poetry<span class=w> </span>shell<span class=w>  </span><span class=c1># Activate shell</span>
</code></pre></div> <p><strong>pyproject.toml:</strong></p> <div class=highlight><pre><span></span><code><span class=k>[tool.poetry]</span>
<span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;myproject&quot;</span>
<span class=n>version</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;0.1.0&quot;</span>

<span class=k>[tool.poetry.dependencies]</span>
<span class=n>python</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;^3.10&quot;</span>
<span class=n>requests</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;^2.28&quot;</span>

<span class=k>[tool.poetry.group.dev.dependencies]</span>
<span class=n>pytest</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;^7.0&quot;</span>
<span class=n>black</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;^23.0&quot;</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Development workflow knowledge.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses virtual environments for every project</li> <li>Knows requirements.txt vs lock files</li> <li>Mentions Poetry or modern tooling</li> <li>Understands reproducible builds</li> </ul> </div> </details> <hr> <h3 id=explain-pythons-logging-module-how-do-you-use-it-effectively-amazon-google-interview-question>Explain Python's Logging Module - How Do You Use It Effectively? - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Logging</code>, <code>Debugging</code>, <code>Best Practices</code> | <strong>Asked by:</strong> Amazon, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>Logging Levels:</strong></p> <table> <thead> <tr> <th>Level</th> <th>When to Use</th> </tr> </thead> <tbody> <tr> <td>DEBUG</td> <td>Detailed diagnostic info</td> </tr> <tr> <td>INFO</td> <td>Confirm things work</td> </tr> <tr> <td>WARNING</td> <td>Unexpected but handled</td> </tr> <tr> <td>ERROR</td> <td>Serious problem</td> </tr> <tr> <td>CRITICAL</td> <td>Program may crash</td> </tr> </tbody> </table> <p><strong>Basic Usage:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>logging</span>

<span class=c1># Basic configuration</span>
<span class=n>logging</span><span class=o>.</span><span class=n>basicConfig</span><span class=p>(</span>
    <span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>,</span>
    <span class=nb>format</span><span class=o>=</span><span class=s1>&#39;</span><span class=si>%(asctime)s</span><span class=s1> - </span><span class=si>%(name)s</span><span class=s1> - </span><span class=si>%(levelname)s</span><span class=s1> - </span><span class=si>%(message)s</span><span class=s1>&#39;</span><span class=p>,</span>
    <span class=n>handlers</span><span class=o>=</span><span class=p>[</span>
        <span class=n>logging</span><span class=o>.</span><span class=n>FileHandler</span><span class=p>(</span><span class=s1>&#39;app.log&#39;</span><span class=p>),</span>
        <span class=n>logging</span><span class=o>.</span><span class=n>StreamHandler</span><span class=p>()</span>  <span class=c1># Console</span>
    <span class=p>]</span>
<span class=p>)</span>

<span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>

<span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Debugging info&quot;</span><span class=p>)</span>
<span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;User logged in&quot;</span><span class=p>)</span>
<span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Disk space low&quot;</span><span class=p>)</span>
<span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;Failed to connect&quot;</span><span class=p>)</span>
<span class=n>logger</span><span class=o>.</span><span class=n>exception</span><span class=p>(</span><span class=s2>&quot;Error with traceback&quot;</span><span class=p>)</span>  <span class=c1># Includes stack trace</span>
</code></pre></div> <p><strong>Structured Logging:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>logging</span>
<span class=kn>import</span><span class=w> </span><span class=nn>json</span>

<span class=k>class</span><span class=w> </span><span class=nc>JSONFormatter</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>Formatter</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>format</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>record</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
            <span class=s1>&#39;time&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>formatTime</span><span class=p>(</span><span class=n>record</span><span class=p>),</span>
            <span class=s1>&#39;level&#39;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>levelname</span><span class=p>,</span>
            <span class=s1>&#39;message&#39;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>getMessage</span><span class=p>(),</span>
            <span class=s1>&#39;module&#39;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>module</span><span class=p>,</span>
            <span class=s1>&#39;function&#39;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>funcName</span><span class=p>,</span>
        <span class=p>})</span>

<span class=c1># For production, use structured logging libraries</span>
<span class=c1># Example: structlog, python-json-logger</span>
</code></pre></div> <p><strong>Best Practices:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># ‚úÖ Use __name__ for logger</span>
<span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>

<span class=c1># ‚úÖ Use lazy formatting</span>
<span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;User </span><span class=si>%s</span><span class=s2> logged in at </span><span class=si>%s</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>username</span><span class=p>,</span> <span class=n>time</span><span class=p>)</span>

<span class=c1># ‚ùå Avoid string formatting in log call</span>
<span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;User </span><span class=si>{</span><span class=n>username</span><span class=si>}</span><span class=s2> logged in&quot;</span><span class=p>)</span>  <span class=c1># String built even if not logged</span>

<span class=c1># ‚úÖ Use extra for structured data</span>
<span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Order placed&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;order_id&#39;</span><span class=p>:</span> <span class=mi>123</span><span class=p>,</span> <span class=s1>&#39;amount&#39;</span><span class=p>:</span> <span class=mf>99.99</span><span class=p>})</span>

<span class=c1># ‚úÖ Don&#39;t use print() in production</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Production code practices.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses <code>__name__</code> for hierarchical loggers</li> <li>Knows lazy formatting for performance</li> <li>Mentions structured logging for production</li> <li>Configures different handlers (file, console, remote)</li> </ul> </div> </details> <hr> <h3 id=what-are-regular-expressions-in-python-most-tech-companies-interview-question>What Are Regular Expressions in Python? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Regex</code>, <code>Text Processing</code>, <code>Pattern Matching</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>Basic Regex Operations:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>re</span>

<span class=n>text</span> <span class=o>=</span> <span class=s2>&quot;Contact us at support@example.com or sales@company.org&quot;</span>

<span class=c1># match() - Start of string only</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;Contact&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)</span>

<span class=c1># search() - Find first occurrence</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\w+@\w+\.\w+&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)</span>
<span class=k>if</span> <span class=n>result</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=o>.</span><span class=n>group</span><span class=p>())</span>  <span class=c1># support@example.com</span>

<span class=c1># findall() - Find all occurrences</span>
<span class=n>emails</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\w+@\w+\.\w+&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>emails</span><span class=p>)</span>  <span class=c1># [&#39;support@example.com&#39;, &#39;sales@company.org&#39;]</span>

<span class=c1># sub() - Replace</span>
<span class=n>new_text</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\w+@\w+\.\w+&#39;</span><span class=p>,</span> <span class=s1>&#39;[EMAIL]&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)</span>

<span class=c1># split() - Split by pattern</span>
<span class=n>parts</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\s+&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)</span>
</code></pre></div> <p><strong>Common Patterns:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Email</span>
<span class=n>email_pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;^[\w\.-]+@[\w\.-]+\.\w+$&#39;</span>

<span class=c1># Phone (US)</span>
<span class=n>phone_pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;\d</span><span class=si>{3}</span><span class=s1>[-.]?\d</span><span class=si>{3}</span><span class=s1>[-.]?\d</span><span class=si>{4}</span><span class=s1>&#39;</span>

<span class=c1># URL</span>
<span class=n>url_pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;https?://[\w\.-]+(?:/[\w\.-]*)*&#39;</span>

<span class=c1># Date (YYYY-MM-DD)</span>
<span class=n>date_pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;\d</span><span class=si>{4}</span><span class=s1>-\d</span><span class=si>{2}</span><span class=s1>-\d</span><span class=si>{2}</span><span class=s1>&#39;</span>

<span class=c1># IP Address</span>
<span class=n>ip_pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}&#39;</span>
</code></pre></div> <p><strong>Groups and Named Groups:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Capturing groups</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;(\w+)@(\w+)\.(\w+)&#39;</span>
<span class=n>match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span> <span class=s1>&#39;user@example.com&#39;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>match</span><span class=o>.</span><span class=n>groups</span><span class=p>())</span>  <span class=c1># (&#39;user&#39;, &#39;example&#39;, &#39;com&#39;)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>1</span><span class=p>))</span>  <span class=c1># &#39;user&#39;</span>

<span class=c1># Named groups</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;(?P&lt;user&gt;\w+)@(?P&lt;domain&gt;\w+)\.(?P&lt;tld&gt;\w+)&#39;</span>
<span class=n>match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span> <span class=s1>&#39;user@example.com&#39;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>))</span>  <span class=c1># &#39;user&#39;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>match</span><span class=o>.</span><span class=n>groupdict</span><span class=p>())</span>  <span class=c1># {&#39;user&#39;: &#39;user&#39;, &#39;domain&#39;: &#39;example&#39;, &#39;tld&#39;: &#39;com&#39;}</span>

<span class=c1># Non-capturing group</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;(?:https?://)?www\.example\.com&#39;</span>
</code></pre></div> <p><strong>Compile for Performance:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Compile pattern for reuse</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\w+@\w+\.\w+&#39;</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>IGNORECASE</span><span class=p>)</span>

<span class=c1># Reuse compiled pattern</span>
<span class=n>emails</span> <span class=o>=</span> <span class=n>pattern</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Text processing skills.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows difference between <code>match()</code> and <code>search()</code></li> <li>Uses named groups for readability</li> <li>Compiles patterns for repeated use</li> <li>Knows raw strings <code>r''</code> prevent escape issues</li> </ul> </div> </details> <hr> <h3 id=what-is-__name__-__main__-why-use-it-most-tech-companies-interview-question>What is <code>__name__ == "__main__"</code>? Why Use It? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Modules</code>, <code>Entry Point</code>, <code>Best Practices</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>What Does It Mean?</strong></p> <p><code>__name__</code> is a special variable set by Python: - <code>"__main__"</code> when the file is run directly - Module name when imported</p> <div class=highlight><pre><span></span><code><span class=c1># my_module.py</span>
<span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Running main function&quot;</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>utility_function</span><span class=p>():</span>
    <span class=k>return</span> <span class=s2>&quot;I&#39;m a utility&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;__name__ is: </span><span class=si>{</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=c1># Run directly</span>
python<span class=w> </span>my_module.py
<span class=c1># Output:</span>
<span class=c1># __name__ is: __main__</span>
<span class=c1># Running main function</span>

<span class=c1># Import</span>
python<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;import my_module&quot;</span>
<span class=c1># Output:</span>
<span class=c1># __name__ is: my_module</span>
<span class=c1># (main() not called)</span>
</code></pre></div> <p><strong>Why It Matters:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># ‚ùå Without guard - runs on import</span>
<span class=kn>import</span><span class=w> </span><span class=nn>expensive_module</span>  <span class=c1># Starts computation/server/etc.</span>

<span class=c1># ‚úÖ With guard - only runs when executed directly</span>
<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>start_server</span><span class=p>()</span>
    <span class=n>run_tests</span><span class=p>()</span>
</code></pre></div> <p><strong>Best Practice Structure:</strong></p> <div class=highlight><pre><span></span><code><span class=ch>#!/usr/bin/env python3</span>
<span class=sd>&quot;&quot;&quot;Module docstring.&quot;&quot;&quot;</span>

<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span>

<span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>args</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Main entry point.&quot;&quot;&quot;</span>
    <span class=c1># Your code here</span>
    <span class=k>return</span> <span class=mi>0</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>main</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>:]))</span>
</code></pre></div> <p><strong>Use Cases:</strong></p> <table> <thead> <tr> <th>With Guard</th> <th>Without Guard</th> </tr> </thead> <tbody> <tr> <td>CLI scripts</td> <td>Library modules (pure functions)</td> </tr> <tr> <td>One-off tests</td> <td>Constant definitions</td> </tr> <tr> <td>Server startup</td> <td>Class definitions</td> </tr> </tbody> </table> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Basic Python module understanding.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Explains the dual nature of Python files (script vs module)</li> <li>Knows it prevents code execution on import</li> <li>Uses <code>sys.exit(main())</code> pattern for CLI tools</li> <li>Mentions testability: "Can import and test functions separately"</li> </ul> </div> </details> <hr> <h3 id=what-is-itertools-how-do-you-use-it-google-amazon-interview-question>What is <code>itertools</code>? How Do You Use It? - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Iterators</code>, <code>Functional</code>, <code>Standard Library</code> | <strong>Asked by:</strong> Google, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>What is itertools?</strong></p> <p>The <code>itertools</code> module provides memory-efficient tools for working with iterators.</p> <p><strong>Infinite Iterators:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>itertools</span><span class=w> </span><span class=kn>import</span> <span class=n>count</span><span class=p>,</span> <span class=n>cycle</span><span class=p>,</span> <span class=n>repeat</span>

<span class=c1># count(start, step) - infinite counter</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>count</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>2</span><span class=p>):</span>  <span class=c1># 10, 12, 14, ...</span>
    <span class=k>if</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>20</span><span class=p>:</span>
        <span class=k>break</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>

<span class=c1># cycle(iterable) - repeat infinitely</span>
<span class=n>colors</span> <span class=o>=</span> <span class=n>cycle</span><span class=p>([</span><span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=s1>&#39;green&#39;</span><span class=p>,</span> <span class=s1>&#39;blue&#39;</span><span class=p>])</span>
<span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>6</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>colors</span><span class=p>))</span>

<span class=c1># repeat(elem, n) - repeat n times</span>
<span class=nb>list</span><span class=p>(</span><span class=n>repeat</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>  <span class=c1># [&#39;A&#39;, &#39;A&#39;, &#39;A&#39;]</span>
</code></pre></div> <p><strong>Combinatoric Functions:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>itertools</span><span class=w> </span><span class=kn>import</span> <span class=n>permutations</span><span class=p>,</span> <span class=n>combinations</span><span class=p>,</span> <span class=n>product</span>

<span class=c1># permutations - ordered arrangements</span>
<span class=nb>list</span><span class=p>(</span><span class=n>permutations</span><span class=p>(</span><span class=s1>&#39;ABC&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>  <span class=c1># [(&#39;A&#39;,&#39;B&#39;), (&#39;A&#39;,&#39;C&#39;), (&#39;B&#39;,&#39;A&#39;), ...]</span>

<span class=c1># combinations - unordered selections</span>
<span class=nb>list</span><span class=p>(</span><span class=n>combinations</span><span class=p>(</span><span class=s1>&#39;ABC&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>  <span class=c1># [(&#39;A&#39;,&#39;B&#39;), (&#39;A&#39;,&#39;C&#39;), (&#39;B&#39;,&#39;C&#39;)]</span>

<span class=c1># product - cartesian product</span>
<span class=nb>list</span><span class=p>(</span><span class=n>product</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>]))</span>  <span class=c1># [(1,&#39;a&#39;), (1,&#39;b&#39;), (2,&#39;a&#39;), (2,&#39;b&#39;)]</span>
</code></pre></div> <p><strong>Practical Functions:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>itertools</span><span class=w> </span><span class=kn>import</span> <span class=n>chain</span><span class=p>,</span> <span class=n>groupby</span><span class=p>,</span> <span class=n>islice</span><span class=p>,</span> <span class=n>accumulate</span>

<span class=c1># chain - flatten iterables</span>
<span class=nb>list</span><span class=p>(</span><span class=n>chain</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>]))</span>  <span class=c1># [1, 2, 3, 4]</span>

<span class=c1># groupby - group consecutive elements</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)]</span>
<span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>group</span> <span class=ow>in</span> <span class=n>groupby</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=nb>list</span><span class=p>(</span><span class=n>group</span><span class=p>))</span>

<span class=c1># islice - slice iterator</span>
<span class=nb>list</span><span class=p>(</span><span class=n>islice</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span>  <span class=c1># [5, 6, 7, 8, 9]</span>

<span class=c1># accumulate - running totals</span>
<span class=nb>list</span><span class=p>(</span><span class=n>accumulate</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>]))</span>  <span class=c1># [1, 3, 6, 10]</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Efficient iteration patterns.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows itertools is memory-efficient (no list creation)</li> <li>Uses chain.from_iterable for nested iteration</li> <li>Knows groupby requires sorted input for full grouping</li> <li>Mentions more_itertools for extended functionality</li> </ul> </div> </details> <hr> <h3 id=what-is-functools-explain-lru_cache-and-partial-google-amazon-interview-question>What is <code>functools</code>? Explain <code>lru_cache</code> and <code>partial</code> - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Functional Programming</code>, <code>Caching</code>, <code>Standard Library</code> | <strong>Asked by:</strong> Google, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>functools Module:</strong></p> <p>Higher-order functions and operations on callable objects.</p> <p><strong>lru_cache - Memoization:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>lru_cache</span>

<span class=c1># Cache function results</span>
<span class=nd>@lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>128</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>n</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>n</span>
    <span class=k>return</span> <span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>

<span class=n>fibonacci</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>  <span class=c1># Computed instantly with cache</span>

<span class=c1># Python 3.9+ cache (no size limit)</span>
<span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>cache</span>

<span class=nd>@cache</span>
<span class=k>def</span><span class=w> </span><span class=nf>expensive_computation</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>x</span> <span class=o>**</span> <span class=n>y</span>

<span class=c1># Cache info</span>
<span class=nb>print</span><span class=p>(</span><span class=n>fibonacci</span><span class=o>.</span><span class=n>cache_info</span><span class=p>())</span>
<span class=n>fibonacci</span><span class=o>.</span><span class=n>cache_clear</span><span class=p>()</span>  <span class=c1># Clear cache</span>
</code></pre></div> <p><strong>partial - Partial Function Application:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>partial</span>

<span class=k>def</span><span class=w> </span><span class=nf>power</span><span class=p>(</span><span class=n>base</span><span class=p>,</span> <span class=n>exponent</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>base</span> <span class=o>**</span> <span class=n>exponent</span>

<span class=n>square</span> <span class=o>=</span> <span class=n>partial</span><span class=p>(</span><span class=n>power</span><span class=p>,</span> <span class=n>exponent</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=n>cube</span> <span class=o>=</span> <span class=n>partial</span><span class=p>(</span><span class=n>power</span><span class=p>,</span> <span class=n>exponent</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>square</span><span class=p>(</span><span class=mi>4</span><span class=p>))</span>  <span class=c1># 16</span>
<span class=nb>print</span><span class=p>(</span><span class=n>cube</span><span class=p>(</span><span class=mi>4</span><span class=p>))</span>    <span class=c1># 64</span>

<span class=c1># Useful with map</span>
<span class=k>def</span><span class=w> </span><span class=nf>multiply</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>x</span> <span class=o>*</span> <span class=n>y</span>

<span class=n>double</span> <span class=o>=</span> <span class=n>partial</span><span class=p>(</span><span class=n>multiply</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=n>double</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]))</span>  <span class=c1># [2, 4, 6]</span>
</code></pre></div> <p><strong>Other functools:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>reduce</span><span class=p>,</span> <span class=n>wraps</span><span class=p>,</span> <span class=n>total_ordering</span>

<span class=c1># reduce - fold/accumulate</span>
<span class=n>reduce</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span>  <span class=c1># 10</span>

<span class=c1># wraps - preserve metadata in decorators</span>
<span class=k>def</span><span class=w> </span><span class=nf>my_decorator</span><span class=p>(</span><span class=n>f</span><span class=p>):</span>
    <span class=nd>@wraps</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>f</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=c1># total_ordering - auto-generate comparison methods</span>
<span class=nd>@total_ordering</span>
<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>name</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>&lt;</span> <span class=n>other</span><span class=o>.</span><span class=n>name</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Functional programming knowledge.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses lru_cache for expensive computations</li> <li>Knows lru_cache only works with hashable arguments</li> <li>Uses partial to create specialized functions</li> <li>Mentions @wraps for proper decorator metadata</li> </ul> </div> </details> <hr> <h3 id=what-is-the-collections-module-google-amazon-interview-question>What is the <code>collections</code> Module? - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Data Structures</code>, <code>Collections</code>, <code>Standard Library</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>collections Module:</strong></p> <p>Specialized container datatypes beyond built-in dict, list, set, tuple.</p> <p><strong>defaultdict:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=n>defaultdict</span>

<span class=c1># Auto-create missing keys</span>
<span class=n>word_count</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>
<span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;banana&#39;</span><span class=p>,</span> <span class=s1>&#39;apple&#39;</span><span class=p>]:</span>
    <span class=n>word_count</span><span class=p>[</span><span class=n>word</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>  <span class=c1># No KeyError</span>

<span class=c1># Grouping</span>
<span class=n>groups</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
<span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=p>[(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)]:</span>
    <span class=n>groups</span><span class=p>[</span><span class=n>item</span><span class=p>[</span><span class=mi>0</span><span class=p>]]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=n>groups</span><span class=p>)</span>  <span class=c1># {&#39;a&#39;: [1, 3], &#39;b&#39;: [2]}</span>
</code></pre></div> <p><strong>Counter:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=n>Counter</span>

<span class=c1># Count elements</span>
<span class=n>c</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>([</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>  <span class=c1># Counter({&#39;a&#39;: 3, &#39;b&#39;: 1, &#39;c&#39;: 1})</span>
<span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>most_common</span><span class=p>(</span><span class=mi>2</span><span class=p>))</span>  <span class=c1># [(&#39;a&#39;, 3), (&#39;b&#39;, 1)]</span>

<span class=c1># Operations</span>
<span class=n>c1</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=s1>&#39;aab&#39;</span><span class=p>)</span>
<span class=n>c2</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=s1>&#39;abc&#39;</span><span class=p>)</span>
<span class=n>c1</span> <span class=o>+</span> <span class=n>c2</span>  <span class=c1># Counter({&#39;a&#39;: 3, &#39;b&#39;: 2, &#39;c&#39;: 1})</span>
<span class=n>c1</span> <span class=o>-</span> <span class=n>c2</span>  <span class=c1># Counter({&#39;a&#39;: 1})</span>
</code></pre></div> <p><strong>deque (Double-ended queue):</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=n>deque</span>

<span class=n>d</span> <span class=o>=</span> <span class=n>deque</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
<span class=n>d</span><span class=o>.</span><span class=n>appendleft</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>   <span class=c1># O(1) prepend</span>
<span class=n>d</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>       <span class=c1># O(1) pop from front</span>
<span class=n>d</span><span class=o>.</span><span class=n>rotate</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>       <span class=c1># Rotate right</span>

<span class=c1># Max length (automatic removal)</span>
<span class=n>d</span> <span class=o>=</span> <span class=n>deque</span><span class=p>(</span><span class=n>maxlen</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
<span class=n>d</span><span class=o>.</span><span class=n>extend</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span>  <span class=c1># deque([2, 3, 4])</span>
</code></pre></div> <p><strong>namedtuple:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=n>namedtuple</span>

<span class=n>Point</span> <span class=o>=</span> <span class=n>namedtuple</span><span class=p>(</span><span class=s1>&#39;Point&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>])</span>
<span class=n>p</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>p</span><span class=o>.</span><span class=n>y</span><span class=p>)</span>  <span class=c1># 3 4</span>
<span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>      <span class=c1># 3 (tuple access)</span>

<span class=c1># With defaults (Python 3.7+)</span>
<span class=n>Point</span> <span class=o>=</span> <span class=n>namedtuple</span><span class=p>(</span><span class=s1>&#39;Point&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>],</span> <span class=n>defaults</span><span class=o>=</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<span class=n>Point</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># Point(x=1, y=0)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Data structure knowledge.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses defaultdict to avoid key checking</li> <li>Knows Counter for frequency counting</li> <li>Uses deque for O(1) operations on both ends</li> <li>Mentions OrderedDict is redundant in Python 3.7+</li> </ul> </div> </details> <hr> <h3 id=how-do-you-serialize-python-objects-explain-pickle-and-json-amazon-google-interview-question>How Do You Serialize Python Objects? Explain <code>pickle</code> and <code>json</code> - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Serialization</code>, <code>Persistence</code>, <code>Data Exchange</code> | <strong>Asked by:</strong> Amazon, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>Serialization Options:</strong></p> <table> <thead> <tr> <th>Format</th> <th>Use Case</th> <th>Human Readable</th> <th>Speed</th> </tr> </thead> <tbody> <tr> <td>JSON</td> <td>API, config</td> <td>Yes</td> <td>Fast</td> </tr> <tr> <td>pickle</td> <td>Python objects</td> <td>No</td> <td>Faster</td> </tr> <tr> <td>YAML</td> <td>Config files</td> <td>Yes</td> <td>Slow</td> </tr> <tr> <td>MessagePack</td> <td>Binary JSON</td> <td>No</td> <td>Very fast</td> </tr> </tbody> </table> <p><strong>JSON:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>json</span>

<span class=n>data</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Alice&#39;</span><span class=p>,</span> <span class=s1>&#39;scores&#39;</span><span class=p>:</span> <span class=p>[</span><span class=mi>95</span><span class=p>,</span> <span class=mi>87</span><span class=p>,</span> <span class=mi>91</span><span class=p>]}</span>

<span class=c1># Serialize</span>
<span class=n>json_str</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.json&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>

<span class=c1># Deserialize</span>
<span class=n>parsed</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>json_str</span><span class=p>)</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.json&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>loaded</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>

<span class=c1># Custom encoder</span>
<span class=k>class</span><span class=w> </span><span class=nc>CustomEncoder</span><span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>JSONEncoder</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>default</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>):</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>datetime</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>obj</span><span class=o>.</span><span class=n>isoformat</span><span class=p>()</span>
        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>default</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>

<span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=n>CustomEncoder</span><span class=p>)</span>
</code></pre></div> <p><strong>pickle:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>pickle</span>

<span class=c1># Can serialize any Python object</span>
<span class=n>model</span> <span class=o>=</span> <span class=n>train_model</span><span class=p>()</span>  <span class=c1># sklearn model</span>

<span class=c1># Save</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;model.pkl&#39;</span><span class=p>,</span> <span class=s1>&#39;wb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>pickle</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>

<span class=c1># Load</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;model.pkl&#39;</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>model</span> <span class=o>=</span> <span class=n>pickle</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>

<span class=c1># ‚ö†Ô∏è Security warning</span>
<span class=c1># Never unpickle untrusted data - arbitrary code execution!</span>
</code></pre></div> <p><strong>When to Use:</strong></p> <table> <thead> <tr> <th>Use JSON</th> <th>Use pickle</th> </tr> </thead> <tbody> <tr> <td>Cross-language</td> <td>Python-only</td> </tr> <tr> <td>API responses</td> <td>ML models</td> </tr> <tr> <td>Config files</td> <td>Complex objects</td> </tr> <tr> <td>Security matters</td> <td>Trusted source</td> </tr> </tbody> </table> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Data persistence knowledge.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Warns about pickle security risks</li> <li>Uses json for interoperability</li> <li>Knows pickle preserves Python types</li> <li>Mentions joblib for numpy/sklearn objects</li> </ul> </div> </details> <hr> <h3 id=what-is-subprocess-how-do-you-run-shell-commands-amazon-google-interview-question>What is <code>subprocess</code>? How Do You Run Shell Commands? - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>System</code>, <code>Shell</code>, <code>Process Management</code> | <strong>Asked by:</strong> Amazon, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>subprocess Module:</strong></p> <p>Run external commands and capture output.</p> <p><strong>Basic Usage:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>subprocess</span>

<span class=c1># Simple command (Python 3.5+)</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>([</span><span class=s1>&#39;ls&#39;</span><span class=p>,</span> <span class=s1>&#39;-la&#39;</span><span class=p>],</span> <span class=n>capture_output</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>text</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=o>.</span><span class=n>stdout</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=o>.</span><span class=n>returncode</span><span class=p>)</span>  <span class=c1># 0 = success</span>

<span class=c1># With shell=True (careful with user input!)</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=s1>&#39;ls -la | grep .py&#39;</span><span class=p>,</span> <span class=n>shell</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>capture_output</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>text</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

<span class=c1># Check for errors</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>([</span><span class=s1>&#39;ls&#39;</span><span class=p>,</span> <span class=s1>&#39;nonexistent&#39;</span><span class=p>],</span> <span class=n>capture_output</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>text</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=k>if</span> <span class=n>result</span><span class=o>.</span><span class=n>returncode</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>result</span><span class=o>.</span><span class=n>stderr</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Raise exception on failure</span>
<span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>([</span><span class=s1>&#39;false&#39;</span><span class=p>],</span> <span class=n>check</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># Raises CalledProcessError</span>
</code></pre></div> <p><strong>Advanced Usage:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># With timeout</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>([</span><span class=s1>&#39;sleep&#39;</span><span class=p>,</span> <span class=s1>&#39;10&#39;</span><span class=p>],</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
<span class=k>except</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>TimeoutExpired</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Command timed out&quot;</span><span class=p>)</span>

<span class=c1># Piping between processes</span>
<span class=n>p1</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>Popen</span><span class=p>([</span><span class=s1>&#39;cat&#39;</span><span class=p>,</span> <span class=s1>&#39;file.txt&#39;</span><span class=p>],</span> <span class=n>stdout</span><span class=o>=</span><span class=n>subprocess</span><span class=o>.</span><span class=n>PIPE</span><span class=p>)</span>
<span class=n>p2</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>Popen</span><span class=p>([</span><span class=s1>&#39;grep&#39;</span><span class=p>,</span> <span class=s1>&#39;pattern&#39;</span><span class=p>],</span> <span class=n>stdin</span><span class=o>=</span><span class=n>p1</span><span class=o>.</span><span class=n>stdout</span><span class=p>,</span> <span class=n>stdout</span><span class=o>=</span><span class=n>subprocess</span><span class=o>.</span><span class=n>PIPE</span><span class=p>)</span>
<span class=n>p1</span><span class=o>.</span><span class=n>stdout</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
<span class=n>output</span> <span class=o>=</span> <span class=n>p2</span><span class=o>.</span><span class=n>communicate</span><span class=p>()[</span><span class=mi>0</span><span class=p>]</span>

<span class=c1># Pass input</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>([</span><span class=s1>&#39;cat&#39;</span><span class=p>],</span> <span class=nb>input</span><span class=o>=</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=n>text</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>capture_output</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div> <p><strong>Best Practices:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># ‚úÖ Use list of arguments (safe)</span>
<span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>([</span><span class=s1>&#39;ls&#39;</span><span class=p>,</span> <span class=s1>&#39;-la&#39;</span><span class=p>,</span> <span class=n>directory</span><span class=p>])</span>

<span class=c1># ‚ùå Avoid shell=True with user input</span>
<span class=c1># Vulnerable to injection!</span>
<span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;ls </span><span class=si>{</span><span class=n>user_input</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>shell</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># DANGEROUS</span>

<span class=c1># ‚úÖ Use shlex for complex commands</span>
<span class=kn>import</span><span class=w> </span><span class=nn>shlex</span>
<span class=n>cmd</span> <span class=o>=</span> <span class=n>shlex</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;ls -la &quot;my file.txt&quot;&#39;</span><span class=p>)</span>
<span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>cmd</span><span class=p>)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> System integration skills.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses run() over deprecated os.system()</li> <li>Warns about shell=True security risks</li> <li>Knows capture_output=True shortcut</li> <li>Handles timeout and errors properly</li> </ul> </div> </details> <hr> <h3 id=what-is-argparse-how-do-you-build-cli-tools-amazon-google-interview-question>What is <code>argparse</code>? How Do You Build CLI Tools? - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>CLI</code>, <code>Arguments</code>, <code>Tool Building</code> | <strong>Asked by:</strong> Amazon, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>argparse for CLI:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>argparse</span>

<span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
        <span class=n>description</span><span class=o>=</span><span class=s1>&#39;Process some files.&#39;</span>
    <span class=p>)</span>

    <span class=c1># Positional argument</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;filename&#39;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s1>&#39;File to process&#39;</span><span class=p>)</span>

    <span class=c1># Optional arguments</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;-v&#39;</span><span class=p>,</span> <span class=s1>&#39;--verbose&#39;</span><span class=p>,</span> <span class=n>action</span><span class=o>=</span><span class=s1>&#39;store_true&#39;</span><span class=p>,</span>
                        <span class=n>help</span><span class=o>=</span><span class=s1>&#39;Enable verbose output&#39;</span><span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;-n&#39;</span><span class=p>,</span> <span class=s1>&#39;--count&#39;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>int</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span>
                        <span class=n>help</span><span class=o>=</span><span class=s1>&#39;Number of items (default: 10)&#39;</span><span class=p>)</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;-o&#39;</span><span class=p>,</span> <span class=s1>&#39;--output&#39;</span><span class=p>,</span> <span class=n>required</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
                        <span class=n>help</span><span class=o>=</span><span class=s1>&#39;Output file (required)&#39;</span><span class=p>)</span>

    <span class=c1># Choices</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;--format&#39;</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;json&#39;</span><span class=p>,</span> <span class=s1>&#39;csv&#39;</span><span class=p>,</span> <span class=s1>&#39;xml&#39;</span><span class=p>],</span>
                        <span class=n>default</span><span class=o>=</span><span class=s1>&#39;json&#39;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s1>&#39;Output format&#39;</span><span class=p>)</span>

    <span class=c1># Multiple values</span>
    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;--files&#39;</span><span class=p>,</span> <span class=n>nargs</span><span class=o>=</span><span class=s1>&#39;+&#39;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s1>&#39;Multiple files&#39;</span><span class=p>)</span>

    <span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>

    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Processing </span><span class=si>{</span><span class=n>args</span><span class=o>.</span><span class=n>filename</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Verbose: </span><span class=si>{</span><span class=n>args</span><span class=o>.</span><span class=n>verbose</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Count: </span><span class=si>{</span><span class=n>args</span><span class=o>.</span><span class=n>count</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Output: </span><span class=si>{</span><span class=n>args</span><span class=o>.</span><span class=n>output</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
</code></pre></div> <p><strong>Usage:</strong></p> <div class=highlight><pre><span></span><code>python<span class=w> </span>script.py<span class=w> </span>input.txt<span class=w> </span>-o<span class=w> </span>output.json<span class=w> </span>-v<span class=w> </span>-n<span class=w> </span><span class=m>20</span>
python<span class=w> </span>script.py<span class=w> </span>--help
</code></pre></div> <p><strong>Subcommands:</strong></p> <div class=highlight><pre><span></span><code><span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>()</span>
<span class=n>subparsers</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>add_subparsers</span><span class=p>(</span><span class=n>dest</span><span class=o>=</span><span class=s1>&#39;command&#39;</span><span class=p>)</span>

<span class=c1># git add</span>
<span class=n>add_parser</span> <span class=o>=</span> <span class=n>subparsers</span><span class=o>.</span><span class=n>add_parser</span><span class=p>(</span><span class=s1>&#39;add&#39;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s1>&#39;Add files&#39;</span><span class=p>)</span>
<span class=n>add_parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;files&#39;</span><span class=p>,</span> <span class=n>nargs</span><span class=o>=</span><span class=s1>&#39;+&#39;</span><span class=p>)</span>

<span class=c1># git commit</span>
<span class=n>commit_parser</span> <span class=o>=</span> <span class=n>subparsers</span><span class=o>.</span><span class=n>add_parser</span><span class=p>(</span><span class=s1>&#39;commit&#39;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s1>&#39;Commit changes&#39;</span><span class=p>)</span>
<span class=n>commit_parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;-m&#39;</span><span class=p>,</span> <span class=s1>&#39;--message&#39;</span><span class=p>,</span> <span class=n>required</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

<span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>
<span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>command</span> <span class=o>==</span> <span class=s1>&#39;add&#39;</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Adding: </span><span class=si>{</span><span class=n>args</span><span class=o>.</span><span class=n>files</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Practical tool building.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses type= for automatic conversion</li> <li>Knows action='store_true' for flags</li> <li>Uses subparsers for git-like commands</li> <li>Mentions click or typer as modern alternatives</li> </ul> </div> </details> <hr> <h3 id=how-do-you-work-with-datetime-in-python-most-tech-companies-interview-question>How Do You Work with Datetime in Python? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Datetime</code>, <code>Timezone</code>, <code>Time Handling</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>Basic datetime:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>datetime</span><span class=p>,</span> <span class=n>date</span><span class=p>,</span> <span class=n>time</span><span class=p>,</span> <span class=n>timedelta</span>

<span class=c1># Current time</span>
<span class=n>now</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
<span class=n>today</span> <span class=o>=</span> <span class=n>date</span><span class=o>.</span><span class=n>today</span><span class=p>()</span>

<span class=c1># Create specific date/time</span>
<span class=n>dt</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2024</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>25</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
<span class=n>d</span> <span class=o>=</span> <span class=n>date</span><span class=p>(</span><span class=mi>2024</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>25</span><span class=p>)</span>
<span class=n>t</span> <span class=o>=</span> <span class=n>time</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

<span class=c1># Parsing strings</span>
<span class=n>dt</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=s1>&#39;2024-12-25&#39;</span><span class=p>,</span> <span class=s1>&#39;%Y-%m-</span><span class=si>%d</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=n>dt</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>fromisoformat</span><span class=p>(</span><span class=s1>&#39;2024-12-25T10:30:00&#39;</span><span class=p>)</span>

<span class=c1># Formatting</span>
<span class=n>dt</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s1>&#39;%B </span><span class=si>%d</span><span class=s1>, %Y&#39;</span><span class=p>)</span>  <span class=c1># &#39;December 25, 2024&#39;</span>
<span class=n>dt</span><span class=o>.</span><span class=n>isoformat</span><span class=p>()</span>  <span class=c1># &#39;2024-12-25T10:30:00&#39;</span>
</code></pre></div> <p><strong>Date Arithmetic:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>timedelta</span>

<span class=n>now</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>

<span class=c1># Add/subtract time</span>
<span class=n>tomorrow</span> <span class=o>=</span> <span class=n>now</span> <span class=o>+</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
<span class=n>last_week</span> <span class=o>=</span> <span class=n>now</span> <span class=o>-</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>weeks</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
<span class=n>in_2_hours</span> <span class=o>=</span> <span class=n>now</span> <span class=o>+</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>hours</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>

<span class=c1># Difference between dates</span>
<span class=n>delta</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2024</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>31</span><span class=p>)</span> <span class=o>-</span> <span class=n>datetime</span><span class=p>(</span><span class=mi>2024</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>delta</span><span class=o>.</span><span class=n>days</span><span class=p>)</span>  <span class=c1># 365</span>
<span class=nb>print</span><span class=p>(</span><span class=n>delta</span><span class=o>.</span><span class=n>total_seconds</span><span class=p>())</span>
</code></pre></div> <p><strong>Timezones (Python 3.9+):</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>timezone</span>
<span class=kn>from</span><span class=w> </span><span class=nn>zoneinfo</span><span class=w> </span><span class=kn>import</span> <span class=n>ZoneInfo</span>

<span class=c1># UTC</span>
<span class=n>utc_now</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(</span><span class=n>timezone</span><span class=o>.</span><span class=n>utc</span><span class=p>)</span>

<span class=c1># Specific timezone</span>
<span class=n>ny</span> <span class=o>=</span> <span class=n>ZoneInfo</span><span class=p>(</span><span class=s1>&#39;America/New_York&#39;</span><span class=p>)</span>
<span class=n>la</span> <span class=o>=</span> <span class=n>ZoneInfo</span><span class=p>(</span><span class=s1>&#39;America/Los_Angeles&#39;</span><span class=p>)</span>

<span class=n>ny_time</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(</span><span class=n>ny</span><span class=p>)</span>
<span class=n>la_time</span> <span class=o>=</span> <span class=n>ny_time</span><span class=o>.</span><span class=n>astimezone</span><span class=p>(</span><span class=n>la</span><span class=p>)</span>

<span class=c1># Convert naive to aware</span>
<span class=n>naive</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
<span class=n>aware</span> <span class=o>=</span> <span class=n>naive</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>tzinfo</span><span class=o>=</span><span class=n>ZoneInfo</span><span class=p>(</span><span class=s1>&#39;UTC&#39;</span><span class=p>))</span>
</code></pre></div> <p><strong>Common Patterns:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Start/end of day</span>
<span class=n>start_of_day</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>combine</span><span class=p>(</span><span class=n>date</span><span class=o>.</span><span class=n>today</span><span class=p>(),</span> <span class=n>time</span><span class=o>.</span><span class=n>min</span><span class=p>)</span>
<span class=n>end_of_day</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>combine</span><span class=p>(</span><span class=n>date</span><span class=o>.</span><span class=n>today</span><span class=p>(),</span> <span class=n>time</span><span class=o>.</span><span class=n>max</span><span class=p>)</span>

<span class=c1># First day of month</span>
<span class=n>first_of_month</span> <span class=o>=</span> <span class=n>date</span><span class=o>.</span><span class=n>today</span><span class=p>()</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>day</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Time handling skills.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses zoneinfo for timezones (not pytz in Python 3.9+)</li> <li>Knows strftime format codes</li> <li>Always stores UTC, displays local</li> <li>Uses isoformat for serialization</li> </ul> </div> </details> <hr> <h3 id=what-is-the-difference-between-copy-and-deepcopy-google-amazon-interview-question>What is the Difference Between <code>copy</code> and <code>deepcopy</code>? - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Copying</code>, <code>References</code>, <code>Memory</code> | <strong>Asked by:</strong> Google, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>copy vs deepcopy:</strong></p> <table> <thead> <tr> <th>Type</th> <th>What It Does</th> </tr> </thead> <tbody> <tr> <td>Assignment (=)</td> <td>Same object, new reference</td> </tr> <tr> <td>Shallow copy</td> <td>New object, same nested references</td> </tr> <tr> <td>Deep copy</td> <td>New object, recursive copies</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>copy</span>

<span class=n>original</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]]</span>

<span class=c1># Assignment - same object</span>
<span class=n>assigned</span> <span class=o>=</span> <span class=n>original</span>
<span class=n>assigned</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;X&#39;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>original</span><span class=p>)</span>  <span class=c1># [[&#39;X&#39;, 2, 3], [4, 5, 6]] - Modified!</span>

<span class=c1># Shallow copy - new outer list, same inner lists</span>
<span class=n>original</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]]</span>
<span class=n>shallow</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>copy</span><span class=p>(</span><span class=n>original</span><span class=p>)</span>
<span class=c1># or shallow = original[:]</span>
<span class=c1># or shallow = list(original)</span>

<span class=n>shallow</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;X&#39;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>original</span><span class=p>)</span>  <span class=c1># [[&#39;X&#39;, 2, 3], [4, 5, 6]] - Inner modified!</span>

<span class=n>shallow</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=n>original</span><span class=p>)</span>  <span class=c1># [[&#39;X&#39;, 2, 3], [4, 5, 6]] - Outer not modified</span>

<span class=c1># Deep copy - completely independent</span>
<span class=n>original</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]]</span>
<span class=n>deep</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=n>original</span><span class=p>)</span>

<span class=n>deep</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;X&#39;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>original</span><span class=p>)</span>  <span class=c1># [[1, 2, 3], [4, 5, 6]] - Unchanged!</span>
</code></pre></div> <p><strong>Visual:</strong></p> <div class=highlight><pre><span></span><code>Original:  [list1, list2]
              |      |
Shallow:   [list1, list2]  &lt;- Same inner lists

Deep:      [list1&#39;, list2&#39;]  &lt;- New inner lists
</code></pre></div> <p><strong>Custom Objects:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Node</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>children</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__copy__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># Custom shallow copy</span>
        <span class=n>new</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>
        <span class=n>new</span><span class=o>.</span><span class=n>children</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>children</span>  <span class=c1># Same list</span>
        <span class=k>return</span> <span class=n>new</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__deepcopy__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>memo</span><span class=p>):</span>
        <span class=c1># Custom deep copy</span>
        <span class=n>new</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=p>,</span> <span class=n>memo</span><span class=p>))</span>
        <span class=n>new</span><span class=o>.</span><span class=n>children</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>children</span><span class=p>,</span> <span class=n>memo</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>new</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of object references.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows list[:] or list.copy() is shallow</li> <li>Uses deepcopy for nested structures</li> <li>Knows deepcopy handles circular references</li> <li>Implements <strong>copy</strong> and <strong>deepcopy</strong> for custom classes</li> </ul> </div> </details> <hr> <h3 id=what-is-heapq-how-do-you-use-priority-queues-amazon-google-interview-question>What is <code>heapq</code>? How Do You Use Priority Queues? - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Heap</code>, <code>Priority Queue</code>, <code>Algorithms</code> | <strong>Asked by:</strong> Amazon, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>heapq Module:</strong></p> <p>Binary heap implementation providing priority queue functionality.</p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>heapq</span>

<span class=c1># Create heap (min-heap)</span>
<span class=n>heap</span> <span class=o>=</span> <span class=p>[]</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>heap</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>heap</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>heap</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>heap</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>heap</span><span class=p>)</span>  <span class=c1># [1, 1, 4, 3] - heap property maintained</span>

<span class=c1># Pop smallest</span>
<span class=n>smallest</span> <span class=o>=</span> <span class=n>heapq</span><span class=o>.</span><span class=n>heappop</span><span class=p>(</span><span class=n>heap</span><span class=p>)</span>  <span class=c1># 1</span>

<span class=c1># Peek without removing</span>
<span class=n>smallest</span> <span class=o>=</span> <span class=n>heap</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>

<span class=c1># Heapify existing list</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heapify</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>  <span class=c1># In-place, O(n)</span>
</code></pre></div> <p><strong>Useful Operations:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># N smallest/largest - O(n log k)</span>
<span class=n>nums</span> <span class=o>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>nsmallest</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=n>nums</span><span class=p>)</span>  <span class=c1># [1, 1, 2]</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>nlargest</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=n>nums</span><span class=p>)</span>   <span class=c1># [9, 6, 5]</span>

<span class=c1># With key function</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;c&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>)]</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>nsmallest</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>  <span class=c1># [(&#39;b&#39;, 1), (&#39;c&#39;, 2)]</span>

<span class=c1># Push and pop in one operation</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heapreplace</span><span class=p>(</span><span class=n>heap</span><span class=p>,</span> <span class=n>new_item</span><span class=p>)</span>  <span class=c1># Pop then push</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappushpop</span><span class=p>(</span><span class=n>heap</span><span class=p>,</span> <span class=n>new_item</span><span class=p>)</span>  <span class=c1># Push then pop</span>
</code></pre></div> <p><strong>Max-Heap (workaround):</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Python only has min-heap, negate values for max</span>
<span class=n>max_heap</span> <span class=o>=</span> <span class=p>[]</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>max_heap</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>)</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>max_heap</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>max_heap</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>)</span>

<span class=n>largest</span> <span class=o>=</span> <span class=o>-</span><span class=n>heapq</span><span class=o>.</span><span class=n>heappop</span><span class=p>(</span><span class=n>max_heap</span><span class=p>)</span>  <span class=c1># 4</span>
</code></pre></div> <p><strong>Priority Queue with Class:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>dataclasses</span><span class=w> </span><span class=kn>import</span> <span class=n>dataclass</span><span class=p>,</span> <span class=n>field</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Any</span>

<span class=nd>@dataclass</span><span class=p>(</span><span class=n>order</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=k>class</span><span class=w> </span><span class=nc>PrioritizedItem</span><span class=p>:</span>
    <span class=n>priority</span><span class=p>:</span> <span class=nb>int</span>
    <span class=n>item</span><span class=p>:</span> <span class=n>Any</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>compare</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>

<span class=n>pq</span> <span class=o>=</span> <span class=p>[]</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>pq</span><span class=p>,</span> <span class=n>PrioritizedItem</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;task2&#39;</span><span class=p>))</span>
<span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>pq</span><span class=p>,</span> <span class=n>PrioritizedItem</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;task1&#39;</span><span class=p>))</span>

<span class=n>heapq</span><span class=o>.</span><span class=n>heappop</span><span class=p>(</span><span class=n>pq</span><span class=p>)</span><span class=o>.</span><span class=n>item</span>  <span class=c1># &#39;task1&#39;</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Data structure knowledge.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows heapq is min-heap only</li> <li>Uses nsmallest/nlargest for top-k problems</li> <li>Knows O(log n) push/pop, O(n) heapify</li> <li>Uses tuple (priority, data) for custom ordering</li> </ul> </div> </details> <hr> <h3 id=what-is-bisect-how-do-you-use-binary-search-amazon-google-interview-question>What is <code>bisect</code>? How Do You Use Binary Search? - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Binary Search</code>, <code>Sorted Lists</code>, <code>Algorithms</code> | <strong>Asked by:</strong> Amazon, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>bisect Module:</strong></p> <p>Binary search operations on sorted lists.</p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>bisect</span>

<span class=n>sorted_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>9</span><span class=p>]</span>

<span class=c1># Find insertion point</span>
<span class=n>bisect</span><span class=o>.</span><span class=n>bisect_left</span><span class=p>(</span><span class=n>sorted_list</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>   <span class=c1># 2 - insert before existing</span>
<span class=n>bisect</span><span class=o>.</span><span class=n>bisect_right</span><span class=p>(</span><span class=n>sorted_list</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>  <span class=c1># 3 - insert after existing</span>
<span class=n>bisect</span><span class=o>.</span><span class=n>bisect</span><span class=p>(</span><span class=n>sorted_list</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>        <span class=c1># Same as bisect_right</span>

<span class=c1># Insert while maintaining order</span>
<span class=n>bisect</span><span class=o>.</span><span class=n>insort</span><span class=p>(</span><span class=n>sorted_list</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>sorted_list</span><span class=p>)</span>  <span class=c1># [1, 3, 4, 5, 7, 9]</span>

<span class=c1># insort_left vs insort_right for duplicates</span>
</code></pre></div> <p><strong>Finding Exact Values:</strong></p> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>binary_search</span><span class=p>(</span><span class=n>sorted_list</span><span class=p>,</span> <span class=n>x</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if x exists in sorted list.&quot;&quot;&quot;</span>
    <span class=n>i</span> <span class=o>=</span> <span class=n>bisect</span><span class=o>.</span><span class=n>bisect_left</span><span class=p>(</span><span class=n>sorted_list</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>i</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>sorted_list</span><span class=p>)</span> <span class=ow>and</span> <span class=n>sorted_list</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>x</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>i</span>
    <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>

<span class=c1># Usage</span>
<span class=n>idx</span> <span class=o>=</span> <span class=n>binary_search</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>],</span> <span class=mi>5</span><span class=p>)</span>  <span class=c1># 2</span>
<span class=n>idx</span> <span class=o>=</span> <span class=n>binary_search</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>],</span> <span class=mi>4</span><span class=p>)</span>  <span class=c1># -1</span>
</code></pre></div> <p><strong>With Key Function (Python 3.10+):</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Binary search with key</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;c&#39;</span><span class=p>,</span> <span class=mi>5</span><span class=p>)]</span>
<span class=n>keys</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>]</span>  <span class=c1># Pre-computed keys</span>

<span class=n>idx</span> <span class=o>=</span> <span class=n>bisect</span><span class=o>.</span><span class=n>bisect_left</span><span class=p>(</span><span class=n>keys</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>  <span class=c1># 1</span>

<span class=c1># Python 3.10+</span>
<span class=c1># bisect.bisect_left(data, 3, key=lambda x: x[1])</span>
</code></pre></div> <p><strong>Applications:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Grade assignment</span>
<span class=k>def</span><span class=w> </span><span class=nf>grade</span><span class=p>(</span><span class=n>score</span><span class=p>):</span>
    <span class=n>breakpoints</span> <span class=o>=</span> <span class=p>[</span><span class=mi>60</span><span class=p>,</span> <span class=mi>70</span><span class=p>,</span> <span class=mi>80</span><span class=p>,</span> <span class=mi>90</span><span class=p>]</span>
    <span class=n>grades</span> <span class=o>=</span> <span class=s1>&#39;FDCBA&#39;</span>
    <span class=k>return</span> <span class=n>grades</span><span class=p>[</span><span class=n>bisect</span><span class=o>.</span><span class=n>bisect</span><span class=p>(</span><span class=n>breakpoints</span><span class=p>,</span> <span class=n>score</span><span class=p>)]</span>

<span class=n>grade</span><span class=p>(</span><span class=mi>65</span><span class=p>)</span>  <span class=c1># &#39;D&#39;</span>
<span class=n>grade</span><span class=p>(</span><span class=mi>85</span><span class=p>)</span>  <span class=c1># &#39;B&#39;</span>

<span class=c1># Maintaining sorted collection</span>
<span class=k>class</span><span class=w> </span><span class=nc>SortedList</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>):</span>
        <span class=n>bisect</span><span class=o>.</span><span class=n>insort</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>find_closest</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>):</span>
        <span class=n>pos</span> <span class=o>=</span> <span class=n>bisect</span><span class=o>.</span><span class=n>bisect_left</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>pos</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>):</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
        <span class=k>if</span> <span class=n>pos</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
        <span class=n>before</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>pos</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>
        <span class=n>after</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>pos</span><span class=p>]</span>
        <span class=k>return</span> <span class=n>before</span> <span class=k>if</span> <span class=n>x</span> <span class=o>-</span> <span class=n>before</span> <span class=o>&lt;=</span> <span class=n>after</span> <span class=o>-</span> <span class=n>x</span> <span class=k>else</span> <span class=n>after</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Binary search application.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows bisect_left vs bisect_right difference</li> <li>Uses bisect for O(log n) lookup in sorted lists</li> <li>Can implement exact value search</li> <li>Mentions SortedContainers for advanced use</li> </ul> </div> </details> <hr> <h3 id=explain-zip-enumerate-map-and-filter-most-tech-companies-interview-question>Explain <code>zip</code>, <code>enumerate</code>, <code>map</code>, and <code>filter</code> - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Built-ins</code>, <code>Functional</code>, <code>Iteration</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>zip - Combine Iterables:</strong></p> <div class=highlight><pre><span></span><code><span class=n>names</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Alice&#39;</span><span class=p>,</span> <span class=s1>&#39;Bob&#39;</span><span class=p>,</span> <span class=s1>&#39;Charlie&#39;</span><span class=p>]</span>
<span class=n>scores</span> <span class=o>=</span> <span class=p>[</span><span class=mi>95</span><span class=p>,</span> <span class=mi>87</span><span class=p>,</span> <span class=mi>91</span><span class=p>]</span>

<span class=c1># Pair elements</span>
<span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>score</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>names</span><span class=p>,</span> <span class=n>scores</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>score</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Create dict</span>
<span class=n>name_score</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=nb>zip</span><span class=p>(</span><span class=n>names</span><span class=p>,</span> <span class=n>scores</span><span class=p>))</span>

<span class=c1># Unzip</span>
<span class=n>pairs</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;c&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)]</span>
<span class=n>letters</span><span class=p>,</span> <span class=n>numbers</span> <span class=o>=</span> <span class=nb>zip</span><span class=p>(</span><span class=o>*</span><span class=n>pairs</span><span class=p>)</span>

<span class=c1># Stops at shortest</span>
<span class=nb>list</span><span class=p>(</span><span class=nb>zip</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>]))</span>  <span class=c1># [(1, &#39;a&#39;), (2, &#39;b&#39;)]</span>

<span class=c1># Longest with fill (Python 3.10+)</span>
<span class=kn>from</span><span class=w> </span><span class=nn>itertools</span><span class=w> </span><span class=kn>import</span> <span class=n>zip_longest</span>
<span class=nb>list</span><span class=p>(</span><span class=n>zip_longest</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>],</span> <span class=n>fillvalue</span><span class=o>=</span><span class=kc>None</span><span class=p>))</span>
</code></pre></div> <p><strong>enumerate - Index with Values:</strong></p> <div class=highlight><pre><span></span><code><span class=n>fruits</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;banana&#39;</span><span class=p>,</span> <span class=s1>&#39;cherry&#39;</span><span class=p>]</span>

<span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>fruit</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>fruits</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>fruit</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Start index</span>
<span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>fruit</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>fruits</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>fruit</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Create indexed dict</span>
<span class=n>indexed</span> <span class=o>=</span> <span class=p>{</span><span class=n>i</span><span class=p>:</span> <span class=n>v</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>fruits</span><span class=p>)}</span>
</code></pre></div> <p><strong>map - Transform Each Element:</strong></p> <div class=highlight><pre><span></span><code><span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>

<span class=c1># Apply function to each</span>
<span class=n>squared</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span><span class=p>,</span> <span class=n>numbers</span><span class=p>))</span>

<span class=c1># Multiple iterables</span>
<span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>]))</span>  <span class=c1># [11, 22]</span>

<span class=c1># With named function</span>
<span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=o>.</span><span class=n>upper</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>]))</span>  <span class=c1># [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span>
</code></pre></div> <p><strong>filter - Keep Matching Elements:</strong></p> <div class=highlight><pre><span></span><code><span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>

<span class=c1># Keep evens</span>
<span class=n>evens</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>,</span> <span class=n>numbers</span><span class=p>))</span>  <span class=c1># [2, 4, 6]</span>

<span class=c1># Remove falsy values</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>True</span><span class=p>]</span>
<span class=n>truthy</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>  <span class=c1># [1, &#39;hello&#39;, True]</span>
</code></pre></div> <p><strong>List Comprehension Alternative:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Often prefer comprehensions for readability</span>
<span class=n>squared</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>numbers</span><span class=p>]</span>  <span class=c1># vs map</span>
<span class=n>evens</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>numbers</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>]</span>  <span class=c1># vs filter</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Core Python iteration patterns.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows map/filter return iterators (lazy)</li> <li>Uses enumerate instead of range(len())</li> <li>Prefers comprehensions for simple cases</li> <li>Uses zip_longest for mismatched lengths</li> </ul> </div> </details> <hr> <h3 id=what-are-lambda-functions-when-to-use-them-most-tech-companies-interview-question>What Are Lambda Functions? When to Use Them? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Lambda</code>, <code>Functional</code>, <code>Anonymous Functions</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>Lambda Syntax:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># lambda arguments: expression</span>
<span class=n>square</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>**</span> <span class=mi>2</span>
<span class=n>add</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span>

<span class=nb>print</span><span class=p>(</span><span class=n>square</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>   <span class=c1># 25</span>
<span class=nb>print</span><span class=p>(</span><span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>   <span class=c1># 5</span>
</code></pre></div> <p><strong>Common Use Cases:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Sorting key</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;bob&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;alice&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;charlie&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)]</span>
<span class=nb>sorted</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>  <span class=c1># Sort by second element</span>

<span class=c1># max/min key</span>
<span class=nb>max</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>  <span class=c1># (&#39;bob&#39;, 3)</span>

<span class=c1># With map/filter</span>
<span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
<span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>*</span> <span class=mi>2</span><span class=p>,</span> <span class=n>numbers</span><span class=p>))</span>
<span class=nb>list</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>&gt;</span> <span class=mi>2</span><span class=p>,</span> <span class=n>numbers</span><span class=p>))</span>

<span class=c1># Default argument factory</span>
<span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=n>defaultdict</span>
<span class=n>d</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=k>lambda</span><span class=p>:</span> <span class=s1>&#39;unknown&#39;</span><span class=p>)</span>
</code></pre></div> <p><strong>Limitations:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># ‚ùå Single expression only (no statements)</span>
<span class=c1># lambda x: print(x); return x  # SyntaxError</span>

<span class=c1># ‚ùå No annotations</span>
<span class=c1># lambda x: int: x * 2  # SyntaxError</span>

<span class=c1># ‚ùå No docstrings</span>
</code></pre></div> <p><strong>When NOT to Use:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># ‚ùå Complex logic - use def</span>
<span class=n>bad</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=k>if</span> <span class=n>x</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=o>-</span><span class=n>x</span> <span class=k>if</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=mi>0</span>  <span class=c1># Hard to read</span>

<span class=c1># ‚úÖ Use regular function</span>
<span class=k>def</span><span class=w> </span><span class=nf>better</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return absolute value.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>x</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>x</span>
    <span class=k>elif</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>return</span> <span class=o>-</span><span class=n>x</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=mi>0</span>

<span class=c1># ‚ùå Assigning to variable - use def</span>
<span class=n>double</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>*</span> <span class=mi>2</span>  <span class=c1># PEP 8 discourages this</span>

<span class=c1># ‚úÖ Better</span>
<span class=k>def</span><span class=w> </span><span class=nf>double</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>x</span> <span class=o>*</span> <span class=mi>2</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Functional programming basics.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses lambda inline (sorting keys)</li> <li>Knows limitations (single expression)</li> <li>Uses def for reusable/documented functions</li> <li>PEP 8: "Don't assign lambda to variable"</li> </ul> </div> </details> <hr> <h3 id=what-are-closures-in-python-google-amazon-interview-question>What Are Closures in Python? - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Closures</code>, <code>Scope</code>, <code>Functional</code> | <strong>Asked by:</strong> Google, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>What is a Closure?</strong></p> <p>A closure is a function that remembers values from its enclosing scope even when called outside that scope.</p> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>make_multiplier</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>multiplier</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>x</span> <span class=o>*</span> <span class=n>n</span>  <span class=c1># &#39;n&#39; is captured from outer scope</span>
    <span class=k>return</span> <span class=n>multiplier</span>

<span class=n>double</span> <span class=o>=</span> <span class=n>make_multiplier</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=n>triple</span> <span class=o>=</span> <span class=n>make_multiplier</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>double</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>  <span class=c1># 10</span>
<span class=nb>print</span><span class=p>(</span><span class=n>triple</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>  <span class=c1># 15</span>
<span class=nb>print</span><span class=p>(</span><span class=n>double</span><span class=o>.</span><span class=vm>__closure__</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>cell_contents</span><span class=p>)</span>  <span class=c1># 2</span>
</code></pre></div> <p><strong>Closure Requirements:</strong></p> <ol> <li>Nested function</li> <li>Inner function references outer variables</li> <li>Outer function returns inner function</li> </ol> <p><strong>Common Use Cases:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Function factory</span>
<span class=k>def</span><span class=w> </span><span class=nf>make_counter</span><span class=p>():</span>
    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>def</span><span class=w> </span><span class=nf>counter</span><span class=p>():</span>
        <span class=k>nonlocal</span> <span class=n>count</span>
        <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>return</span> <span class=n>count</span>
    <span class=k>return</span> <span class=n>counter</span>

<span class=n>c</span> <span class=o>=</span> <span class=n>make_counter</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=p>())</span>  <span class=c1># 1</span>
<span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=p>())</span>  <span class=c1># 2</span>

<span class=c1># Data hiding</span>
<span class=k>def</span><span class=w> </span><span class=nf>make_bank_account</span><span class=p>(</span><span class=n>initial</span><span class=p>):</span>
    <span class=n>balance</span> <span class=o>=</span> <span class=n>initial</span>

    <span class=k>def</span><span class=w> </span><span class=nf>deposit</span><span class=p>(</span><span class=n>amount</span><span class=p>):</span>
        <span class=k>nonlocal</span> <span class=n>balance</span>
        <span class=n>balance</span> <span class=o>+=</span> <span class=n>amount</span>
        <span class=k>return</span> <span class=n>balance</span>

    <span class=k>def</span><span class=w> </span><span class=nf>withdraw</span><span class=p>(</span><span class=n>amount</span><span class=p>):</span>
        <span class=k>nonlocal</span> <span class=n>balance</span>
        <span class=k>if</span> <span class=n>amount</span> <span class=o>&lt;=</span> <span class=n>balance</span><span class=p>:</span>
            <span class=n>balance</span> <span class=o>-=</span> <span class=n>amount</span>
        <span class=k>return</span> <span class=n>balance</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_balance</span><span class=p>():</span>
        <span class=k>return</span> <span class=n>balance</span>

    <span class=k>return</span> <span class=n>deposit</span><span class=p>,</span> <span class=n>withdraw</span><span class=p>,</span> <span class=n>get_balance</span>
</code></pre></div> <p><strong>The nonlocal Keyword:</strong></p> <div class=highlight><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>outer</span><span class=p>():</span>
    <span class=n>x</span> <span class=o>=</span> <span class=mi>10</span>

    <span class=k>def</span><span class=w> </span><span class=nf>inner</span><span class=p>():</span>
        <span class=k>nonlocal</span> <span class=n>x</span>  <span class=c1># Required to modify outer variable</span>
        <span class=n>x</span> <span class=o>=</span> <span class=mi>20</span>

    <span class=n>inner</span><span class=p>()</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>  <span class=c1># 20</span>

<span class=c1># Without nonlocal, creates new local variable</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Understanding of scope and functions.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Explains how variables are captured</li> <li>Uses nonlocal for modification</li> <li>Knows closures enable state without classes</li> <li>Can inspect <strong>closure</strong> attribute</li> </ul> </div> </details> <hr> <h3 id=what-is-the-property-decorator-google-amazon-interview-question>What is the <code>@property</code> Decorator? - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Properties</code>, <code>OOP</code>, <code>Encapsulation</code> | <strong>Asked by:</strong> Google, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>@property Decorator:</strong></p> <p>Define getters/setters with attribute-like syntax.</p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Temperature</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>celsius</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>=</span> <span class=n>celsius</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>celsius</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get celsius value.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span>

    <span class=nd>@celsius</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>celsius</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=o>-</span><span class=mf>273.15</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Below absolute zero!&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>=</span> <span class=n>value</span>

    <span class=nd>@celsius</span><span class=o>.</span><span class=n>deleter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>celsius</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>fahrenheit</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Computed property.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>*</span> <span class=mi>9</span><span class=o>/</span><span class=mi>5</span> <span class=o>+</span> <span class=mi>32</span>

    <span class=nd>@fahrenheit</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>fahrenheit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>celsius</span> <span class=o>=</span> <span class=p>(</span><span class=n>value</span> <span class=o>-</span> <span class=mi>32</span><span class=p>)</span> <span class=o>*</span> <span class=mi>5</span><span class=o>/</span><span class=mi>9</span>

<span class=c1># Usage - looks like attribute access</span>
<span class=n>t</span> <span class=o>=</span> <span class=n>Temperature</span><span class=p>(</span><span class=mi>25</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>t</span><span class=o>.</span><span class=n>celsius</span><span class=p>)</span>      <span class=c1># 25</span>
<span class=nb>print</span><span class=p>(</span><span class=n>t</span><span class=o>.</span><span class=n>fahrenheit</span><span class=p>)</span>   <span class=c1># 77.0</span>

<span class=n>t</span><span class=o>.</span><span class=n>fahrenheit</span> <span class=o>=</span> <span class=mi>100</span>
<span class=nb>print</span><span class=p>(</span><span class=n>t</span><span class=o>.</span><span class=n>celsius</span><span class=p>)</span>      <span class=c1># 37.78</span>

<span class=n>t</span><span class=o>.</span><span class=n>celsius</span> <span class=o>=</span> <span class=o>-</span><span class=mi>300</span>      <span class=c1># Raises ValueError</span>
</code></pre></div> <p><strong>Read-Only Property:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>radius</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span> <span class=o>=</span> <span class=n>radius</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Area is computed, read-only.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=mf>3.14159</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span> <span class=o>**</span> <span class=mi>2</span>

<span class=n>c</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>area</span><span class=p>)</span>  <span class=c1># 78.54</span>
<span class=n>c</span><span class=o>.</span><span class=n>area</span> <span class=o>=</span> <span class=mi>100</span>   <span class=c1># AttributeError - no setter</span>
</code></pre></div> <p><strong>Lazy/Cached Property:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>ExpensiveObject</span><span class=p>:</span>
    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>&#39;_data&#39;</span><span class=p>):</span>
            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Computing...&quot;</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_data</span> <span class=o>=</span> <span class=n>expensive_computation</span><span class=p>()</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span>

<span class=c1># Python 3.8+ cached_property</span>
<span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>cached_property</span>

<span class=k>class</span><span class=w> </span><span class=nc>Better</span><span class=p>:</span>
    <span class=nd>@cached_property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Computing...&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>expensive_computation</span><span class=p>()</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Encapsulation and API design.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses properties for validation</li> <li>Knows read-only properties (no setter)</li> <li>Uses cached_property for expensive computations</li> <li>Understands when to use properties vs methods</li> </ul> </div> </details> <hr> <h3 id=what-are-abstract-base-classes-abcs-google-meta-interview-question>What Are Abstract Base Classes (ABCs)? - Google, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>OOP</code>, <code>Abstraction</code>, <code>Interfaces</code> | <strong>Asked by:</strong> Google, Meta, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong>Abstract Base Classes:</strong></p> <p>Define interfaces that subclasses must implement.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>abc</span><span class=w> </span><span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>

<span class=k>class</span><span class=w> </span><span class=nc>Shape</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Calculate area - must be implemented.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>perimeter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Calculate perimeter - must be implemented.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=nf>describe</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Concrete method - inherited.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;A shape with area </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>area</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>radius</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>radius</span>

    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=mf>3.14159</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>**</span> <span class=mi>2</span>

    <span class=k>def</span><span class=w> </span><span class=nf>perimeter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=mi>2</span> <span class=o>*</span> <span class=mf>3.14159</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span>

<span class=c1># Usage</span>
<span class=n>c</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>area</span><span class=p>())</span>       <span class=c1># 78.54</span>
<span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>describe</span><span class=p>())</span>   <span class=c1># &quot;A shape with area 78.54&quot;</span>

<span class=c1># Cannot instantiate abstract class</span>
<span class=n>s</span> <span class=o>=</span> <span class=n>Shape</span><span class=p>()</span>  <span class=c1># TypeError: Can&#39;t instantiate abstract class</span>
</code></pre></div> <p><strong>Abstract Properties:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>DataStore</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
    <span class=nd>@property</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>connection_string</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Connection string must be defined.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>connect</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>SQLStore</span><span class=p>(</span><span class=n>DataStore</span><span class=p>):</span>
    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>connection_string</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=s2>&quot;postgresql://...&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>connect</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Connected to </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span><span class=si>}</span><span class=s2>&quot;</span>
</code></pre></div> <p><strong>Duck Typing vs ABCs:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Duck typing - no formal interface</span>
<span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
    <span class=n>obj</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>  <span class=c1># Assumes .save() exists</span>

<span class=c1># ABC - explicit interface</span>
<span class=k>class</span><span class=w> </span><span class=nc>Saveable</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>pass</span>

<span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=n>obj</span><span class=p>:</span> <span class=n>Saveable</span><span class=p>):</span>
    <span class=n>obj</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>  <span class=c1># Guaranteed to exist</span>

<span class=c1># Check implementation</span>
<span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>Saveable</span><span class=p>)</span>  <span class=c1># True if implements interface</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Interface design and polymorphism.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses ABCs for API contracts</li> <li>Knows @abstractmethod forces implementation</li> <li>Can combine abstract and concrete methods</li> <li>Understands Python's duck typing philosophy</li> </ul> </div> </details> <hr> <h3 id=what-is-multiprocessingpool-how-do-you-parallelize-amazon-google-interview-question>What is <code>multiprocessing.Pool</code>? How Do You Parallelize? - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Parallelism</code>, <code>Multiprocessing</code>, <code>Performance</code> | <strong>Asked by:</strong> Amazon, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>Pool for Parallel Processing:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>multiprocessing</span><span class=w> </span><span class=kn>import</span> <span class=n>Pool</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=k>def</span><span class=w> </span><span class=nf>expensive_func</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># Simulate work</span>
    <span class=k>return</span> <span class=n>x</span> <span class=o>**</span> <span class=mi>2</span>

<span class=c1># Sequential - slow</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[</span><span class=n>expensive_func</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>)]</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Sequential: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>  <span class=c1># ~4s</span>

<span class=c1># Parallel - fast</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=k>with</span> <span class=n>Pool</span><span class=p>(</span><span class=n>processes</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>pool</span><span class=p>:</span>
    <span class=n>results</span> <span class=o>=</span> <span class=n>pool</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>expensive_func</span><span class=p>,</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Parallel: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>  <span class=c1># ~1s</span>
</code></pre></div> <p><strong>Pool Methods:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>multiprocessing</span><span class=w> </span><span class=kn>import</span> <span class=n>Pool</span>

<span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>x</span> <span class=o>*</span> <span class=mi>2</span>

<span class=k>with</span> <span class=n>Pool</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>pool</span><span class=p>:</span>
    <span class=c1># map - blocks until all complete</span>
    <span class=n>results</span> <span class=o>=</span> <span class=n>pool</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>process</span><span class=p>,</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>

    <span class=c1># imap - iterator, more memory efficient</span>
    <span class=k>for</span> <span class=n>result</span> <span class=ow>in</span> <span class=n>pool</span><span class=o>.</span><span class=n>imap</span><span class=p>(</span><span class=n>process</span><span class=p>,</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)):</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

    <span class=c1># imap_unordered - faster, arbitrary order</span>
    <span class=k>for</span> <span class=n>result</span> <span class=ow>in</span> <span class=n>pool</span><span class=o>.</span><span class=n>imap_unordered</span><span class=p>(</span><span class=n>process</span><span class=p>,</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)):</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

    <span class=c1># apply_async - non-blocking</span>
    <span class=n>future</span> <span class=o>=</span> <span class=n>pool</span><span class=o>.</span><span class=n>apply_async</span><span class=p>(</span><span class=n>process</span><span class=p>,</span> <span class=p>(</span><span class=mi>5</span><span class=p>,))</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>future</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>

    <span class=c1># starmap - multiple arguments</span>
    <span class=n>pool</span><span class=o>.</span><span class=n>starmap</span><span class=p>(</span><span class=nb>pow</span><span class=p>,</span> <span class=p>[(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>)])</span>  <span class=c1># [8, 16, 32]</span>
</code></pre></div> <p><strong>concurrent.futures (Preferred):</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>concurrent.futures</span><span class=w> </span><span class=kn>import</span> <span class=n>ProcessPoolExecutor</span><span class=p>,</span> <span class=n>as_completed</span>

<span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>x</span> <span class=o>**</span> <span class=mi>2</span>

<span class=k>with</span> <span class=n>ProcessPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=c1># Submit individual tasks</span>
    <span class=n>futures</span> <span class=o>=</span> <span class=p>[</span><span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>process</span><span class=p>,</span> <span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>

    <span class=c1># Get results as completed (any order)</span>
    <span class=k>for</span> <span class=n>future</span> <span class=ow>in</span> <span class=n>as_completed</span><span class=p>(</span><span class=n>futures</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>future</span><span class=o>.</span><span class=n>result</span><span class=p>())</span>

    <span class=c1># Or use map (ordered results)</span>
    <span class=n>results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>process</span><span class=p>,</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)))</span>
</code></pre></div> <p><strong>Gotchas:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Functions must be picklable (top-level, not lambda)</span>
<span class=c1># pool.map(lambda x: x*2, range(10))  # Error!</span>

<span class=c1># Shared state is complex - use Manager</span>
<span class=kn>from</span><span class=w> </span><span class=nn>multiprocessing</span><span class=w> </span><span class=kn>import</span> <span class=n>Manager</span>

<span class=k>with</span> <span class=n>Manager</span><span class=p>()</span> <span class=k>as</span> <span class=n>manager</span><span class=p>:</span>
    <span class=n>shared_dict</span> <span class=o>=</span> <span class=n>manager</span><span class=o>.</span><span class=n>dict</span><span class=p>()</span>
    <span class=n>shared_list</span> <span class=o>=</span> <span class=n>manager</span><span class=o>.</span><span class=n>list</span><span class=p>()</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Parallelization knowledge.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses context manager for cleanup</li> <li>Knows concurrent.futures is more modern</li> <li>Understands pickling requirement</li> <li>Chooses ProcessPool for CPU, ThreadPool for I/O</li> </ul> </div> </details> <hr> <h3 id=what-is-itertoolsgroupby-how-do-you-use-it-google-amazon-interview-question>What is <code>itertools.groupby</code>? How Do You Use It? - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Grouping</code>, <code>Iteration</code>, <code>Data Processing</code> | <strong>Asked by:</strong> Google, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>groupby Basics:</strong></p> <p>Groups consecutive elements with the same key.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>itertools</span><span class=w> </span><span class=kn>import</span> <span class=n>groupby</span>

<span class=c1># Simple grouping</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>]</span>
<span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>group</span> <span class=ow>in</span> <span class=n>groupby</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=nb>list</span><span class=p>(</span><span class=n>group</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=c1># 1: [1, 1]</span>
<span class=c1># 2: [2, 2, 2]</span>
<span class=c1># 3: [3]</span>
<span class=c1># 1: [1, 1]  &lt;- Note: 1 appears again!</span>
</code></pre></div> <p><strong>‚ö†Ô∏è Critical: Sort First for Full Grouping:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># For complete grouping, sort first!</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=mi>4</span><span class=p>)]</span>

<span class=c1># Sort by key</span>
<span class=n>sorted_data</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>

<span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>group</span> <span class=ow>in</span> <span class=n>groupby</span><span class=p>(</span><span class=n>sorted_data</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=nb>list</span><span class=p>(</span><span class=n>group</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=c1># a: [(&#39;a&#39;, 1), (&#39;a&#39;, 3)]</span>
<span class=c1># b: [(&#39;b&#39;, 2), (&#39;b&#39;, 4)]</span>
</code></pre></div> <p><strong>Common Patterns:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Count consecutive occurrences</span>
<span class=n>text</span> <span class=o>=</span> <span class=s2>&quot;aaabbbccaaa&quot;</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[(</span><span class=n>k</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>g</span><span class=p>)))</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>g</span> <span class=ow>in</span> <span class=n>groupby</span><span class=p>(</span><span class=n>text</span><span class=p>)]</span>
<span class=c1># [(&#39;a&#39;, 3), (&#39;b&#39;, 3), (&#39;c&#39;, 2), (&#39;a&#39;, 3)]</span>

<span class=c1># Group by attribute</span>
<span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=n>namedtuple</span>
<span class=n>Person</span> <span class=o>=</span> <span class=n>namedtuple</span><span class=p>(</span><span class=s1>&#39;Person&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=s1>&#39;age&#39;</span><span class=p>,</span> <span class=s1>&#39;city&#39;</span><span class=p>])</span>

<span class=n>people</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>Person</span><span class=p>(</span><span class=s1>&#39;Alice&#39;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s1>&#39;NYC&#39;</span><span class=p>),</span>
    <span class=n>Person</span><span class=p>(</span><span class=s1>&#39;Bob&#39;</span><span class=p>,</span> <span class=mi>25</span><span class=p>,</span> <span class=s1>&#39;NYC&#39;</span><span class=p>),</span>
    <span class=n>Person</span><span class=p>(</span><span class=s1>&#39;Charlie&#39;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s1>&#39;LA&#39;</span><span class=p>),</span>
<span class=p>]</span>

<span class=c1># Group by city</span>
<span class=n>by_city</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>people</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>p</span><span class=p>:</span> <span class=n>p</span><span class=o>.</span><span class=n>city</span><span class=p>)</span>
<span class=k>for</span> <span class=n>city</span><span class=p>,</span> <span class=n>group</span> <span class=ow>in</span> <span class=n>groupby</span><span class=p>(</span><span class=n>by_city</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>p</span><span class=p>:</span> <span class=n>p</span><span class=o>.</span><span class=n>city</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>city</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=p>[</span><span class=n>p</span><span class=o>.</span><span class=n>name</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=ow>in</span><span class=w> </span><span class=n>group</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <p><strong>Alternative: defaultdict:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=n>defaultdict</span>

<span class=c1># Often simpler than groupby</span>
<span class=n>groups</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
<span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
    <span class=n>groups</span><span class=p>[</span><span class=n>item</span><span class=p>[</span><span class=mi>0</span><span class=p>]]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> Data grouping patterns.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Knows groupby works on consecutive, not all matching</li> <li>Always sorts first for full grouping</li> <li>Mentions defaultdict as simpler alternative</li> <li>Knows group is an iterator (consume immediately)</li> </ul> </div> </details> <hr> <h3 id=what-are-staticmethod-and-classmethod-most-tech-companies-interview-question>What Are <code>@staticmethod</code> and <code>@classmethod</code>? - Most Tech Companies Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>OOP</code>, <code>Methods</code>, <code>Decorators</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>Method Types:</strong></p> <table> <thead> <tr> <th>Type</th> <th>First Arg</th> <th>Access</th> <th>Use Case</th> </tr> </thead> <tbody> <tr> <td>Instance</td> <td>self</td> <td>Instance + class</td> <td>Normal methods</td> </tr> <tr> <td>Class</td> <td>cls</td> <td>Class only</td> <td>Factory, class-level</td> </tr> <tr> <td>Static</td> <td>None</td> <td>Neither</td> <td>Utility functions</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=n>class_var</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>

    <span class=c1># Instance method - needs instance</span>
    <span class=k>def</span><span class=w> </span><span class=nf>instance_method</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Instance: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=c1># Class method - gets class, not instance</span>
    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>class_method</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Class: </span><span class=si>{</span><span class=bp>cls</span><span class=o>.</span><span class=n>class_var</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=c1># Static method - no access to self or cls</span>
    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>static_method</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span>

<span class=c1># Usage</span>
<span class=n>obj</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
<span class=n>obj</span><span class=o>.</span><span class=n>instance_method</span><span class=p>()</span>      <span class=c1># &quot;Instance: 10&quot;</span>
<span class=n>MyClass</span><span class=o>.</span><span class=n>class_method</span><span class=p>()</span>     <span class=c1># &quot;Class: 0&quot;</span>
<span class=n>MyClass</span><span class=o>.</span><span class=n>static_method</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span> <span class=c1># 3</span>
</code></pre></div> <p><strong>Factory Pattern with classmethod:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Date</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>day</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>year</span> <span class=o>=</span> <span class=n>year</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>month</span> <span class=o>=</span> <span class=n>month</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>day</span> <span class=o>=</span> <span class=n>day</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>from_string</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>date_string</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Alternative constructor.&quot;&quot;&quot;</span>
        <span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>day</span> <span class=o>=</span> <span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=n>date_string</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;-&#39;</span><span class=p>))</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>day</span><span class=p>)</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>today</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Another alternative constructor.&quot;&quot;&quot;</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>datetime</span>
        <span class=n>d</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>date</span><span class=o>.</span><span class=n>today</span><span class=p>()</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=n>d</span><span class=o>.</span><span class=n>year</span><span class=p>,</span> <span class=n>d</span><span class=o>.</span><span class=n>month</span><span class=p>,</span> <span class=n>d</span><span class=o>.</span><span class=n>day</span><span class=p>)</span>

<span class=n>d1</span> <span class=o>=</span> <span class=n>Date</span><span class=p>(</span><span class=mi>2024</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>25</span><span class=p>)</span>
<span class=n>d2</span> <span class=o>=</span> <span class=n>Date</span><span class=o>.</span><span class=n>from_string</span><span class=p>(</span><span class=s1>&#39;2024-12-25&#39;</span><span class=p>)</span>
<span class=n>d3</span> <span class=o>=</span> <span class=n>Date</span><span class=o>.</span><span class=n>today</span><span class=p>()</span>
</code></pre></div> <p><strong>Inheritance Difference:</strong></p> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Parent</span><span class=p>:</span>
    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>create</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>()</span>  <span class=c1># Creates correct subclass!</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>utility</span><span class=p>():</span>
        <span class=k>return</span> <span class=s2>&quot;Same for all&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>Child</span><span class=p>(</span><span class=n>Parent</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=n>Parent</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>  <span class=c1># &lt;Parent&gt;</span>
<span class=n>Child</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>   <span class=c1># &lt;Child&gt; - classmethod knows about subclass!</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <p><strong>What they're testing:</strong> OOP fundamentals.</p> <p><strong>Strong answer signals:</strong></p> <ul> <li>Uses classmethod for factory patterns</li> <li>Knows classmethod receives cls, works with inheritance</li> <li>Uses staticmethod for utilities that don't need class/instance</li> <li>Can explain when to use each</li> </ul> </div> </details> <hr> <h2 id=quick-reference-100-interview-questions>Quick Reference: 100+ Interview Questions</h2> <p>This document provides a curated list of Python interview questions commonly asked in technical interviews for Data Scientists, Backend Engineers, and Python Developers. It covers core concepts, internals, concurrency, and advanced language features.</p> <p>This is updated frequently but right now this is the most exhaustive list of type of questions being asked.</p> <hr> <table> <thead> <tr> <th>Sno</th> <th>Question Title</th> <th>Practice Links</th> <th>Companies Asking</th> <th>Difficulty</th> <th>Topics</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>What is Python? Interpreted or Compiled?</td> <td><a href=https://docs.python.org/3/glossary.html#term-interpreted>Python Docs</a></td> <td>Google, Amazon, Meta</td> <td>Easy</td> <td>Basics</td> </tr> <tr> <td>2</td> <td>What is PEP 8?</td> <td><a href=https://peps.python.org/pep-0008/ >PEP 8</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Standards</td> </tr> <tr> <td>3</td> <td>Mutable vs Immutable types in Python</td> <td><a href=https://realpython.com/python-mutable-immutable/ >Real Python</a></td> <td>Google, Amazon, Microsoft</td> <td>Easy</td> <td>Data Structures</td> </tr> <tr> <td>4</td> <td>Explain List vs Tuple</td> <td><a href=https://www.geeksforgeeks.org/python-list-vs-tuples/ >GeeksforGeeks</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Data Structures</td> </tr> <tr> <td>5</td> <td>What is a Dictionary in Python?</td> <td><a href=https://docs.python.org/3/tutorial/datastructures.html#dictionaries>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Data Structures</td> </tr> <tr> <td>6</td> <td>How is memory managed in Python?</td> <td><a href=https://realpython.com/python-memory-management/ >Real Python</a></td> <td>Google, Amazon, Meta, Netflix</td> <td>Medium</td> <td>Internals, Memory</td> </tr> <tr> <td>7</td> <td>What is the Global Interpreter Lock (GIL)?</td> <td><a href=https://realpython.com/python-gil/ >Real Python</a></td> <td>Google, Amazon, Meta, Apple</td> <td>Hard</td> <td>Internals, Concurrency</td> </tr> <tr> <td>8</td> <td>Explain Garbage Collection in Python</td> <td><a href=https://docs.python.org/3/library/gc.html>Python Docs</a></td> <td>Google, Amazon, Spotify</td> <td>Medium</td> <td>Internals, GC</td> </tr> <tr> <td>9</td> <td>What are decorators?</td> <td><a href=https://realpython.com/primer-on-python-decorators/ >Real Python</a></td> <td>Google, Amazon, Meta, Netflix</td> <td>Medium</td> <td>Functions, Advanced</td> </tr> <tr> <td>10</td> <td>Difference between <code>@staticmethod</code> and <code>@classmethod</code></td> <td><a href=https://stackoverflow.com/questions/12179271/meaning-of-classmethod-and-staticmethod-for-beginner>Stack Overflow</a></td> <td>Google, Amazon, Meta</td> <td>Easy</td> <td>OOP</td> </tr> <tr> <td>11</td> <td>What are lambda functions?</td> <td><a href=https://realpython.com/python-lambda/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Functions</td> </tr> <tr> <td>12</td> <td>Explain <code>*args</code> and <code>**kwargs</code></td> <td><a href=https://realpython.com/python-kwargs-and-args/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Functions</td> </tr> <tr> <td>13</td> <td>What are generators and the <code>yield</code> keyword?</td> <td><a href=https://realpython.com/introduction-to-python-generators/ >Real Python</a></td> <td>Google, Amazon, Meta, Netflix</td> <td>Medium</td> <td>Iterators, Generators</td> </tr> <tr> <td>14</td> <td>Difference between range() and xrange()</td> <td><a href=https://www.geeksforgeeks.org/range-vs-xrange-python/ >GeeksforGeeks</a></td> <td>Legacy Companies</td> <td>Easy</td> <td>Python 2 vs 3</td> </tr> <tr> <td>15</td> <td>What is a docstring?</td> <td><a href=https://peps.python.org/pep-0257/ >Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Documentation</td> </tr> <tr> <td>16</td> <td>How to copy an object? (Deep vs Shallow copy)</td> <td><a href=https://realpython.com/copying-python-objects/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Objects, Memory</td> </tr> <tr> <td>17</td> <td>What is <code>__init__</code>?</td> <td><a href=https://docs.python.org/3/reference/datamodel.html#object.__init__>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>OOP</td> </tr> <tr> <td>18</td> <td>What is <code>__str__</code> vs <code>__repr__</code>?</td> <td><a href=https://stackoverflow.com/questions/1436703/what-is-the-difference-between-str-and-repr>Stack Overflow</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>OOP, Magic Methods</td> </tr> <tr> <td>19</td> <td>How typically does inheritance work in Python?</td> <td><a href=https://realpython.com/python-inheritance-composition/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>OOP</td> </tr> <tr> <td>20</td> <td>What is Multiple Inheritance and MRO?</td> <td><a href=https://docs.python.org/3/tutorial/classes.html#multiple-inheritance>Python Docs</a></td> <td>Google, Amazon, Meta</td> <td>Hard</td> <td>OOP, MRO</td> </tr> <tr> <td>21</td> <td>Explain <code>is</code> vs <code>==</code></td> <td><a href=https://realpython.com/python-is-identity-vs-equality/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Operators</td> </tr> <tr> <td>22</td> <td>What are packing and unpacking?</td> <td><a href=https://realpython.com/python-kwargs-and-args/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Basics</td> </tr> <tr> <td>23</td> <td>How to handle exceptions? (try/except/finally)</td> <td><a href=https://docs.python.org/3/tutorial/errors.html>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Error Handling</td> </tr> <tr> <td>24</td> <td>What are assertions?</td> <td><a href=https://realpython.com/python-assert-statement/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Debugging</td> </tr> <tr> <td>25</td> <td>What implies <code>pass</code> statement?</td> <td><a href=https://docs.python.org/3/reference/simple_stmts.html#the-pass-statement>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Control Flow</td> </tr> <tr> <td>26</td> <td>What are Context Managers (<code>with</code> statement)?</td> <td><a href=https://realpython.com/python-with-statement/ >Real Python</a></td> <td>Google, Amazon, Meta, Netflix</td> <td>Medium</td> <td>Context Managers</td> </tr> <tr> <td>27</td> <td>Difference between lists and arrays (array module)?</td> <td><a href=https://www.geeksforgeeks.org/difference-between-list-and-array-in-python/ >GeeksforGeeks</a></td> <td>Google, Amazon</td> <td>Easy</td> <td>Data Structures</td> </tr> <tr> <td>28</td> <td>What is a Set?</td> <td><a href=https://docs.python.org/3/tutorial/datastructures.html#sets>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Data Structures</td> </tr> <tr> <td>29</td> <td>How does Python handle large numbers?</td> <td><a href=https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex>Python Docs</a></td> <td>Google, Amazon, HFT Firms</td> <td>Medium</td> <td>Internals</td> </tr> <tr> <td>30</td> <td>What are namespaces?</td> <td><a href=https://realpython.com/python-namespaces-scope/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Scoping</td> </tr> <tr> <td>31</td> <td>Explain Local, Global, and Nonlocal scope</td> <td><a href=https://realpython.com/python-scope-legb-rule/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Scoping</td> </tr> <tr> <td>32</td> <td>What is a module vs a package?</td> <td><a href=https://realpython.com/python-modules-packages/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Modules</td> </tr> <tr> <td>33</td> <td>How to use <code>pip</code>?</td> <td><a href=https://packaging.python.org/en/latest/tutorials/installing-packages/ >Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Packaging</td> </tr> <tr> <td>34</td> <td>What is venv/virtualenv?</td> <td><a href=https://realpython.com/python-virtual-environments-a-primer/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Environment</td> </tr> <tr> <td>35</td> <td>How to read/write files?</td> <td><a href=https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>I/O</td> </tr> <tr> <td>36</td> <td>What is pickling and unpickling?</td> <td><a href=https://docs.python.org/3/library/pickle.html>Python Docs</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Serialization</td> </tr> <tr> <td>37</td> <td>What are iterators and lazy evaluation?</td> <td><a href=https://realpython.com/python-iterators-iterables/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Iterators</td> </tr> <tr> <td>38</td> <td>What is the <code>zip()</code> function?</td> <td><a href=https://realpython.com/python-zip-function/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Built-ins</td> </tr> <tr> <td>39</td> <td>What is <code>map()</code> and <code>filter()</code>?</td> <td><a href=https://realpython.com/python-map-function/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Easy</td> <td>Functional Programming</td> </tr> <tr> <td>40</td> <td>What is <code>functools.reduce()</code>?</td> <td><a href=https://realpython.com/python-reduce-function/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Functional Programming</td> </tr> <tr> <td>41</td> <td>Difference between .py and .pyc files</td> <td><a href=https://stackoverflow.com/questions/2998215/if-python-is-interpreted-what-are-pyc-files>Stack Overflow</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Internals</td> </tr> <tr> <td>42</td> <td>What is <code>__name__ == "__main__"</code>?</td> <td><a href=https://realpython.com/python-main-function/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Modules</td> </tr> <tr> <td>43</td> <td>How to create a singleton class?</td> <td><a href=https://www.geeksforgeeks.org/singleton-pattern-in-python-a-complete-guide/ >GeeksforGeeks</a></td> <td>Google, Amazon, Meta</td> <td>Hard</td> <td>Patterns</td> </tr> <tr> <td>44</td> <td>What are Metaclasses?</td> <td><a href=https://realpython.com/python-metaclasses/ >Real Python</a></td> <td>Google, Amazon, Meta, Netflix</td> <td>Hard</td> <td>Metaclasses</td> </tr> <tr> <td>45</td> <td>What is <code>__slots__</code>?</td> <td><a href=https://www.geeksforgeeks.org/slots-in-python/ >GeeksforGeeks</a></td> <td>Google, Amazon, HFT Firms</td> <td>Hard</td> <td>Optimization, Memory</td> </tr> <tr> <td>46</td> <td>Difference between <code>func</code> and <code>func()</code></td> <td><a href=https://stackoverflow.com/questions/60718507/what-is-the-difference-between-def-func-and-def-func>Stack Overflow</a></td> <td>Google, Amazon</td> <td>Easy</td> <td>Functions</td> </tr> <tr> <td>47</td> <td>What is slicing?</td> <td><a href=https://docs.python.org/3/library/functions.html#slice>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Data Structures</td> </tr> <tr> <td>48</td> <td>Negative indexing in Python</td> <td><a href=https://www.geeksforgeeks.org/python-negative-indexing/ >GeeksforGeeks</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Indexing</td> </tr> <tr> <td>49</td> <td>What is a hash map in Python?</td> <td><a href=https://docs.python.org/3/library/stdtypes.html#mapping-types-dict>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Data Structures</td> </tr> <tr> <td>50</td> <td>Does Python support pointer arithmetic?</td> <td><a href=https://stackoverflow.com/questions/15474668/pointer-operations-in-python>Stack Overflow</a></td> <td>Google, Amazon</td> <td>Medium</td> <td>Internals</td> </tr> <tr> <td>51</td> <td>What are default arguments? Pitfalls?</td> <td><a href=https://realpython.com/defining-your-own-python-function/#default-argument-values>Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Functions, Pitfalls</td> </tr> <tr> <td>52</td> <td>What is <code>collections</code> module?</td> <td><a href=https://docs.python.org/3/library/collections.html>Python Docs</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Standard Library</td> </tr> <tr> <td>53</td> <td>Explain <code>defaultdict</code> and <code>Counter</code></td> <td><a href=https://realpython.com/python-defaultdict/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Standard Library</td> </tr> <tr> <td>54</td> <td>What is <code>NamedTuple</code>?</td> <td><a href=https://realpython.com/python-namedtuple/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Data Structures</td> </tr> <tr> <td>55</td> <td>What is <code>itertools</code>?</td> <td><a href=https://realpython.com/python-itertools/ >Real Python</a></td> <td>Google, Amazon, Meta, HFT Firms</td> <td>Hard</td> <td>Iterators</td> </tr> <tr> <td>56</td> <td>What are Threading vs Multiprocessing?</td> <td><a href=https://realpython.com/python-concurrency/ >Real Python</a></td> <td>Google, Amazon, Meta, Netflix</td> <td>Medium</td> <td>Concurrency</td> </tr> <tr> <td>57</td> <td>What is Asyncio?</td> <td><a href=https://realpython.com/async-io-python/ >Real Python</a></td> <td>Google, Amazon, Meta, Netflix</td> <td>Hard</td> <td>Concurrency</td> </tr> <tr> <td>58</td> <td>Difference between <code>await</code> and <code>yield</code></td> <td><a href=https://stackoverflow.com/questions/40571786/async-await-vs-yield-yield-from>Stack Overflow</a></td> <td>Google, Amazon, Meta</td> <td>Hard</td> <td>Concurrency</td> </tr> <tr> <td>59</td> <td>What is a coroutine?</td> <td><a href=https://docs.python.org/3/library/asyncio-task.html#coroutines>Python Docs</a></td> <td>Google, Amazon, Meta</td> <td>Hard</td> <td>Concurrency</td> </tr> <tr> <td>60</td> <td>How to debug python code? (pdb)</td> <td><a href=https://realpython.com/python-debugging-pdb/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Medium</td> <td>Debugging</td> </tr> <tr> <td>61</td> <td>What are type hints (Type Annotation)?</td> <td><a href=https://realpython.com/python-type-checking/ >Real Python</a></td> <td>Google, Amazon, Meta, Microsoft</td> <td>Medium</td> <td>Typing</td> </tr> <tr> <td>62</td> <td>What is <code>MyPy</code>?</td> <td><a href=https://mypy.readthedocs.io/en/stable/ >MyPy Docs</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Typing</td> </tr> <tr> <td>63</td> <td>What is a Data Class?</td> <td><a href=https://realpython.com/python-data-classes/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Data Structures</td> </tr> <tr> <td>64</td> <td>Difference between <code>copy()</code> and <code>deepcopy()</code></td> <td><a href=https://docs.python.org/3/library/copy.html>Python Docs</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Memory</td> </tr> <tr> <td>65</td> <td>How to reverse a list?</td> <td><a href=https://realpython.com/python-reverse-list/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Data Structures</td> </tr> <tr> <td>66</td> <td>String formatting options (f-strings vs format)</td> <td><a href=https://realpython.com/python-f-strings/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Strings</td> </tr> <tr> <td>67</td> <td>What is <code>sys.path</code>?</td> <td><a href=https://docs.python.org/3/library/sys.html#sys.path>Python Docs</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Modules</td> </tr> <tr> <td>68</td> <td>What is <code>__call__</code> method?</td> <td><a href=https://www.geeksforgeeks.org/__call__-in-python/ >GeeksforGeeks</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>OOP</td> </tr> <tr> <td>69</td> <td>What is <code>__new__</code> vs <code>__init__</code>?</td> <td><a href=https://stackoverflow.com/questions/674304/pythons-use-of-new-and-init>Stack Overflow</a></td> <td>Google, Amazon, Meta</td> <td>Hard</td> <td>OOP</td> </tr> <tr> <td>70</td> <td>What is Monkey Patching?</td> <td><a href=https://stackoverflow.com/questions/5626193/what-is-monkey-patching>Stack Overflow</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Dynamic Programming</td> </tr> <tr> <td>71</td> <td>What is Duck Typing?</td> <td><a href=https://realpython.com/python-duck-typing/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>OOP</td> </tr> <tr> <td>72</td> <td>What is <code>dir()</code> function?</td> <td><a href=https://docs.python.org/3/library/functions.html#dir>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Introspection</td> </tr> <tr> <td>73</td> <td>What is <code>help()</code> function?</td> <td><a href=https://docs.python.org/3/library/functions.html#help>Python Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Introspection</td> </tr> <tr> <td>74</td> <td>What is <code>enumerate()</code>?</td> <td><a href=https://realpython.com/python-enumerate/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Iteration</td> </tr> <tr> <td>75</td> <td>How to merge two dicts?</td> <td><a href=https://realpython.com/python-merge-dictionaries/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Data Structures</td> </tr> <tr> <td>76</td> <td>Comprehensions (List, Dict, Set)</td> <td><a href=https://realpython.com/list-comprehension-python/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Medium</td> <td>Syntax</td> </tr> <tr> <td>77</td> <td>What is <code>__future__</code> module?</td> <td><a href=https://docs.python.org/3/library/__future__.html>Python Docs</a></td> <td>Google, Amazon</td> <td>Medium</td> <td>Compatibility</td> </tr> <tr> <td>78</td> <td>What is <code>pd.DataFrame</code> vs Python List?</td> <td><a href=https://pandas.pydata.org/ >Pandas Docs</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Data Analysis</td> </tr> <tr> <td>79</td> <td>How to handle circular imports?</td> <td><a href=https://stackoverflow.com/questions/744373/circular-or-cyclic-imports-in-python>Stack Overflow</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Modules</td> </tr> <tr> <td>80</td> <td>What is <code>getattr</code>, <code>setattr</code>, <code>hasattr</code>?</td> <td><a href=https://docs.python.org/3/library/functions.html>Python Docs</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Introspection</td> </tr> <tr> <td>81</td> <td>What is <code>__dict__</code> attribute?</td> <td><a href=https://docs.python.org/3/library/stdtypes.html#object.__dict__>Python Docs</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Internals</td> </tr> <tr> <td>82</td> <td>Explain the <code>with</code> statement protocol (<code>__enter__</code>, <code>__exit__</code>)</td> <td><a href=https://realpython.com/python-with-statement/#the-context-management-protocol>Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Hard</td> <td>Context Managers</td> </tr> <tr> <td>83</td> <td>What are property decorators?</td> <td><a href=https://realpython.com/python-property/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>OOP</td> </tr> <tr> <td>84</td> <td>What is Operator Overloading?</td> <td><a href=https://www.geeksforgeeks.org/operator-overloading-in-python/ >GeeksforGeeks</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>OOP</td> </tr> <tr> <td>85</td> <td>What is ternary operator in Python?</td> <td><a href=https://realpython.com/python-conditional-statements/#conditional-expressions>Real Python</a></td> <td>Most Tech Companies</td> <td>Easy</td> <td>Syntax</td> </tr> <tr> <td>86</td> <td>How to optimize Python code speed?</td> <td><a href=https://wiki.python.org/moin/PythonSpeed/PerformanceTips>Wiki</a></td> <td>Google, Amazon, HFT Firms</td> <td>Hard</td> <td>Performance</td> </tr> <tr> <td>87</td> <td>Why is Python slow?</td> <td><a href=https://realpython.com/python-performance/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Medium</td> <td>Performance</td> </tr> <tr> <td>88</td> <td>What is PyPy?</td> <td><a href=https://www.pypy.org/ >PyPy</a></td> <td>Google, Amazon</td> <td>Hard</td> <td>Interpreters</td> </tr> <tr> <td>89</td> <td>What is Cython?</td> <td><a href=https://cython.org/ >Cython</a></td> <td>Google, Amazon, HFT Firms</td> <td>Hard</td> <td>Performance</td> </tr> <tr> <td>90</td> <td>Difference between <code>os</code> and <code>sys</code> modules?</td> <td><a href=https://stackoverflow.com/questions/18389656/what-is-the-difference-between-the-sys-and-os-modules-in-python>Stack Overflow</a></td> <td>Google, Amazon</td> <td>Medium</td> <td>Standard Library</td> </tr> <tr> <td>91</td> <td>What is <code>re</code> module (Regular Expressions)?</td> <td><a href=https://realpython.com/regex-python/ >Real Python</a></td> <td>Most Tech Companies</td> <td>Medium</td> <td>Standard Library</td> </tr> <tr> <td>92</td> <td><strong>[HARD]</strong> How does Reference Counting vs Garbage Collection work?</td> <td><a href=https://devguide.python.org/internals/garbage-collector/ >DevGuide</a></td> <td>Google, Meta, Netflix</td> <td>Hard</td> <td>Internals</td> </tr> <tr> <td>93</td> <td><strong>[HARD]</strong> How to implement custom Metaclass?</td> <td><a href=https://realpython.com/python-metaclasses/ >Real Python</a></td> <td>Google, Meta, Frameworks</td> <td>Hard</td> <td>Metaprogramming</td> </tr> <tr> <td>94</td> <td><strong>[HARD]</strong> Explain method resolution order (MRO) C3 algorithm</td> <td><a href=https://www.python.org/download/releases/2.3/mro/ >Python Docs</a></td> <td>Google, Meta</td> <td>Hard</td> <td>OOP Internals</td> </tr> <tr> <td>95</td> <td><strong>[HARD]</strong> How to avoid the GIL (multiprocessing, C extensions)?</td> <td><a href=https://realpython.com/python-gil/ >Real Python</a></td> <td>Google, Amazon, HFT Firms</td> <td>Hard</td> <td>Performance</td> </tr> <tr> <td>96</td> <td><strong>[HARD]</strong> Memory leaks in Python: Causes and fixes</td> <td><a href=https://tech.trivago.com/2019/02/25/diagnosing-memory-leaks-in-python/ >TechBlog</a></td> <td>Google, Meta, Netflix</td> <td>Hard</td> <td>Memory</td> </tr> <tr> <td>97</td> <td><strong>[HARD]</strong> How <code>asyncio</code> event loop works internally</td> <td><a href=https://realpython.com/async-io-python/ >Real Python</a></td> <td>Google, Meta, Netflix</td> <td>Hard</td> <td>Asyncio Internals</td> </tr> <tr> <td>98</td> <td><strong>[HARD]</strong> Difference between Threading and Asyncio concurrency models</td> <td><a href=https://realpython.com/python-concurrency/ >Real Python</a></td> <td>Google, Meta, Netflix</td> <td>Hard</td> <td>Concurrency</td> </tr> <tr> <td>99</td> <td><strong>[HARD]</strong> How to implement non-blocking I/O?</td> <td><a href=https://docs.python.org/3/library/asyncio.html>Python Docs</a></td> <td>Google, Amazon</td> <td>Hard</td> <td>I/O</td> </tr> <tr> <td>100</td> <td><strong>[HARD]</strong> What is <code>__import__</code> vs <code>importlib</code>?</td> <td><a href=https://docs.python.org/3/library/importlib.html>Python Docs</a></td> <td>Google, Meta, Frameworks</td> <td>Hard</td> <td>Internals</td> </tr> <tr> <td>101</td> <td><strong>[HARD]</strong> How are Python dictionaries implemented (Hash Table)?</td> <td><a href="https://www.youtube.com/watch?v=p33CVV29OG8">PyCon Talk</a></td> <td>Google, Meta, Amazon</td> <td>Hard</td> <td>Internals</td> </tr> <tr> <td>102</td> <td><strong>[HARD]</strong> Explain descriptor protocol</td> <td><a href=https://realpython.com/python-descriptors/ >Real Python</a></td> <td>Google, Meta, Frameworks</td> <td>Hard</td> <td>Descriptors</td> </tr> <tr> <td>103</td> <td><strong>[HARD]</strong> How to use <code>sys.settrace</code> for debugging/profiling?</td> <td><a href=https://docs.python.org/3/library/sys.html#sys.settrace>Python Docs</a></td> <td>Google, Meta</td> <td>Hard</td> <td>Internals</td> </tr> <tr> <td>104</td> <td><strong>[HARD]</strong> Difference between Process and Thread in Python context</td> <td><a href=https://realpython.com/python-concurrency/ >Real Python</a></td> <td>Google, Amazon, Meta</td> <td>Hard</td> <td>OS Concepts</td> </tr> <tr> <td>105</td> <td><strong>[HARD]</strong> How to manage weak references (<code>weakref</code>)?</td> <td><a href=https://docs.python.org/3/library/weakref.html>Python Docs</a></td> <td>Google, Meta</td> <td>Hard</td> <td>Memory</td> </tr> <tr> <td>106</td> <td><strong>[HARD]</strong> What is the Disassembler (<code>dis</code> module)?</td> <td><a href=https://docs.python.org/3/library/dis.html>Python Docs</a></td> <td>Google, Meta</td> <td>Hard</td> <td>Bytecode</td> </tr> <tr> <td>107</td> <td><strong>[HARD]</strong> How to optimize dictionary memory usage?</td> <td><a href=https://stackoverflow.com/questions/39913211/how-to-optimize-the-memory-usage-of-a-dictionary-in-python>Stack Overflow</a></td> <td>Google, Amazon</td> <td>Hard</td> <td>Memory</td> </tr> <tr> <td>108</td> <td><strong>[HARD]</strong> Explain Coroutines vs Generators</td> <td><a href=https://realpython.com/python-concurrency/ >Real Python</a></td> <td>Google, Meta</td> <td>Hard</td> <td>Concurrency</td> </tr> <tr> <td>109</td> <td><strong>[HARD]</strong> How to implement custom context managers (contextlib)?</td> <td><a href=https://docs.python.org/3/library/contextlib.html>Python Docs</a></td> <td>Google, Amazon</td> <td>Hard</td> <td>Advanced Patterns</td> </tr> <tr> <td>110</td> <td><strong>[HARD]</strong> How to perform zero-copy data transfer (Buffer Protocol)?</td> <td><a href=https://docs.python.org/3/c-api/buffer.html>Python Docs</a></td> <td>Google, HFT Firms</td> <td>Hard</td> <td>Performance</td> </tr> </tbody> </table> <hr> <h2 id=code-examples>Code Examples</h2> <h3 id=1-decorator-for-timing-functions>1. Decorator for Timing Functions</h3> <details class=success> <summary>View Code Example</summary> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Code Example</code> | <strong>Asked by:</strong> Code Pattern <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>time</span>
<span class=kn>import</span><span class=w> </span><span class=nn>functools</span>

<span class=k>def</span><span class=w> </span><span class=nf>timer_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=n>end_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>perf_counter</span><span class=p>()</span>
        <span class=n>run_time</span> <span class=o>=</span> <span class=n>end_time</span> <span class=o>-</span> <span class=n>start_time</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Finished </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>!r}</span><span class=s2> in </span><span class=si>{</span><span class=n>run_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2> secs&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@timer_decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>complex_calculation</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=n>i</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>))</span>

<span class=n>complex_calculation</span><span class=p>(</span><span class=mi>1000000</span><span class=p>)</span>
</code></pre></div></p> </details> <h3 id=2-context-manager-for-files>2. Context Manager for Files</h3> <details class=success> <summary>View Code Example</summary> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Code Example</code> | <strong>Asked by:</strong> Code Pattern <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>FileManager</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>,</span> <span class=n>mode</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>mode</span> <span class=o>=</span> <span class=n>mode</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>file</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__enter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>filename</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>mode</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>file</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__exit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_value</span><span class=p>,</span> <span class=n>exc_traceback</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>file</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

<span class=c1># Usage</span>
<span class=c1># with FileManager(&#39;test.txt&#39;, &#39;w&#39;) as f:</span>
<span class=c1>#     f.write(&#39;Hello, World!&#39;)</span>
</code></pre></div></p> </details> <h3 id=3-asynchronous-pattern>3. Asynchronous Pattern</h3> <details class=success> <summary>View Code Example</summary> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Code Example</code> | <strong>Asked by:</strong> Code Pattern <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>asyncio</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>fetch_data</span><span class=p>(</span><span class=n>delay</span><span class=p>,</span> <span class=nb>id</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Fetching data </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>...&quot;</span><span class=p>)</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>delay</span><span class=p>)</span>  <span class=c1># Simulate I/O op</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Data </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2> fetched&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=nb>id</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=s2>&quot;sample&quot;</span><span class=p>}</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
    <span class=c1># Run tasks concurrently</span>
    <span class=n>tasks</span> <span class=o>=</span> <span class=p>[</span><span class=n>fetch_data</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>fetch_data</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>fetch_data</span><span class=p>(</span><span class=mf>1.5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)]</span>
    <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>tasks</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>results</span><span class=p>)</span>

<span class=c1># asyncio.run(main())</span>
</code></pre></div></p> </details> <hr> <h3 id=what-are-python-descriptors-google-meta-interview-question>What are Python Descriptors? - Google, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>OOP</code>, <code>Advanced</code>, <code>Descriptors</code>, <code>Properties</code> | <strong>Asked by:</strong> Google, Meta, Dropbox, Stripe</p> <details class=success> <summary>View Answer</summary> <p><strong>Descriptors</strong> are objects that define how attribute access is handled through <code>__get__</code>, <code>__set__</code>, and <code>__delete__</code> methods. They're the mechanism behind properties, methods, static methods, and class methods.</p> <p><strong>Descriptor Protocol:</strong> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Descriptor</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=c1># Called when attribute is accessed</span>
        <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=c1># Called when attribute is set</span>
        <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__delete__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>):</span>
        <span class=c1># Called when attribute is deleted</span>
        <span class=k>pass</span>
</code></pre></div></p> <p><strong>Types:</strong> - <strong>Data Descriptor</strong>: Defines <code>__get__</code> and <code>__set__</code> (higher priority) - <strong>Non-data Descriptor</strong>: Only <code>__get__</code> (lower priority)</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Validation Descriptor</span>
<span class=k>class</span><span class=w> </span><span class=nc>ValidatedAttribute</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Descriptor that validates values.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>validator</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>validator</span> <span class=o>=</span> <span class=n>validator</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>default</span> <span class=o>=</span> <span class=n>default</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__set_name__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>owner</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>),</span> <span class=bp>self</span><span class=o>.</span><span class=n>default</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>validator</span> <span class=ow>and</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid value for </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>)]</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__delete__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>):</span>
        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>)]</span>

<span class=c1># 2. Type-checking Descriptor</span>
<span class=k>class</span><span class=w> </span><span class=nc>TypedProperty</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Descriptor enforcing type checking.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>expected_type</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>expected_type</span> <span class=o>=</span> <span class=n>expected_type</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>default</span> <span class=o>=</span> <span class=n>default</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__set_name__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>owner</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>),</span> <span class=bp>self</span><span class=o>.</span><span class=n>default</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>expected_type</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> must be </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>expected_type</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>, &quot;</span>
                <span class=sa>f</span><span class=s2>&quot;got </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span>
            <span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>)]</span> <span class=o>=</span> <span class=n>value</span>

<span class=c1># 3. Lazy Property Descriptor</span>
<span class=k>class</span><span class=w> </span><span class=nc>LazyProperty</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Descriptor that computes value once and caches it.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>function</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>function</span> <span class=o>=</span> <span class=n>function</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>function</span><span class=o>.</span><span class=vm>__name__</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>

        <span class=c1># Cache value in instance __dict__</span>
        <span class=n>value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>function</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>
        <span class=nb>setattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>value</span>

<span class=c1># Usage Examples</span>
<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
    <span class=c1># Type checking</span>
    <span class=n>name</span> <span class=o>=</span> <span class=n>TypedProperty</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
    <span class=n>age</span> <span class=o>=</span> <span class=n>TypedProperty</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

    <span class=c1># Validation</span>
    <span class=n>email</span> <span class=o>=</span> <span class=n>ValidatedAttribute</span><span class=p>(</span>
        <span class=n>validator</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=s2>&quot;@&quot;</span> <span class=ow>in</span> <span class=n>x</span> <span class=ow>and</span> <span class=s2>&quot;.&quot;</span> <span class=ow>in</span> <span class=n>x</span>
    <span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>email</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=n>email</span>

    <span class=nd>@LazyProperty</span>
    <span class=k>def</span><span class=w> </span><span class=nf>full_profile</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Expensive computation, cached after first access.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Computing full profile...&quot;</span><span class=p>)</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>time</span>
        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># Simulate expensive operation</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=si>}</span><span class=s2>): </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>email</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=c1># Test</span>
<span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>  <span class=c1># Alice</span>

<span class=k>try</span><span class=p>:</span>
    <span class=n>person</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=s2>&quot;thirty&quot;</span>  <span class=c1># TypeError</span>
<span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>try</span><span class=p>:</span>
    <span class=n>person</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=s2>&quot;invalid&quot;</span>  <span class=c1># ValueError</span>
<span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Lazy property - computed once</span>
<span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>full_profile</span><span class=p>)</span>  <span class=c1># Computes</span>
<span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>full_profile</span><span class=p>)</span>  <span class=c1># Cached, no computation</span>

<span class=c1># 4. Range Validator Descriptor</span>
<span class=k>class</span><span class=w> </span><span class=nc>RangeValidator</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Descriptor ensuring value is within range.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>min_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_value</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>min_value</span> <span class=o>=</span> <span class=n>min_value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>max_value</span> <span class=o>=</span> <span class=n>max_value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__set_name__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>owner</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>))</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>min_value</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>min_value</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> must be &gt;= </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>min_value</span><span class=si>}</span><span class=s2>, got </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span>
            <span class=p>)</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_value</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_value</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> must be &lt;= </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>max_value</span><span class=si>}</span><span class=s2>, got </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span>
            <span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>)]</span> <span class=o>=</span> <span class=n>value</span>

<span class=k>class</span><span class=w> </span><span class=nc>Product</span><span class=p>:</span>
    <span class=n>price</span> <span class=o>=</span> <span class=n>RangeValidator</span><span class=p>(</span><span class=n>min_value</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
    <span class=n>quantity</span> <span class=o>=</span> <span class=n>RangeValidator</span><span class=p>(</span><span class=n>min_value</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>max_value</span><span class=o>=</span><span class=mi>1000</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>quantity</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>price</span> <span class=o>=</span> <span class=n>price</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>quantity</span> <span class=o>=</span> <span class=n>quantity</span>

<span class=n>product</span> <span class=o>=</span> <span class=n>Product</span><span class=p>(</span><span class=s2>&quot;Laptop&quot;</span><span class=p>,</span> <span class=mf>999.99</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Price: $</span><span class=si>{</span><span class=n>product</span><span class=o>.</span><span class=n>price</span><span class=si>}</span><span class=s2>, Quantity: </span><span class=si>{</span><span class=n>product</span><span class=o>.</span><span class=n>quantity</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>try</span><span class=p>:</span>
    <span class=n>product</span><span class=o>.</span><span class=n>price</span> <span class=o>=</span> <span class=o>-</span><span class=mi>100</span>  <span class=c1># ValueError</span>
<span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <p><strong>How Properties Work (Built on Descriptors):</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Properties are descriptors!</span>
<span class=k>class</span><span class=w> </span><span class=nc>Temperature</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>celsius</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>=</span> <span class=n>celsius</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>celsius</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get temperature in Celsius.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span>

    <span class=nd>@celsius</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>celsius</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=o>-</span><span class=mf>273.15</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Temperature below absolute zero!&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>=</span> <span class=n>value</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>fahrenheit</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get temperature in Fahrenheit.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>*</span> <span class=mi>9</span><span class=o>/</span><span class=mi>5</span> <span class=o>+</span> <span class=mi>32</span>

    <span class=nd>@fahrenheit</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>fahrenheit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>celsius</span> <span class=o>=</span> <span class=p>(</span><span class=n>value</span> <span class=o>-</span> <span class=mi>32</span><span class=p>)</span> <span class=o>*</span> <span class=mi>5</span><span class=o>/</span><span class=mi>9</span>

<span class=n>temp</span> <span class=o>=</span> <span class=n>Temperature</span><span class=p>(</span><span class=mi>25</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>temp</span><span class=o>.</span><span class=n>celsius</span><span class=si>}</span><span class=s2>¬∞C = </span><span class=si>{</span><span class=n>temp</span><span class=o>.</span><span class=n>fahrenheit</span><span class=si>}</span><span class=s2>¬∞F&quot;</span><span class=p>)</span>
<span class=n>temp</span><span class=o>.</span><span class=n>fahrenheit</span> <span class=o>=</span> <span class=mf>98.6</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>temp</span><span class=o>.</span><span class=n>celsius</span><span class=si>}</span><span class=s2>¬∞C = </span><span class=si>{</span><span class=n>temp</span><span class=o>.</span><span class=n>fahrenheit</span><span class=si>}</span><span class=s2>¬∞F&quot;</span><span class=p>)</span>
</code></pre></div> <p><strong>Descriptor Lookup Order:</strong></p> <ol> <li>Data descriptors from type(obj)</li> <li>Instance <strong>dict</strong></li> <li>Non-data descriptors from type(obj)</li> <li>Class variables from type(obj)</li> <li>Raise AttributeError</li> </ol> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Descriptors: control attribute access"</li> <li>"<code>__get__</code>, <code>__set__</code>, <code>__delete__</code> methods"</li> <li>"Data vs non-data descriptors"</li> <li>"Properties built on descriptors"</li> <li>"Used for validation, type checking, caching"</li> <li>"Lookup priority: data descriptor &gt; instance dict"</li> <li>Real-world use cases (ORMs, validation frameworks)</li> </ul> </div> </details> <hr> <h3 id=explain-pythons-args-and-kwargs-amazon-microsoft-interview-question>Explain Python's <code>*args</code> and <code>**kwargs</code> - Amazon, Microsoft Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Functions</code>, <code>Arguments</code>, <code>Unpacking</code> | <strong>Asked by:</strong> Amazon, Microsoft, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong><code>*args</code></strong>: Captures variable number of positional arguments as a tuple</p> <p><strong><code>**kwargs</code></strong>: Captures variable number of keyword arguments as a dictionary</p> <p><strong>Complete Guide:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Usage</span>
<span class=k>def</span><span class=w> </span><span class=nf>basic_function</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    a, b: regular positional arguments</span>
<span class=sd>    *args: additional positional arguments (tuple)</span>
<span class=sd>    **kwargs: keyword arguments (dict)</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;a=</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2>, b=</span><span class=si>{</span><span class=n>b</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;args=</span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;kwargs=</span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>basic_function</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=n>x</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>20</span><span class=p>)</span>
<span class=c1># Output:</span>
<span class=c1># a=1, b=2</span>
<span class=c1># args=(3, 4, 5)</span>
<span class=c1># kwargs={&#39;x&#39;: 10, &#39;y&#39;: 20}</span>

<span class=c1># 2. Unpacking Arguments</span>
<span class=k>def</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span> <span class=o>+</span> <span class=n>c</span>

<span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>add</span><span class=p>(</span><span class=o>*</span><span class=n>numbers</span><span class=p>)</span>  <span class=c1># Unpacks list</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># 6</span>

<span class=n>kwargs_dict</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>add</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs_dict</span><span class=p>)</span>  <span class=c1># Unpacks dict</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># 6</span>

<span class=c1># 3. Wrapper Functions (Decorators)</span>
<span class=k>def</span><span class=w> </span><span class=nf>logging_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator that logs function calls.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Calling </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> with args=</span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>, kwargs=</span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> returned </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@logging_decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>multiply</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>*</span> <span class=n>b</span>

<span class=n>multiply</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>

<span class=c1># 4. Combining Regular, *args, and **kwargs</span>
<span class=k>def</span><span class=w> </span><span class=nf>complex_function</span><span class=p>(</span><span class=n>required</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Shows all argument types together.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Required: </span><span class=si>{</span><span class=n>required</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Args: </span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Default: </span><span class=si>{</span><span class=n>default</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Kwargs: </span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>complex_function</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=s2>&quot;test&quot;</span><span class=p>,</span> <span class=n>x</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>20</span><span class=p>)</span>

<span class=c1># 5. Practical Example: Flexible API Client</span>
<span class=k>class</span><span class=w> </span><span class=nc>APIClient</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;HTTP client with flexible request methods.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>base_url</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>base_url</span> <span class=o>=</span> <span class=n>base_url</span>

    <span class=k>def</span><span class=w> </span><span class=nf>request</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>method</span><span class=p>,</span> <span class=n>endpoint</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Generic request method.</span>
<span class=sd>        *args: positional arguments for requests library</span>
<span class=sd>        **kwargs: keyword arguments (headers, params, json, etc.)</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>url</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base_url</span><span class=si>}{</span><span class=n>endpoint</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>method</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Additional args: </span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Options: </span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=c1># In reality: return requests.request(method, url, *args, **kwargs)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>endpoint</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>request</span><span class=p>(</span><span class=s2>&quot;GET&quot;</span><span class=p>,</span> <span class=n>endpoint</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>post</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>endpoint</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>request</span><span class=p>(</span><span class=s2>&quot;POST&quot;</span><span class=p>,</span> <span class=n>endpoint</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

<span class=n>client</span> <span class=o>=</span> <span class=n>APIClient</span><span class=p>(</span><span class=s2>&quot;https://api.example.com&quot;</span><span class=p>)</span>
<span class=n>client</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/users&quot;</span><span class=p>,</span> <span class=n>params</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;page&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span> <span class=n>headers</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;Auth&quot;</span><span class=p>:</span> <span class=s2>&quot;token&quot;</span><span class=p>})</span>
<span class=n>client</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;/users&quot;</span><span class=p>,</span> <span class=n>json</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>},</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span>

<span class=c1># 6. Variable Length Arguments in Different Positions</span>
<span class=k>def</span><span class=w> </span><span class=nf>function_with_all_types</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    a: required positional</span>
<span class=sd>    b: optional positional with default</span>
<span class=sd>    *args: variable positional</span>
<span class=sd>    c, d: keyword-only arguments</span>
<span class=sd>    **kwargs: variable keyword</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;a=</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2>, b=</span><span class=si>{</span><span class=n>b</span><span class=si>}</span><span class=s2>, args=</span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;c=</span><span class=si>{</span><span class=n>c</span><span class=si>}</span><span class=s2>, d=</span><span class=si>{</span><span class=n>d</span><span class=si>}</span><span class=s2>, kwargs=</span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>function_with_all_types</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>200</span><span class=p>,</span> <span class=n>x</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>2000</span><span class=p>)</span>

<span class=c1># 7. Forwarding Arguments</span>
<span class=k>class</span><span class=w> </span><span class=nc>Parent</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Parent: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>age</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Child</span><span class=p>(</span><span class=n>Parent</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=n>grade</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=c1># Forward all args/kwargs to parent</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>grade</span> <span class=o>=</span> <span class=n>grade</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Child grade: </span><span class=si>{</span><span class=n>grade</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>child</span> <span class=o>=</span> <span class=n>Child</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>grade</span><span class=o>=</span><span class=s2>&quot;5th&quot;</span><span class=p>)</span>

<span class=c1># 8. Merging Dictionaries with **</span>
<span class=k>def</span><span class=w> </span><span class=nf>merge_configs</span><span class=p>(</span><span class=o>*</span><span class=n>configs</span><span class=p>,</span> <span class=o>**</span><span class=n>overrides</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Merge multiple config dicts with overrides.&quot;&quot;&quot;</span>
    <span class=n>result</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=k>for</span> <span class=n>config</span> <span class=ow>in</span> <span class=n>configs</span><span class=p>:</span>
        <span class=n>result</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>config</span><span class=p>)</span>
    <span class=n>result</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>overrides</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>result</span>

<span class=n>config1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;host&quot;</span><span class=p>:</span> <span class=s2>&quot;localhost&quot;</span><span class=p>,</span> <span class=s2>&quot;port&quot;</span><span class=p>:</span> <span class=mi>8000</span><span class=p>}</span>
<span class=n>config2</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;debug&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;port&quot;</span><span class=p>:</span> <span class=mi>9000</span><span class=p>}</span>
<span class=n>final_config</span> <span class=o>=</span> <span class=n>merge_configs</span><span class=p>(</span><span class=n>config1</span><span class=p>,</span> <span class=n>config2</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>final_config</span><span class=p>)</span>
<span class=c1># {&#39;host&#39;: &#39;localhost&#39;, &#39;port&#39;: 9000, &#39;debug&#39;: True, &#39;timeout&#39;: 30}</span>
</code></pre></div> <p><strong>Common Patterns:</strong></p> <table> <thead> <tr> <th>Pattern</th> <th>Example</th> <th>Use Case</th> </tr> </thead> <tbody> <tr> <td><strong>Wrapper</strong></td> <td><code>wrapper(*args, **kwargs)</code></td> <td>Decorators, proxies</td> </tr> <tr> <td><strong>Forwarding</strong></td> <td><code>super().__init__(*args, **kwargs)</code></td> <td>Inheritance</td> </tr> <tr> <td><strong>Flexible API</strong></td> <td><code>request(method, **options)</code></td> <td>HTTP clients, configs</td> </tr> <tr> <td><strong>Unpacking</strong></td> <td><code>func(*list, **dict)</code></td> <td>Dynamic function calls</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>*args</code>: variable positional arguments (tuple)"</li> <li>"<code>**kwargs</code>: variable keyword arguments (dict)"</li> <li>"Used in decorators to forward arguments"</li> <li>"Unpacking: <code>*list</code> expands to positional args"</li> <li>"Unpacking: <code>**dict</code> expands to keyword args"</li> <li>"Order: positional, *args, keyword-only, **kwargs"</li> <li>Practical applications (wrappers, inheritance)</li> </ul> </div> </details> <hr> <h3 id=how-does-python-memory-management-work-google-netflix-interview-question>How Does Python Memory Management Work? - Google, Netflix Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Memory</code>, <code>Garbage Collection</code>, <code>Internals</code> | <strong>Asked by:</strong> Google, Netflix, Meta, Dropbox</p> <details class=success> <summary>View Answer</summary> <p>Python uses <strong>automatic memory management</strong> with reference counting and generational garbage collection.</p> <p><strong>Key Components:</strong></p> <p><strong>1. Private Heap Space:</strong> - All Python objects stored in private heap - Memory manager handles heap internally - Programmer cannot directly access</p> <p><strong>2. Reference Counting:</strong> - Each object has reference count - Count increases: assignment, argument passing, appending to list - Count decreases: del, reassignment, out of scope - Object deleted when count reaches 0</p> <p><strong>3. Generational Garbage Collection:</strong> - Handles reference cycles - Three generations (0, 1, 2) - Younger objects collected more frequently</p> <p><strong>Detailed Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>sys</span>
<span class=kn>import</span><span class=w> </span><span class=nn>gc</span>
<span class=kn>import</span><span class=w> </span><span class=nn>weakref</span>

<span class=c1># 1. Reference Counting</span>
<span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Created </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Destroyed </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Create object</span>
<span class=n>obj1</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>(</span><span class=s2>&quot;Object1&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Ref count: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>obj1</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># -1 for getrefcount&#39;s own ref</span>

<span class=c1># Increase ref count</span>
<span class=n>obj2</span> <span class=o>=</span> <span class=n>obj1</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Ref count: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>obj1</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Decrease ref count</span>
<span class=k>del</span> <span class=n>obj2</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Ref count: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>obj1</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 2. Reference Cycles Problem</span>
<span class=k>class</span><span class=w> </span><span class=nc>Node</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Deleting </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Create circular reference</span>
<span class=n>node1</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=s2>&quot;Node1&quot;</span><span class=p>)</span>
<span class=n>node2</span> <span class=o>=</span> <span class=n>Node</span><span class=p>(</span><span class=s2>&quot;Node2&quot;</span><span class=p>)</span>
<span class=n>node1</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>node2</span>
<span class=n>node2</span><span class=o>.</span><span class=n>next</span> <span class=o>=</span> <span class=n>node1</span>  <span class=c1># Circular!</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Node1 refs: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>node1</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Node2 refs: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>node2</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Delete references</span>
<span class=k>del</span> <span class=n>node1</span><span class=p>,</span> <span class=n>node2</span>
<span class=c1># Objects not immediately deleted due to circular reference!</span>

<span class=c1># Force garbage collection</span>
<span class=n>collected</span> <span class=o>=</span> <span class=n>gc</span><span class=o>.</span><span class=n>collect</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Collected </span><span class=si>{</span><span class=n>collected</span><span class=si>}</span><span class=s2> objects&quot;</span><span class=p>)</span>

<span class=c1># 3. Weak References (Avoid Cycles)</span>
<span class=k>class</span><span class=w> </span><span class=nc>CacheEntry</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>key</span> <span class=o>=</span> <span class=n>key</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>

<span class=c1># Strong reference cache (can cause memory leaks)</span>
<span class=n>cache</span> <span class=o>=</span> <span class=p>{}</span>
<span class=n>entry</span> <span class=o>=</span> <span class=n>CacheEntry</span><span class=p>(</span><span class=s2>&quot;key1&quot;</span><span class=p>,</span> <span class=s2>&quot;value1&quot;</span><span class=p>)</span>
<span class=n>cache</span><span class=p>[</span><span class=s2>&quot;key1&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>entry</span>  <span class=c1># Strong reference</span>

<span class=c1># Weak reference cache (allows garbage collection)</span>
<span class=n>weak_cache</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>WeakValueDictionary</span><span class=p>()</span>
<span class=n>entry2</span> <span class=o>=</span> <span class=n>CacheEntry</span><span class=p>(</span><span class=s2>&quot;key2&quot;</span><span class=p>,</span> <span class=s2>&quot;value2&quot;</span><span class=p>)</span>
<span class=n>weak_cache</span><span class=p>[</span><span class=s2>&quot;key2&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>entry2</span>  <span class=c1># Weak reference</span>

<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Before deletion:&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;cache: </span><span class=si>{</span><span class=n>cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;key1&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;weak_cache: </span><span class=si>{</span><span class=n>weak_cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;key2&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Delete original references</span>
<span class=k>del</span> <span class=n>entry2</span>
<span class=n>gc</span><span class=o>.</span><span class=n>collect</span><span class=p>()</span>

<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>After deletion:&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;cache: </span><span class=si>{</span><span class=n>cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;key1&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># Still exists</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;weak_cache: </span><span class=si>{</span><span class=n>weak_cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;key2&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># None (collected)</span>

<span class=c1># 4. Generational GC Stats</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Garbage Collection Stats:&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;GC counts: </span><span class=si>{</span><span class=n>gc</span><span class=o>.</span><span class=n>get_count</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># (gen0, gen1, gen2)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;GC thresholds: </span><span class=si>{</span><span class=n>gc</span><span class=o>.</span><span class=n>get_threshold</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Create many objects to trigger GC</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000</span><span class=p>):</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>*</span> <span class=mi>100</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;GC counts after allocation: </span><span class=si>{</span><span class=n>gc</span><span class=o>.</span><span class=n>get_count</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 5. Memory Profiling</span>
<span class=kn>import</span><span class=w> </span><span class=nn>tracemalloc</span>

<span class=k>def</span><span class=w> </span><span class=nf>memory_intensive_function</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Function that allocates lots of memory.&quot;&quot;&quot;</span>
    <span class=c1># Start tracing</span>
    <span class=n>tracemalloc</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>

    <span class=c1># Allocate memory</span>
    <span class=n>big_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000000</span><span class=p>)]</span>
    <span class=n>big_dict</span> <span class=o>=</span> <span class=p>{</span><span class=n>i</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>100000</span><span class=p>)}</span>

    <span class=c1># Get memory usage</span>
    <span class=n>current</span><span class=p>,</span> <span class=n>peak</span> <span class=o>=</span> <span class=n>tracemalloc</span><span class=o>.</span><span class=n>get_traced_memory</span><span class=p>()</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Current memory: </span><span class=si>{</span><span class=n>current</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2> MB&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Peak memory: </span><span class=si>{</span><span class=n>peak</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2> MB&quot;</span><span class=p>)</span>

    <span class=c1># Get top memory allocations</span>
    <span class=n>snapshot</span> <span class=o>=</span> <span class=n>tracemalloc</span><span class=o>.</span><span class=n>take_snapshot</span><span class=p>()</span>
    <span class=n>top_stats</span> <span class=o>=</span> <span class=n>snapshot</span><span class=o>.</span><span class=n>statistics</span><span class=p>(</span><span class=s1>&#39;lineno&#39;</span><span class=p>)</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Top 3 memory allocations:&quot;</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>stat</span> <span class=ow>in</span> <span class=n>top_stats</span><span class=p>[:</span><span class=mi>3</span><span class=p>]:</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>stat</span><span class=p>)</span>

    <span class=n>tracemalloc</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

    <span class=k>return</span> <span class=n>big_list</span><span class=p>,</span> <span class=n>big_dict</span>

<span class=n>data</span> <span class=o>=</span> <span class=n>memory_intensive_function</span><span class=p>()</span>
<span class=k>del</span> <span class=n>data</span>
<span class=n>gc</span><span class=o>.</span><span class=n>collect</span><span class=p>()</span>

<span class=c1># 6. Memory Optimization: __slots__</span>
<span class=k>class</span><span class=w> </span><span class=nc>WithoutSlots</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Regular class with __dict__&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=k>class</span><span class=w> </span><span class=nc>WithSlots</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Optimized class with __slots__&quot;&quot;&quot;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=c1># Compare memory usage</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>
<span class=n>obj1</span> <span class=o>=</span> <span class=n>WithoutSlots</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>obj2</span> <span class=o>=</span> <span class=n>WithSlots</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Without slots: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>obj1</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;With slots: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>obj2</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>

<span class=c1># 7. Context Manager for Resource Management</span>
<span class=k>class</span><span class=w> </span><span class=nc>ManagedResource</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Ensures resource cleanup.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Acquiring </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__enter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__exit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Releasing </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>  <span class=c1># Don&#39;t suppress exceptions</span>

<span class=k>with</span> <span class=n>ManagedResource</span><span class=p>(</span><span class=s2>&quot;Database Connection&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>resource</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Using </span><span class=si>{</span><span class=n>resource</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=c1># Automatic cleanup even if exception occurs</span>
</code></pre></div> <p><strong>Memory Management Best Practices:</strong></p> <table> <thead> <tr> <th>Practice</th> <th>Why</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Use context managers</strong></td> <td>Automatic cleanup</td> <td><code>with open()</code></td> </tr> <tr> <td><strong>Break circular refs</strong></td> <td>Enable GC</td> <td>Use <code>weakref</code></td> </tr> <tr> <td><strong>Use <code>__slots__</code></strong></td> <td>Reduce memory</td> <td>Fixed attributes</td> </tr> <tr> <td><strong>Delete large objects</strong></td> <td>Free memory</td> <td><code>del large_list</code></td> </tr> <tr> <td><strong>Use generators</strong></td> <td>Lazy evaluation</td> <td><code>(x for x in range())</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Reference counting: track object references"</li> <li>"Ref count = 0 ‚Üí immediate deletion"</li> <li>"GC handles circular references"</li> <li>"Three generations: 0, 1, 2"</li> <li>"<code>weakref</code> for caches to avoid memory leaks"</li> <li>"<code>__slots__</code> reduces memory for many objects"</li> <li>"Context managers ensure cleanup"</li> <li>Memory profiling with <code>tracemalloc</code></li> </ul> </div> </details> <hr> <h3 id=what-are-python-metaclasses-meta-google-interview-question>What are Python Metaclasses? - Meta, Google Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>OOP</code>, <code>Advanced</code>, <code>Metaclasses</code>, <code>Meta-programming</code> | <strong>Asked by:</strong> Meta, Google, Dropbox</p> <details class=success> <summary>View Answer</summary> <p><strong>Metaclasses</strong> are classes of classes. They define how classes behave, just as classes define how instances behave.</p> <p><strong>Key Concept:</strong> <div class=highlight><pre><span></span><code><span class=c1># Everything is an object</span>
<span class=n>instance</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>()</span>  <span class=c1># instance is an object of MyClass</span>
<span class=n>MyClass</span> <span class=o>=</span> <span class=nb>type</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>   <span class=c1># MyClass is an object of type (metaclass)</span>
<span class=nb>type</span> <span class=o>=</span> <span class=nb>type</span><span class=p>(</span><span class=nb>type</span><span class=p>)</span>     <span class=c1># type is its own metaclass!</span>
</code></pre></div></p> <p><strong>Complete Guide:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>SimpleMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple metaclass that modifies class creation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Creating class </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Bases: </span><span class=si>{</span><span class=n>bases</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Namespace keys: </span><span class=si>{</span><span class=nb>list</span><span class=p>(</span><span class=n>namespace</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

        <span class=c1># Modify class before creation</span>
        <span class=n>namespace</span><span class=p>[</span><span class=s1>&#39;created_by&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;SimpleMeta&#39;</span>

        <span class=c1># Create the class</span>
        <span class=bp>cls</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Initializing class </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>SimpleMeta</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>method</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=s2>&quot;Hello&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Created by: </span><span class=si>{</span><span class=n>MyClass</span><span class=o>.</span><span class=n>created_by</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 2. Singleton Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>SingletonMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Metaclass that creates singleton classes.&quot;&quot;&quot;</span>

    <span class=n>_instances</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>cls</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>:</span>
            <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__call__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span>

<span class=k>class</span><span class=w> </span><span class=nc>Database</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>SingletonMeta</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>connection_string</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span> <span class=o>=</span> <span class=n>connection_string</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Creating connection: </span><span class=si>{</span><span class=n>connection_string</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Same instance returned</span>
<span class=n>db1</span> <span class=o>=</span> <span class=n>Database</span><span class=p>(</span><span class=s2>&quot;mysql://localhost&quot;</span><span class=p>)</span>
<span class=n>db2</span> <span class=o>=</span> <span class=n>Database</span><span class=p>(</span><span class=s2>&quot;postgres://localhost&quot;</span><span class=p>)</span>  <span class=c1># Ignored!</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Same instance? </span><span class=si>{</span><span class=n>db1</span><span class=w> </span><span class=ow>is</span><span class=w> </span><span class=n>db2</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># True</span>

<span class=c1># 3. Validation Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>ValidatedMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Metaclass that validates class attributes.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=c1># Check required attributes</span>
        <span class=n>required</span> <span class=o>=</span> <span class=n>namespace</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;__required__&#39;</span><span class=p>,</span> <span class=p>[])</span>
        <span class=k>for</span> <span class=n>attr</span> <span class=ow>in</span> <span class=n>required</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>attr</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>namespace</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s2>&quot;Class </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> must define attribute &#39;</span><span class=si>{</span><span class=n>attr</span><span class=si>}</span><span class=s2>&#39;&quot;</span>
                <span class=p>)</span>

        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>APIEndpoint</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>ValidatedMeta</span><span class=p>):</span>
    <span class=n>__required__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;route&#39;</span><span class=p>,</span> <span class=s1>&#39;method&#39;</span><span class=p>]</span>

    <span class=n>route</span> <span class=o>=</span> <span class=s1>&#39;/api/users&#39;</span>
    <span class=n>method</span> <span class=o>=</span> <span class=s1>&#39;GET&#39;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>handler</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=s2>&quot;Handling request&quot;</span>

<span class=c1># This would raise TypeError:</span>
<span class=c1># class InvalidEndpoint(metaclass=ValidatedMeta):</span>
<span class=c1>#     __required__ = [&#39;route&#39;, &#39;method&#39;]</span>
<span class=c1>#     route = &#39;/api/posts&#39;</span>
<span class=c1>#     # Missing &#39;method&#39;!</span>

<span class=c1># 4. ORM-like Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Field</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Represents a database field.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>field_type</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>field_type</span> <span class=o>=</span> <span class=n>field_type</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Field(</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>field_type</span><span class=si>}</span><span class=s2>)&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>ModelMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Metaclass for ORM models.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=c1># Collect Field definitions</span>
        <span class=n>fields</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>(</span><span class=n>namespace</span><span class=o>.</span><span class=n>items</span><span class=p>()):</span>
            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>Field</span><span class=p>):</span>
                <span class=n>fields</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
                <span class=c1># Remove from namespace</span>
                <span class=k>del</span> <span class=n>namespace</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>

        <span class=c1># Store fields</span>
        <span class=n>namespace</span><span class=p>[</span><span class=s1>&#39;_fields&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>fields</span>

        <span class=bp>cls</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

        <span class=c1># Register model (like Django does)</span>
        <span class=k>if</span> <span class=n>name</span> <span class=o>!=</span> <span class=s1>&#39;Model&#39;</span> <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=s1>&#39;_fields&#39;</span><span class=p>):</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Registered model: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  Fields: </span><span class=si>{</span><span class=nb>list</span><span class=p>(</span><span class=bp>cls</span><span class=o>.</span><span class=n>_fields</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Model</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>ModelMeta</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Base model class.&quot;&quot;&quot;</span>
    <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>(</span><span class=n>Model</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User model with fields.&quot;&quot;&quot;</span>
    <span class=nb>id</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>
    <span class=n>name</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
    <span class=n>email</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>User fields: </span><span class=si>{</span><span class=n>User</span><span class=o>.</span><span class=n>_fields</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 5. Method Decorator Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>AutoLogMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Metaclass that auto-decorates all methods.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>namespace</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=k>if</span> <span class=nb>callable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>key</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;_&#39;</span><span class=p>):</span>
                <span class=n>namespace</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>mcs</span><span class=o>.</span><span class=n>log_wrapper</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>key</span><span class=p>)</span>

        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>log_wrapper</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Calling </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>()&quot;</span><span class=p>)</span>
            <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>() returned </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>result</span>
        <span class=k>return</span> <span class=n>wrapper</span>

<span class=k>class</span><span class=w> </span><span class=nc>Calculator</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>AutoLogMeta</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>

    <span class=k>def</span><span class=w> </span><span class=nf>multiply</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>a</span> <span class=o>*</span> <span class=n>b</span>

<span class=n>calc</span> <span class=o>=</span> <span class=n>Calculator</span><span class=p>()</span>
<span class=n>calc</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=n>calc</span><span class=o>.</span><span class=n>multiply</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>

<span class=c1># 6. Abstract Base Class Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>ABCMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple implementation of abstract base class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=c1># Collect abstract methods</span>
        <span class=n>abstract_methods</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>namespace</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=k>if</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=s1>&#39;__isabstractmethod__&#39;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
                <span class=n>abstract_methods</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>

        <span class=c1># Check if all abstract methods are implemented</span>
        <span class=k>for</span> <span class=n>base</span> <span class=ow>in</span> <span class=n>bases</span><span class=p>:</span>
            <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>base</span><span class=p>,</span> <span class=s1>&#39;__abstractmethods__&#39;</span><span class=p>):</span>
                <span class=n>abstract_methods</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>base</span><span class=o>.</span><span class=n>__abstractmethods__</span><span class=p>)</span>

        <span class=n>namespace</span><span class=p>[</span><span class=s1>&#39;__abstractmethods__&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>frozenset</span><span class=p>(</span><span class=n>abstract_methods</span><span class=p>)</span>

        <span class=bp>cls</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>__abstractmethods__</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s2>&quot;Can&#39;t instantiate abstract class </span><span class=si>{</span><span class=bp>cls</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> &quot;</span>
                <span class=sa>f</span><span class=s2>&quot;with abstract methods: </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>cls</span><span class=o>.</span><span class=n>__abstractmethods__</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span>
            <span class=p>)</span>
        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__call__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>abstractmethod</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Mark method as abstract.&quot;&quot;&quot;</span>
    <span class=n>func</span><span class=o>.</span><span class=n>__isabstractmethod__</span> <span class=o>=</span> <span class=kc>True</span>
    <span class=k>return</span> <span class=n>func</span>

<span class=k>class</span><span class=w> </span><span class=nc>Shape</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>ABCMeta</span><span class=p>):</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>perimeter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>Rectangle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>width</span><span class=p>,</span> <span class=n>height</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>width</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>height</span>

    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span>

    <span class=k>def</span><span class=w> </span><span class=nf>perimeter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=mi>2</span> <span class=o>*</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span><span class=p>)</span>

<span class=c1># This works</span>
<span class=n>rect</span> <span class=o>=</span> <span class=n>Rectangle</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Area: </span><span class=si>{</span><span class=n>rect</span><span class=o>.</span><span class=n>area</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># This would raise TypeError:</span>
<span class=c1># shape = Shape()  # Can&#39;t instantiate abstract class</span>

<span class=c1># 7. Registry Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>PluginMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Metaclass that maintains plugin registry.&quot;&quot;&quot;</span>

    <span class=n>plugins</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=bp>cls</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

        <span class=c1># Register plugin</span>
        <span class=k>if</span> <span class=n>name</span> <span class=o>!=</span> <span class=s1>&#39;Plugin&#39;</span><span class=p>:</span>
            <span class=n>plugin_name</span> <span class=o>=</span> <span class=n>namespace</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
            <span class=n>mcs</span><span class=o>.</span><span class=n>plugins</span><span class=p>[</span><span class=n>plugin_name</span><span class=p>]</span> <span class=o>=</span> <span class=bp>cls</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Registered plugin: </span><span class=si>{</span><span class=n>plugin_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

        <span class=k>return</span> <span class=bp>cls</span>

<span class=k>class</span><span class=w> </span><span class=nc>Plugin</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>PluginMeta</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Base plugin class.&quot;&quot;&quot;</span>
    <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>JSONPlugin</span><span class=p>(</span><span class=n>Plugin</span><span class=p>):</span>
    <span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;json&#39;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Processing JSON: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>XMLPlugin</span><span class=p>(</span><span class=n>Plugin</span><span class=p>):</span>
    <span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;xml&#39;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Processing XML: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Available plugins: </span><span class=si>{</span><span class=nb>list</span><span class=p>(</span><span class=n>PluginMeta</span><span class=o>.</span><span class=n>plugins</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Get plugin by name</span>
<span class=n>plugin</span> <span class=o>=</span> <span class=n>PluginMeta</span><span class=o>.</span><span class=n>plugins</span><span class=p>[</span><span class=s1>&#39;json&#39;</span><span class=p>]()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>plugin</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>))</span>
</code></pre></div> <p><strong>When to Use Metaclasses:</strong></p> <table> <thead> <tr> <th>Use Case</th> <th>Example</th> <th>Alternative</th> </tr> </thead> <tbody> <tr> <td><strong>Singleton</strong></td> <td>Database connection</td> <td>Module-level instance</td> </tr> <tr> <td><strong>ORM</strong></td> <td>Django models</td> <td>Class decorators</td> </tr> <tr> <td><strong>Plugin system</strong></td> <td>Auto-registration</td> <td>Manual registration</td> </tr> <tr> <td><strong>API validation</strong></td> <td>Enforce schema</td> <td>Pydantic, dataclasses</td> </tr> <tr> <td><strong>AOP</strong></td> <td>Method logging</td> <td>Decorators</td> </tr> </tbody> </table> <p><strong>Quote:</strong></p> <blockquote> <p>"Metaclasses are deeper magic than 99% of users should ever worry about. If you wonder whether you need them, you don't." - Tim Peters</p> </blockquote> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Metaclasses: classes that create classes"</li> <li>"<code>type</code> is the default metaclass"</li> <li>"<code>__new__</code> creates class, <code>__init__</code> initializes"</li> <li>"Used in ORMs (Django), ABCs, singletons"</li> <li>"Modify class creation, add attributes/methods"</li> <li>"Usually better alternatives exist (decorators)"</li> <li>"Famous quote: If you wonder if you need them, you don't"</li> </ul> </div> </details> <hr> <h3 id=explain-decorators-with-multiple-examples-google-meta-interview-question>Explain Decorators with Multiple Examples - Google, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Decorators</code>, <code>Functions</code>, <code>Closures</code> | <strong>Asked by:</strong> Google, Meta, Amazon, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong>Decorators</strong> are functions that modify the behavior of other functions or classes without changing their source code.</p> <p><strong>Syntax:</strong> <div class=highlight><pre><span></span><code><span class=nd>@decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>function</span><span class=p>():</span>
    <span class=k>pass</span>
<span class=c1># Equivalent to: function = decorator(function)</span>
</code></pre></div></p> <p><strong>Comprehensive Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>time</span>
<span class=kn>import</span><span class=w> </span><span class=nn>functools</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Callable</span>

<span class=c1># 1. Basic Decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>simple_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Basic decorator that wraps a function.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Before </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;After </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@simple_decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Hello, </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Greeted </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=n>result</span> <span class=o>=</span> <span class=n>greet</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>)</span>

<span class=c1># 2. Decorator with Arguments</span>
<span class=k>def</span><span class=w> </span><span class=nf>repeat</span><span class=p>(</span><span class=n>times</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator that repeats function execution.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
            <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>times</span><span class=p>):</span>
                <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
                <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>results</span> <span class=k>if</span> <span class=n>times</span> <span class=o>&gt;</span> <span class=mi>1</span> <span class=k>else</span> <span class=n>results</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=nd>@repeat</span><span class=p>(</span><span class=n>times</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Hello!&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=s2>&quot;Done&quot;</span>

<span class=n>say_hello</span><span class=p>()</span>

<span class=c1># 3. Timing Decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>timing_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Measure execution time.&quot;&quot;&quot;</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> took </span><span class=si>{</span><span class=n>end</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@timing_decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>slow_function</span><span class=p>():</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
    <span class=k>return</span> <span class=s2>&quot;Done&quot;</span>

<span class=n>slow_function</span><span class=p>()</span>

<span class=c1># 4. Memoization Decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>memoize</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Cache function results.&quot;&quot;&quot;</span>
    <span class=n>cache</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>args</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>cache</span><span class=p>:</span>
            <span class=n>cache</span><span class=p>[</span><span class=n>args</span><span class=p>]</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>cache</span><span class=p>[</span><span class=n>args</span><span class=p>]</span>

    <span class=n>wrapper</span><span class=o>.</span><span class=n>cache</span> <span class=o>=</span> <span class=n>cache</span>  <span class=c1># Expose cache</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@memoize</span>
<span class=k>def</span><span class=w> </span><span class=nf>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>n</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>n</span>
    <span class=k>return</span> <span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>fibonacci</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>  <span class=c1># Fast due to caching</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cache size: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>fibonacci</span><span class=o>.</span><span class=n>cache</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 5. Validation Decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>validate_types</span><span class=p>(</span><span class=o>**</span><span class=n>type_checks</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate function argument types.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=c1># Get function signature</span>
            <span class=kn>import</span><span class=w> </span><span class=nn>inspect</span>
            <span class=n>sig</span> <span class=o>=</span> <span class=n>inspect</span><span class=o>.</span><span class=n>signature</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
            <span class=n>bound</span> <span class=o>=</span> <span class=n>sig</span><span class=o>.</span><span class=n>bind</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
            <span class=n>bound</span><span class=o>.</span><span class=n>apply_defaults</span><span class=p>()</span>

            <span class=c1># Validate types</span>
            <span class=k>for</span> <span class=n>param_name</span><span class=p>,</span> <span class=n>expected_type</span> <span class=ow>in</span> <span class=n>type_checks</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
                <span class=k>if</span> <span class=n>param_name</span> <span class=ow>in</span> <span class=n>bound</span><span class=o>.</span><span class=n>arguments</span><span class=p>:</span>
                    <span class=n>value</span> <span class=o>=</span> <span class=n>bound</span><span class=o>.</span><span class=n>arguments</span><span class=p>[</span><span class=n>param_name</span><span class=p>]</span>
                    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>expected_type</span><span class=p>):</span>
                        <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span>
                            <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>param_name</span><span class=si>}</span><span class=s2> must be </span><span class=si>{</span><span class=n>expected_type</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>, &quot;</span>
                            <span class=sa>f</span><span class=s2>&quot;got </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span>
                        <span class=p>)</span>

            <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=nd>@validate_types</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=nb>int</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>create_user</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Created user: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>age</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>create_user</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>))</span>
<span class=c1># create_user(&quot;Alice&quot;, &quot;30&quot;)  # TypeError!</span>

<span class=c1># 6. Retry Decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>retry</span><span class=p>(</span><span class=n>max_attempts</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>delay</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Retry function on exception.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=n>attempts</span> <span class=o>=</span> <span class=mi>0</span>
            <span class=k>while</span> <span class=n>attempts</span> <span class=o>&lt;</span> <span class=n>max_attempts</span><span class=p>:</span>
                <span class=k>try</span><span class=p>:</span>
                    <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
                <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
                    <span class=n>attempts</span> <span class=o>+=</span> <span class=mi>1</span>
                    <span class=k>if</span> <span class=n>attempts</span> <span class=o>&gt;=</span> <span class=n>max_attempts</span><span class=p>:</span>
                        <span class=k>raise</span>
                    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Attempt </span><span class=si>{</span><span class=n>attempts</span><span class=si>}</span><span class=s2> failed: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>. Retrying...&quot;</span><span class=p>)</span>
                    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>delay</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=n>attempt_count</span> <span class=o>=</span> <span class=mi>0</span>

<span class=nd>@retry</span><span class=p>(</span><span class=n>max_attempts</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>delay</span><span class=o>=</span><span class=mf>0.1</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>unreliable_function</span><span class=p>():</span>
    <span class=k>global</span> <span class=n>attempt_count</span>
    <span class=n>attempt_count</span> <span class=o>+=</span> <span class=mi>1</span>
    <span class=k>if</span> <span class=n>attempt_count</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Temporary error&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=s2>&quot;Success!&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>unreliable_function</span><span class=p>())</span>

<span class=c1># 7. Rate Limiting Decorator</span>
<span class=k>class</span><span class=w> </span><span class=nc>RateLimiter</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Rate limit decorator using class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>max_calls</span><span class=p>,</span> <span class=n>period</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>max_calls</span> <span class=o>=</span> <span class=n>max_calls</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>period</span> <span class=o>=</span> <span class=n>period</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>calls</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func</span><span class=p>):</span>
        <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=n>now</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>

            <span class=c1># Remove old calls</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>calls</span> <span class=o>=</span> <span class=p>[</span><span class=n>call</span> <span class=k>for</span> <span class=n>call</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>calls</span> 
                         <span class=k>if</span> <span class=n>now</span> <span class=o>-</span> <span class=n>call</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>period</span><span class=p>]</span>

            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>calls</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_calls</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s2>&quot;Rate limit exceeded: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>max_calls</span><span class=si>}</span><span class=s2> calls &quot;</span>
                    <span class=sa>f</span><span class=s2>&quot;per </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>period</span><span class=si>}</span><span class=s2>s&quot;</span>
                <span class=p>)</span>

            <span class=bp>self</span><span class=o>.</span><span class=n>calls</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>now</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@RateLimiter</span><span class=p>(</span><span class=n>max_calls</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>period</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>api_call</span><span class=p>():</span>
    <span class=k>return</span> <span class=s2>&quot;API response&quot;</span>

<span class=c1># Test rate limiting</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>api_call</span><span class=p>())</span>

<span class=c1># try:</span>
<span class=c1>#     api_call()  # This would raise Exception</span>
<span class=c1># except Exception as e:</span>
<span class=c1>#     print(e)</span>

<span class=c1># 8. Context Injection Decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>inject_context</span><span class=p>(</span><span class=n>context_factory</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Inject context into function.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=n>context</span> <span class=o>=</span> <span class=n>context_factory</span><span class=p>()</span>
            <span class=n>kwargs</span><span class=p>[</span><span class=s1>&#39;context&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>context</span>
            <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=k>def</span><span class=w> </span><span class=nf>create_db_context</span><span class=p>():</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;db&quot;</span><span class=p>:</span> <span class=s2>&quot;connection&quot;</span><span class=p>,</span> <span class=s2>&quot;user&quot;</span><span class=p>:</span> <span class=s2>&quot;admin&quot;</span><span class=p>}</span>

<span class=nd>@inject_context</span><span class=p>(</span><span class=n>create_db_context</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>query_database</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=n>context</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Executing </span><span class=si>{</span><span class=n>query</span><span class=si>}</span><span class=s2> with context: </span><span class=si>{</span><span class=n>context</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=s2>&quot;Results&quot;</span>

<span class=n>query_database</span><span class=p>(</span><span class=s2>&quot;SELECT * FROM users&quot;</span><span class=p>)</span>

<span class=c1># 9. Class Method Decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>class_method_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator for class methods.&quot;&quot;&quot;</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Calling </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>.</span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=k>class</span><span class=w> </span><span class=nc>Calculator</span><span class=p>:</span>
    <span class=nd>@class_method_decorator</span>
    <span class=k>def</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>

    <span class=nd>@class_method_decorator</span>
    <span class=k>def</span><span class=w> </span><span class=nf>multiply</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>a</span> <span class=o>*</span> <span class=n>b</span>

<span class=n>calc</span> <span class=o>=</span> <span class=n>Calculator</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>calc</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>

<span class=c1># 10. Chaining Decorators</span>
<span class=nd>@timing_decorator</span>
<span class=nd>@memoize</span>
<span class=k>def</span><span class=w> </span><span class=nf>expensive_fibonacci</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>n</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>n</span>
    <span class=k>return</span> <span class=n>expensive_fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>expensive_fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>expensive_fibonacci</span><span class=p>(</span><span class=mi>30</span><span class=p>))</span>
</code></pre></div> <p><strong>Common Decorator Patterns:</strong></p> <table> <thead> <tr> <th>Pattern</th> <th>Use Case</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Timing</strong></td> <td>Performance monitoring</td> <td><code>@timing_decorator</code></td> </tr> <tr> <td><strong>Caching</strong></td> <td>Expensive computations</td> <td><code>@memoize</code>, <code>@lru_cache</code></td> </tr> <tr> <td><strong>Validation</strong></td> <td>Input checking</td> <td><code>@validate_types</code></td> </tr> <tr> <td><strong>Retry</strong></td> <td>Network calls</td> <td><code>@retry(max_attempts=3)</code></td> </tr> <tr> <td><strong>Rate Limiting</strong></td> <td>API throttling</td> <td><code>@rate_limit</code></td> </tr> <tr> <td><strong>Logging</strong></td> <td>Debugging</td> <td><code>@log_calls</code></td> </tr> <tr> <td><strong>Authentication</strong></td> <td>Access control</td> <td><code>@require_auth</code></td> </tr> </tbody> </table> <p><strong>Built-in Decorators:</strong> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>value</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_value</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>static_method</span><span class=p>():</span>
        <span class=k>return</span> <span class=s2>&quot;Static&quot;</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>class_method</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=vm>__name__</span>

    <span class=nd>@functools</span><span class=o>.</span><span class=n>lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>128</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>cached_method</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>n</span> <span class=o>**</span> <span class=mi>2</span>
</code></pre></div></p> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Decorators: modify function behavior"</li> <li>"<code>@decorator</code> is syntactic sugar for <code>func = decorator(func)</code>"</li> <li>"Use <code>functools.wraps</code> to preserve metadata"</li> <li>"Can take arguments via nested functions"</li> <li>"Common patterns: timing, caching, validation, retry"</li> <li>"Class-based decorators using <code>__call__</code>"</li> <li>"Can chain decorators (applied bottom-up)"</li> <li>Practical applications (web frameworks, testing)</li> </ul> </div> </details> <hr> <h3 id=what-is-the-walrus-operator-amazon-google-interview-question>What is the Walrus Operator (:=)? - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Python 3.8+</code>, <code>Assignment</code>, <code>Expressions</code> | <strong>Asked by:</strong> Amazon, Google, Microsoft</p> <details class=success> <summary>View Answer</summary> <p>The <strong>walrus operator</strong> (<code>:=</code>) is an <strong>assignment expression</strong> introduced in Python 3.8 that assigns values to variables as part of an expression.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=kn>import</span><span class=w> </span><span class=nn>math</span>

<span class=c1># 1. While Loop - Most Common Use Case</span>
<span class=c1># Before walrus operator</span>
<span class=n>line</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&quot;Enter text: &quot;</span><span class=p>)</span>
<span class=k>while</span> <span class=n>line</span> <span class=o>!=</span> <span class=s2>&quot;quit&quot;</span><span class=p>:</span>
    <span class=n>process</span><span class=p>(</span><span class=n>line</span><span class=p>)</span>
    <span class=n>line</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&quot;Enter text: &quot;</span><span class=p>)</span>

<span class=c1># With walrus operator - cleaner</span>
<span class=k>while</span> <span class=p>(</span><span class=n>line</span> <span class=o>:=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&quot;Enter text: &quot;</span><span class=p>))</span> <span class=o>!=</span> <span class=s2>&quot;quit&quot;</span><span class=p>:</span>
    <span class=n>process</span><span class=p>(</span><span class=n>line</span><span class=p>)</span>

<span class=c1># 2. List Comprehension - Avoid Double Computation</span>
<span class=c1># Without walrus - calls sqrt twice per number!</span>
<span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>25</span><span class=p>,</span> <span class=mi>36</span><span class=p>]</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[</span><span class=n>math</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>n</span><span class=p>)</span> <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=n>numbers</span> <span class=k>if</span> <span class=n>math</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>n</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>3</span><span class=p>]</span>

<span class=c1># With walrus - calls sqrt once</span>
<span class=n>result</span> <span class=o>=</span> <span class=p>[</span><span class=n>root</span> <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=n>numbers</span> <span class=k>if</span> <span class=p>(</span><span class=n>root</span> <span class=o>:=</span> <span class=n>math</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>n</span><span class=p>))</span> <span class=o>&gt;</span> <span class=mi>3</span><span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># [4.0, 5.0, 6.0]</span>

<span class=c1># 3. File Processing in Chunks</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_file_chunks</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=n>chunk_size</span><span class=o>=</span><span class=mi>1024</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Read and process file in chunks.&quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>chunk</span> <span class=o>:=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>chunk_size</span><span class=p>)):</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Processing </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>chunk</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>
            <span class=k>yield</span> <span class=n>chunk</span>

<span class=c1># 4. Regex Matching</span>
<span class=n>text</span> <span class=o>=</span> <span class=s2>&quot;Contact: john@example.com or call 555-1234&quot;</span>

<span class=c1># Without walrus</span>
<span class=n>email_match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\b[\w.-]+@[\w.-]+\.\w+\b&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)</span>
<span class=k>if</span> <span class=n>email_match</span><span class=p>:</span>
    <span class=n>email</span> <span class=o>=</span> <span class=n>email_match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found email: </span><span class=si>{</span><span class=n>email</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># With walrus - more concise</span>
<span class=k>if</span> <span class=p>(</span><span class=n>match</span> <span class=o>:=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\b[\w.-]+@[\w.-]+\.\w+\b&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found email: </span><span class=si>{</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Multiple patterns</span>
<span class=k>if</span> <span class=p>(</span><span class=n>match</span> <span class=o>:=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\b[\w.-]+@[\w.-]+\.\w+\b&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Email: </span><span class=si>{</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=k>elif</span> <span class=p>(</span><span class=n>match</span> <span class=o>:=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\b\d</span><span class=si>{3}</span><span class=s1>-\d</span><span class=si>{4}</span><span class=s1>\b&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Phone: </span><span class=si>{</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 5. API Response Handling</span>
<span class=k>def</span><span class=w> </span><span class=nf>fetch_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simulated API call.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>user_id</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=n>user_id</span><span class=p>,</span> <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;User</span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;active&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>}</span>
    <span class=k>return</span> <span class=kc>None</span>

<span class=c1># Filter and transform in one comprehension</span>
<span class=n>user_ids</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
<span class=n>active_users</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>user</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span>
    <span class=k>for</span> <span class=n>uid</span> <span class=ow>in</span> <span class=n>user_ids</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>user</span> <span class=o>:=</span> <span class=n>fetch_user</span><span class=p>(</span><span class=n>uid</span><span class=p>))</span> <span class=ow>and</span> <span class=n>user</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;active&quot;</span><span class=p>)</span>
<span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>active_users</span><span class=p>)</span>  <span class=c1># [&#39;User1&#39;, &#39;User2&#39;, &#39;User3&#39;, &#39;User4&#39;, &#39;User5&#39;]</span>

<span class=c1># 6. Performance-Critical Code</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=k>def</span><span class=w> </span><span class=nf>expensive_computation</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simulate expensive operation.&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.001</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>n</span> <span class=o>**</span> <span class=mi>2</span>

<span class=c1># BAD: Calls expensive_computation TWICE per number</span>
<span class=c1># results = [n for n in range(20) </span>
<span class=c1>#            if expensive_computation(n) &gt; 100 </span>
<span class=c1>#            and expensive_computation(n) &lt; 200]</span>

<span class=c1># GOOD: Calls once per number</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>value</span>
    <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span>
    <span class=k>if</span> <span class=mi>100</span> <span class=o>&lt;</span> <span class=p>(</span><span class=n>value</span> <span class=o>:=</span> <span class=n>expensive_computation</span><span class=p>(</span><span class=n>n</span><span class=p>))</span> <span class=o>&lt;</span> <span class=mi>200</span>
<span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>results</span><span class=p>)</span>  <span class=c1># [121, 144, 169, 196]</span>

<span class=c1># 7. Complex Data Processing</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=s2>&quot;scores&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>85</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>88</span><span class=p>]},</span>
    <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Bob&quot;</span><span class=p>,</span> <span class=s2>&quot;scores&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>70</span><span class=p>,</span> <span class=mi>75</span><span class=p>,</span> <span class=mi>72</span><span class=p>]},</span>
    <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Carol&quot;</span><span class=p>,</span> <span class=s2>&quot;scores&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>95</span><span class=p>,</span> <span class=mi>92</span><span class=p>,</span> <span class=mi>98</span><span class=p>]},</span>
<span class=p>]</span>

<span class=c1># Calculate average and filter in one pass</span>
<span class=n>high_performers</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>(</span><span class=n>person</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>],</span> <span class=n>avg</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>person</span> <span class=ow>in</span> <span class=n>data</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>avg</span> <span class=o>:=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>person</span><span class=p>[</span><span class=s2>&quot;scores&quot;</span><span class=p>])</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>person</span><span class=p>[</span><span class=s2>&quot;scores&quot;</span><span class=p>]))</span> <span class=o>&gt;</span> <span class=mi>80</span>
<span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>high_performers</span><span class=p>)</span>  <span class=c1># [(&#39;Alice&#39;, 87.67), (&#39;Carol&#39;, 95.0)]</span>

<span class=c1># 8. Nested Loops with Early Exit</span>
<span class=k>def</span><span class=w> </span><span class=nf>find_pair_with_sum</span><span class=p>(</span><span class=n>numbers</span><span class=p>,</span> <span class=n>target</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Find first pair that sums to target.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>numbers</span><span class=p>):</span>
        <span class=k>for</span> <span class=n>y</span> <span class=ow>in</span> <span class=n>numbers</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>:]:</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>total</span> <span class=o>:=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>)</span> <span class=o>==</span> <span class=n>target</span><span class=p>:</span>
                <span class=k>return</span> <span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>total</span><span class=p>)</span>
    <span class=k>return</span> <span class=kc>None</span>

<span class=n>result</span> <span class=o>=</span> <span class=n>find_pair_with_sum</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=mi>9</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># (3, 6, 9)</span>

<span class=c1># 9. Dictionary Comprehension</span>
<span class=n>records</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=mi>100</span><span class=p>},</span>
    <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=mi>50</span><span class=p>},</span>
    <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=mi>150</span><span class=p>},</span>
<span class=p>]</span>

<span class=c1># Transform and filter</span>
<span class=n>transformed</span> <span class=o>=</span> <span class=p>{</span>
    <span class=n>rec</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>]:</span> <span class=n>doubled</span>
    <span class=k>for</span> <span class=n>rec</span> <span class=ow>in</span> <span class=n>records</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>doubled</span> <span class=o>:=</span> <span class=n>rec</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>100</span>
<span class=p>}</span>
<span class=nb>print</span><span class=p>(</span><span class=n>transformed</span><span class=p>)</span>  <span class=c1># {1: 200, 3: 300}</span>

<span class=c1># 10. State Machine Pattern</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_state_machine</span><span class=p>(</span><span class=n>events</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process events through state machine.&quot;&quot;&quot;</span>
    <span class=n>state</span> <span class=o>=</span> <span class=s2>&quot;IDLE&quot;</span>
    <span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>for</span> <span class=n>event</span> <span class=ow>in</span> <span class=n>events</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>state</span> <span class=o>==</span> <span class=s2>&quot;IDLE&quot;</span> <span class=ow>and</span> <span class=n>event</span> <span class=o>==</span> <span class=s2>&quot;START&quot;</span><span class=p>:</span>
            <span class=n>state</span> <span class=o>=</span> <span class=s2>&quot;RUNNING&quot;</span>
        <span class=k>elif</span> <span class=n>state</span> <span class=o>==</span> <span class=s2>&quot;RUNNING&quot;</span> <span class=ow>and</span> <span class=p>(</span><span class=n>duration</span> <span class=o>:=</span> <span class=n>event</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;duration&quot;</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
            <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Processed for </span><span class=si>{</span><span class=n>duration</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>state</span> <span class=o>==</span> <span class=s2>&quot;RUNNING&quot;</span> <span class=ow>and</span> <span class=n>event</span> <span class=o>==</span> <span class=s2>&quot;STOP&quot;</span><span class=p>:</span>
            <span class=n>state</span> <span class=o>=</span> <span class=s2>&quot;IDLE&quot;</span>

    <span class=k>return</span> <span class=n>results</span>
</code></pre></div> <p><strong>When to Use:</strong></p> <table> <thead> <tr> <th>Scenario</th> <th>Benefit</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>While loops</strong></td> <td>Avoid duplicate assignment</td> <td><code>while (x := f())</code></td> </tr> <tr> <td><strong>If conditions</strong></td> <td>Reuse computed value</td> <td><code>if (m := re.match())</code></td> </tr> <tr> <td><strong>Comprehensions</strong></td> <td>Avoid recalculation</td> <td><code>[y for x in l if (y := f(x)) &gt; 0]</code></td> </tr> <tr> <td><strong>Performance</strong></td> <td>Single expensive call</td> <td><code>if (data := fetch()) is not None</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Walrus <code>:=</code> assigns AND returns value"</li> <li>"Python 3.8+ (PEP 572)"</li> <li>"Reduces redundant function calls"</li> <li>"Common in while loops, comprehensions, if statements"</li> <li>"Performance: avoids expensive recalculation"</li> <li>"Use parentheses for clarity"</li> </ul> </div> </details> <hr> <h3 id=explain-python-context-managers-meta-amazon-interview-question>Explain Python Context Managers - Meta, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Context Managers</code>, <code>with</code>, <code>Resources</code> | <strong>Asked by:</strong> Meta, Amazon, Google, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong>Context managers</strong> handle setup and teardown of resources automatically using the <code>with</code> statement, ensuring cleanup even if exceptions occur.</p> <p><strong>Protocol:</strong> Define <code>__enter__</code> and <code>__exit__</code> methods.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>contextmanager</span><span class=p>,</span> <span class=n>suppress</span><span class=p>,</span> <span class=n>ExitStack</span>
<span class=kn>import</span><span class=w> </span><span class=nn>threading</span>
<span class=kn>import</span><span class=w> </span><span class=nn>asyncio</span>

<span class=c1># 1. Basic Context Manager Class</span>
<span class=k>class</span><span class=w> </span><span class=nc>FileManager</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom file context manager.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>,</span> <span class=n>mode</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>mode</span> <span class=o>=</span> <span class=n>mode</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>file</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__enter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Called when entering &#39;with&#39; block.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Opening </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>filename</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>filename</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>mode</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>file</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__exit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Called when exiting &#39;with&#39; block.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Closing </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>filename</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>file</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

        <span class=c1># Return False to propagate exceptions</span>
        <span class=k>if</span> <span class=n>exc_type</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Exception: </span><span class=si>{</span><span class=n>exc_type</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>exc_val</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>  <span class=c1># Don&#39;t suppress exceptions</span>

<span class=c1># Usage</span>
<span class=k>with</span> <span class=n>FileManager</span><span class=p>(</span><span class=s1>&#39;test.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&quot;Hello, World!&quot;</span><span class=p>)</span>
<span class=c1># File automatically closed</span>

<span class=c1># 2. Database Transaction Manager</span>
<span class=k>class</span><span class=w> </span><span class=nc>DatabaseConnection</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Manages database connection lifecycle.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>connection_string</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span> <span class=o>=</span> <span class=n>connection_string</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>connection</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>transaction</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__enter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Connecting to database...&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>connection</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;connected&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;db&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span><span class=p>}</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Starting transaction...&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>transaction</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;started&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>}</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__exit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>exc_type</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Committing transaction...&quot;</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>transaction</span><span class=p>[</span><span class=s2>&quot;committed&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Rolling back transaction...&quot;</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>transaction</span><span class=p>[</span><span class=s2>&quot;rolled_back&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>

        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Closing database connection...&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>connection</span><span class=p>[</span><span class=s2>&quot;connected&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=k>return</span> <span class=kc>False</span>  <span class=c1># Propagate exceptions</span>

    <span class=k>def</span><span class=w> </span><span class=nf>execute</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>query</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Execute query.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Executing: </span><span class=si>{</span><span class=n>query</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Results for </span><span class=si>{</span><span class=n>query</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=c1># Successful transaction</span>
<span class=k>with</span> <span class=n>DatabaseConnection</span><span class=p>(</span><span class=s2>&quot;postgresql://localhost&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>db</span><span class=p>:</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;SELECT * FROM users&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

<span class=c1># Failed transaction (auto-rollback)</span>
<span class=k>try</span><span class=p>:</span>
    <span class=k>with</span> <span class=n>DatabaseConnection</span><span class=p>(</span><span class=s2>&quot;postgresql://localhost&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>db</span><span class=p>:</span>
        <span class=n>db</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;INSERT INTO users VALUES (1, &#39;Alice&#39;)&quot;</span><span class=p>)</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Something went wrong!&quot;</span><span class=p>)</span>
<span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Transaction was rolled back automatically&quot;</span><span class=p>)</span>

<span class=c1># 3. Context Manager using contextlib</span>
<span class=nd>@contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>timing_context</span><span class=p>(</span><span class=n>name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Time code execution.&quot;&quot;&quot;</span>
    <span class=kn>import</span><span class=w> </span><span class=nn>time</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Starting </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>...&quot;</span><span class=p>)</span>
    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>yield</span>  <span class=c1># Control returns to &#39;with&#39; block</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> took </span><span class=si>{</span><span class=n>end</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=k>with</span> <span class=n>timing_context</span><span class=p>(</span><span class=s2>&quot;Database Query&quot;</span><span class=p>):</span>
    <span class=kn>import</span><span class=w> </span><span class=nn>time</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Executing query...&quot;</span><span class=p>)</span>

<span class=c1># 4. Multiple Context Managers</span>
<span class=nd>@contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>acquire_lock</span><span class=p>(</span><span class=n>lock_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simulate lock acquisition.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Acquiring lock: </span><span class=si>{</span><span class=n>lock_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>lock_name</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Releasing lock: </span><span class=si>{</span><span class=n>lock_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Multiple contexts in one statement (Python 3.1+)</span>
<span class=k>with</span> <span class=n>acquire_lock</span><span class=p>(</span><span class=s2>&quot;lock1&quot;</span><span class=p>),</span> <span class=n>acquire_lock</span><span class=p>(</span><span class=s2>&quot;lock2&quot;</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Both locks acquired simultaneously&quot;</span><span class=p>)</span>

<span class=c1># 5. Suppress Exceptions</span>
<span class=c1># Without suppress</span>
<span class=k>try</span><span class=p>:</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;nonexistent.txt&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
        <span class=n>content</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
<span class=k>except</span> <span class=ne>FileNotFoundError</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;File not found&quot;</span><span class=p>)</span>

<span class=c1># With suppress - cleaner</span>
<span class=k>with</span> <span class=n>suppress</span><span class=p>(</span><span class=ne>FileNotFoundError</span><span class=p>):</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;nonexistent.txt&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
        <span class=n>content</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Continued execution&quot;</span><span class=p>)</span>

<span class=c1># 6. Temporary State Changes</span>
<span class=nd>@contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>temporary_attribute</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Temporarily change object attribute.&quot;&quot;&quot;</span>
    <span class=n>original</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
    <span class=nb>setattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>obj</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>original</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=nb>setattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr</span><span class=p>,</span> <span class=n>original</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=nb>delattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Config</span><span class=p>:</span>
    <span class=n>debug</span> <span class=o>=</span> <span class=kc>False</span>

<span class=n>config</span> <span class=o>=</span> <span class=n>Config</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Debug: </span><span class=si>{</span><span class=n>config</span><span class=o>.</span><span class=n>debug</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># False</span>

<span class=k>with</span> <span class=n>temporary_attribute</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=s1>&#39;debug&#39;</span><span class=p>,</span> <span class=kc>True</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Debug (temp): </span><span class=si>{</span><span class=n>config</span><span class=o>.</span><span class=n>debug</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># True</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Debug (restored): </span><span class=si>{</span><span class=n>config</span><span class=o>.</span><span class=n>debug</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># False</span>

<span class=c1># 7. Resource Pool Manager</span>
<span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=n>deque</span>

<span class=k>class</span><span class=w> </span><span class=nc>ResourcePool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Pool of reusable resources.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>resource_factory</span><span class=p>,</span> <span class=n>max_size</span><span class=o>=</span><span class=mi>5</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>resource_factory</span> <span class=o>=</span> <span class=n>resource_factory</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>max_size</span> <span class=o>=</span> <span class=n>max_size</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>pool</span> <span class=o>=</span> <span class=n>deque</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>in_use</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>

    <span class=nd>@contextmanager</span>
    <span class=k>def</span><span class=w> </span><span class=nf>acquire</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Acquire resource from pool.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>pool</span><span class=p>:</span>
            <span class=n>resource</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>pool</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Reusing resource: </span><span class=si>{</span><span class=n>resource</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>resource</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>resource_factory</span><span class=p>()</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Creating new resource: </span><span class=si>{</span><span class=n>resource</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>in_use</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>resource</span><span class=p>)</span>

        <span class=k>try</span><span class=p>:</span>
            <span class=k>yield</span> <span class=n>resource</span>
        <span class=k>finally</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>in_use</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>resource</span><span class=p>)</span>
            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>pool</span><span class=p>)</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_size</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>pool</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>resource</span><span class=p>)</span>
                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Returned to pool: </span><span class=si>{</span><span class=n>resource</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>pool</span> <span class=o>=</span> <span class=n>ResourcePool</span><span class=p>(</span><span class=k>lambda</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;Resource-</span><span class=si>{</span><span class=nb>id</span><span class=p>(</span><span class=nb>object</span><span class=p>())</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>max_size</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>

<span class=k>with</span> <span class=n>pool</span><span class=o>.</span><span class=n>acquire</span><span class=p>()</span> <span class=k>as</span> <span class=n>r1</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Using </span><span class=si>{</span><span class=n>r1</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>with</span> <span class=n>pool</span><span class=o>.</span><span class=n>acquire</span><span class=p>()</span> <span class=k>as</span> <span class=n>r2</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Using </span><span class=si>{</span><span class=n>r2</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># Reuses r1</span>

<span class=c1># 8. Thread-Safe Lock Manager</span>
<span class=k>class</span><span class=w> </span><span class=nc>ThreadSafeLock</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Thread-safe lock context manager.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Lock</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__enter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_lock</span><span class=o>.</span><span class=n>acquire</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Lock acquired by </span><span class=si>{</span><span class=n>threading</span><span class=o>.</span><span class=n>current_thread</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__exit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_lock</span><span class=o>.</span><span class=n>release</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Lock released by </span><span class=si>{</span><span class=n>threading</span><span class=o>.</span><span class=n>current_thread</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>

<span class=c1># 9. ExitStack for Dynamic Context Managers</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_files</span><span class=p>(</span><span class=n>filenames</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Open multiple files dynamically.&quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=n>ExitStack</span><span class=p>()</span> <span class=k>as</span> <span class=n>stack</span><span class=p>:</span>
        <span class=n>files</span> <span class=o>=</span> <span class=p>[</span>
            <span class=n>stack</span><span class=o>.</span><span class=n>enter_context</span><span class=p>(</span><span class=nb>open</span><span class=p>(</span><span class=n>fname</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>))</span>
            <span class=k>for</span> <span class=n>fname</span> <span class=ow>in</span> <span class=n>filenames</span>
        <span class=p>]</span>

        <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>f</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>files</span><span class=p>):</span>
            <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;File </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=c1># All files automatically closed on exit</span>

<span class=c1># 10. Async Context Manager</span>
<span class=k>class</span><span class=w> </span><span class=nc>AsyncResource</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Async context manager example.&quot;&quot;&quot;</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=fm>__aenter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Acquiring async resource...&quot;</span><span class=p>)</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=fm>__aexit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Releasing async resource...&quot;</span><span class=p>)</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>do_work</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Doing async work...&quot;</span><span class=p>)</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.05</span><span class=p>)</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>AsyncResource</span><span class=p>()</span> <span class=k>as</span> <span class=n>resource</span><span class=p>:</span>
        <span class=k>await</span> <span class=n>resource</span><span class=o>.</span><span class=n>do_work</span><span class=p>()</span>
</code></pre></div> <p><strong>Built-in Context Managers:</strong></p> <table> <thead> <tr> <th>Context Manager</th> <th>Purpose</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>file objects</strong></td> <td>Auto-close files</td> <td><code>with open()</code></td> </tr> <tr> <td><strong>threading.Lock</strong></td> <td>Thread synchronization</td> <td><code>with lock:</code></td> </tr> <tr> <td><strong>suppress</strong></td> <td>Suppress exceptions</td> <td><code>with suppress(Exception)</code></td> </tr> <tr> <td><strong>ExitStack</strong></td> <td>Dynamic contexts</td> <td><code>with ExitStack()</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Context managers: automatic resource cleanup"</li> <li>"<code>__enter__</code> returns resource, <code>__exit__</code> cleans up"</li> <li>"Guarantees cleanup even if exception occurs"</li> <li>"<code>@contextmanager</code> decorator for generators"</li> <li>"Common for files, locks, database connections"</li> <li>"<code>__exit__</code> return True to suppress exceptions"</li> <li>"Async context managers: <code>__aenter__</code>, <code>__aexit__</code>"</li> <li>"<code>ExitStack</code> for dynamic number of contexts"</li> </ul> </div> </details> <hr> <h3 id=explain-generators-and-yield-google-netflix-interview-question>Explain Generators and yield - Google, Netflix Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Generators</code>, <code>yield</code>, <code>Iterators</code> | <strong>Asked by:</strong> Google, Netflix, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>Generators</strong> are functions that use <code>yield</code> to produce a sequence of values lazily (on-demand), maintaining state between calls.</p> <p><strong>Benefits:</strong> - Memory efficient (don't store entire sequence) - Can represent infinite sequences - Lazy evaluation - Simpler than iterator classes</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Generator</span>
<span class=k>def</span><span class=w> </span><span class=nf>count_up_to</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate numbers from 1 to n.&quot;&quot;&quot;</span>
    <span class=n>count</span> <span class=o>=</span> <span class=mi>1</span>
    <span class=k>while</span> <span class=n>count</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>count</span>
        <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>

<span class=c1># Generator object (not evaluated yet)</span>
<span class=n>gen</span> <span class=o>=</span> <span class=n>count_up_to</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># &lt;class &#39;generator&#39;&gt;</span>

<span class=c1># Consume values</span>
<span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>gen</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>  <span class=c1># 1, 2, 3, 4, 5</span>

<span class=c1># 2. Fibonacci Generator (Infinite)</span>
<span class=k>def</span><span class=w> </span><span class=nf>fibonacci</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate infinite Fibonacci sequence.&quot;&quot;&quot;</span>
    <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>a</span>
        <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>b</span><span class=p>,</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>

<span class=c1># Take first 10 Fibonacci numbers</span>
<span class=n>fib</span> <span class=o>=</span> <span class=n>fibonacci</span><span class=p>()</span>
<span class=n>first_10</span> <span class=o>=</span> <span class=p>[</span><span class=nb>next</span><span class=p>(</span><span class=n>fib</span><span class=p>)</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>first_10</span><span class=p>)</span>  <span class=c1># [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]</span>

<span class=c1># 3. File Reading Generator (Memory Efficient)</span>
<span class=k>def</span><span class=w> </span><span class=nf>read_large_file</span><span class=p>(</span><span class=n>file_path</span><span class=p>,</span> <span class=n>chunk_size</span><span class=o>=</span><span class=mi>1024</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Read file in chunks without loading entire file.&quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
        <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
            <span class=n>chunk</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>chunk_size</span><span class=p>)</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>chunk</span><span class=p>:</span>
                <span class=k>break</span>
            <span class=k>yield</span> <span class=n>chunk</span>

<span class=c1># Process huge file without memory issues</span>
<span class=c1># for chunk in read_large_file(&#39;huge_file.txt&#39;):</span>
<span class=c1>#     process(chunk)</span>

<span class=c1># 4. Generator Expression (Like List Comprehension)</span>
<span class=c1># List comprehension - creates entire list in memory</span>
<span class=n>squares_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000000</span><span class=p>)]</span>  <span class=c1># Uses lots of memory</span>

<span class=c1># Generator expression - lazy evaluation</span>
<span class=n>squares_gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000000</span><span class=p>))</span>  <span class=c1># Minimal memory</span>

<span class=c1># Use in loop</span>
<span class=k>for</span> <span class=n>square</span> <span class=ow>in</span> <span class=n>squares_gen</span><span class=p>:</span>
    <span class=k>if</span> <span class=n>square</span> <span class=o>&gt;</span> <span class=mi>100</span><span class=p>:</span>
        <span class=k>break</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>square</span><span class=p>)</span>

<span class=c1># 5. Data Processing Pipeline</span>
<span class=k>def</span><span class=w> </span><span class=nf>read_records</span><span class=p>(</span><span class=n>filename</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Read records from file.&quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
            <span class=k>yield</span> <span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>

<span class=k>def</span><span class=w> </span><span class=nf>parse_records</span><span class=p>(</span><span class=n>records</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Parse raw records.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>record</span> <span class=ow>in</span> <span class=n>records</span><span class=p>:</span>
        <span class=n>fields</span> <span class=o>=</span> <span class=n>record</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>fields</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
            <span class=k>yield</span> <span class=p>{</span>
                <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=n>fields</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span>
                <span class=s1>&#39;age&#39;</span><span class=p>:</span> <span class=nb>int</span><span class=p>(</span><span class=n>fields</span><span class=p>[</span><span class=mi>1</span><span class=p>]),</span>
                <span class=s1>&#39;city&#39;</span><span class=p>:</span> <span class=n>fields</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span>
            <span class=p>}</span>

<span class=k>def</span><span class=w> </span><span class=nf>filter_adults</span><span class=p>(</span><span class=n>records</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Filter adult records.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>record</span> <span class=ow>in</span> <span class=n>records</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>record</span><span class=p>[</span><span class=s1>&#39;age&#39;</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>18</span><span class=p>:</span>
            <span class=k>yield</span> <span class=n>record</span>

<span class=c1># Chain generators - efficient pipeline</span>
<span class=c1># records = read_records(&#39;data.csv&#39;)</span>
<span class=c1># parsed = parse_records(records)</span>
<span class=c1># adults = filter_adults(parsed)</span>
<span class=c1># </span>
<span class=c1># for adult in adults:</span>
<span class=c1>#     print(adult)</span>

<span class=c1># 6. Generator with Send (Two-way Communication)</span>
<span class=k>def</span><span class=w> </span><span class=nf>running_average</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculate running average.&quot;&quot;&quot;</span>
    <span class=n>total</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>average</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>value</span> <span class=o>=</span> <span class=k>yield</span> <span class=n>average</span>
        <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>break</span>
        <span class=n>total</span> <span class=o>+=</span> <span class=n>value</span>
        <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=n>average</span> <span class=o>=</span> <span class=n>total</span> <span class=o>/</span> <span class=n>count</span>

<span class=n>avg</span> <span class=o>=</span> <span class=n>running_average</span><span class=p>()</span>
<span class=nb>next</span><span class=p>(</span><span class=n>avg</span><span class=p>)</span>  <span class=c1># Prime the generator</span>

<span class=nb>print</span><span class=p>(</span><span class=n>avg</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>  <span class=c1># 10.0</span>
<span class=nb>print</span><span class=p>(</span><span class=n>avg</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>20</span><span class=p>))</span>  <span class=c1># 15.0</span>
<span class=nb>print</span><span class=p>(</span><span class=n>avg</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>30</span><span class=p>))</span>  <span class=c1># 20.0</span>

<span class=c1># 7. yield from (Delegating Generator)</span>
<span class=k>def</span><span class=w> </span><span class=nf>generator1</span><span class=p>():</span>
    <span class=k>yield</span> <span class=mi>1</span>
    <span class=k>yield</span> <span class=mi>2</span>
    <span class=k>yield</span> <span class=mi>3</span>

<span class=k>def</span><span class=w> </span><span class=nf>generator2</span><span class=p>():</span>
    <span class=k>yield</span> <span class=s1>&#39;a&#39;</span>
    <span class=k>yield</span> <span class=s1>&#39;b&#39;</span>
    <span class=k>yield</span> <span class=s1>&#39;c&#39;</span>

<span class=k>def</span><span class=w> </span><span class=nf>combined</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Combine multiple generators.&quot;&quot;&quot;</span>
    <span class=k>yield from</span> <span class=n>generator1</span><span class=p>()</span>
    <span class=k>yield from</span> <span class=n>generator2</span><span class=p>()</span>
    <span class=k>yield from</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span>

<span class=k>for</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>combined</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>  <span class=c1># 1, 2, 3, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, 4, 5, 6</span>

<span class=c1># 8. Tree Traversal Generator</span>
<span class=k>class</span><span class=w> </span><span class=nc>TreeNode</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=n>left</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>right</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=n>left</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>right</span> <span class=o>=</span> <span class=n>right</span>

<span class=k>def</span><span class=w> </span><span class=nf>inorder_traversal</span><span class=p>(</span><span class=n>node</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Inorder traversal using generator.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>node</span><span class=p>:</span>
        <span class=k>yield from</span> <span class=n>inorder_traversal</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>left</span><span class=p>)</span>
        <span class=k>yield</span> <span class=n>node</span><span class=o>.</span><span class=n>value</span>
        <span class=k>yield from</span> <span class=n>inorder_traversal</span><span class=p>(</span><span class=n>node</span><span class=o>.</span><span class=n>right</span><span class=p>)</span>

<span class=c1># Build tree</span>
<span class=n>root</span> <span class=o>=</span> <span class=n>TreeNode</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span>
    <span class=n>TreeNode</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>TreeNode</span><span class=p>(</span><span class=mi>1</span><span class=p>),</span> <span class=n>TreeNode</span><span class=p>(</span><span class=mi>3</span><span class=p>)),</span>
    <span class=n>TreeNode</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=n>TreeNode</span><span class=p>(</span><span class=mi>5</span><span class=p>),</span> <span class=n>TreeNode</span><span class=p>(</span><span class=mi>7</span><span class=p>))</span>
<span class=p>)</span>

<span class=c1># Traverse</span>
<span class=n>values</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>inorder_traversal</span><span class=p>(</span><span class=n>root</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>values</span><span class=p>)</span>  <span class=c1># [1, 2, 3, 4, 5, 6, 7]</span>

<span class=c1># 9. Permutations Generator</span>
<span class=k>def</span><span class=w> </span><span class=nf>permutations</span><span class=p>(</span><span class=n>items</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate all permutations.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=mi>1</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>items</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>items</span><span class=p>):</span>
            <span class=n>remaining</span> <span class=o>=</span> <span class=n>items</span><span class=p>[:</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>items</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>:]</span>
            <span class=k>for</span> <span class=n>perm</span> <span class=ow>in</span> <span class=n>permutations</span><span class=p>(</span><span class=n>remaining</span><span class=p>):</span>
                <span class=k>yield</span> <span class=p>[</span><span class=n>item</span><span class=p>]</span> <span class=o>+</span> <span class=n>perm</span>

<span class=n>perms</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>permutations</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]))</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Permutations: </span><span class=si>{</span><span class=n>perms</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Count: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>perms</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 6</span>

<span class=c1># 10. Generator State Machine</span>
<span class=k>def</span><span class=w> </span><span class=nf>traffic_light</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Traffic light state machine.&quot;&quot;&quot;</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=k>yield</span> <span class=s2>&quot;Red&quot;</span>
        <span class=k>yield</span> <span class=s2>&quot;Yellow&quot;</span>
        <span class=k>yield</span> <span class=s2>&quot;Green&quot;</span>
        <span class=k>yield</span> <span class=s2>&quot;Yellow&quot;</span>

<span class=n>light</span> <span class=o>=</span> <span class=n>traffic_light</span><span class=p>()</span>
<span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>8</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>light</span><span class=p>))</span>
</code></pre></div> <p><strong>Generator vs List:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>Generator</th> <th>List</th> </tr> </thead> <tbody> <tr> <td><strong>Memory</strong></td> <td>O(1) - stores state</td> <td>O(n) - stores all items</td> </tr> <tr> <td><strong>Speed</strong></td> <td>Lazy - faster start</td> <td>Eager - slower start</td> </tr> <tr> <td><strong>Reusable</strong></td> <td>‚ùå No - consumed once</td> <td>‚úÖ Yes - iterate multiple times</td> </tr> <tr> <td><strong>Length</strong></td> <td>Unknown (can be infinite)</td> <td>Known</td> </tr> <tr> <td><strong>Indexing</strong></td> <td>‚ùå No <code>gen[0]</code></td> <td>‚úÖ Yes <code>list[0]</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Generators: functions with <code>yield</code> keyword"</li> <li>"Lazy evaluation - values generated on-demand"</li> <li>"Memory efficient for large/infinite sequences"</li> <li>"State maintained between calls"</li> <li>"<code>next()</code> to get next value"</li> <li>"<code>yield from</code> delegates to another generator"</li> <li>"<code>send()</code> for two-way communication"</li> <li>"Generator expressions: <code>(x for x in range())</code>"</li> <li>"Use case: processing large files, infinite sequences"</li> </ul> </div> </details> <hr> <h3 id=explain-python-dataclasses-meta-google-interview-question>Explain Python dataclasses - Meta, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Python 3.7+</code>, <code>Classes</code>, <code>Data Structures</code> | <strong>Asked by:</strong> Meta, Google, Dropbox, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong><code>dataclasses</code></strong> module (Python 3.7+) auto-generates special methods like <code>__init__</code>, <code>__repr__</code>, <code>__eq__</code>, etc. for classes that primarily store data.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>dataclasses</span><span class=w> </span><span class=kn>import</span> <span class=n>dataclass</span><span class=p>,</span> <span class=n>field</span><span class=p>,</span> <span class=n>asdict</span><span class=p>,</span> <span class=n>astuple</span><span class=p>,</span> <span class=n>FrozenInstanceError</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Optional</span>
<span class=kn>import</span><span class=w> </span><span class=nn>json</span>

<span class=c1># 1. Basic Dataclass</span>
<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple person data class.&quot;&quot;&quot;</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>age</span><span class=p>:</span> <span class=nb>int</span>
    <span class=n>email</span><span class=p>:</span> <span class=nb>str</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_adult</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>&gt;=</span> <span class=mi>18</span>

<span class=c1># Auto-generated __init__, __repr__, __eq__</span>
<span class=n>person1</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>)</span>
<span class=n>person2</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>person1</span><span class=p>)</span>  <span class=c1># Person(name=&#39;Alice&#39;, age=30, email=&#39;alice@example.com&#39;)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>person1</span> <span class=o>==</span> <span class=n>person2</span><span class=p>)</span>  <span class=c1># True</span>

<span class=c1># 2. Default Values</span>
<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Product</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Product with default values.&quot;&quot;&quot;</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>price</span><span class=p>:</span> <span class=nb>float</span>
    <span class=n>quantity</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>tags</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>default_factory</span><span class=o>=</span><span class=nb>list</span><span class=p>)</span>  <span class=c1># Mutable default</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>total_value</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>price</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>quantity</span>

<span class=n>product</span> <span class=o>=</span> <span class=n>Product</span><span class=p>(</span><span class=s2>&quot;Laptop&quot;</span><span class=p>,</span> <span class=mf>999.99</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=p>[</span><span class=s2>&quot;electronics&quot;</span><span class=p>,</span> <span class=s2>&quot;computers&quot;</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Total value: $</span><span class=si>{</span><span class=n>product</span><span class=o>.</span><span class=n>total_value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 3. Frozen (Immutable) Dataclass</span>
<span class=nd>@dataclass</span><span class=p>(</span><span class=n>frozen</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=k>class</span><span class=w> </span><span class=nc>Point</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Immutable point.&quot;&quot;&quot;</span>
    <span class=n>x</span><span class=p>:</span> <span class=nb>float</span>
    <span class=n>y</span><span class=p>:</span> <span class=nb>float</span>

    <span class=k>def</span><span class=w> </span><span class=nf>distance_from_origin</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=k>return</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>**</span> <span class=mi>2</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>**</span> <span class=mi>2</span><span class=p>)</span> <span class=o>**</span> <span class=mf>0.5</span>

<span class=n>point</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>)</span>
<span class=c1># point.x = 10  # FrozenInstanceError!</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Distance: </span><span class=si>{</span><span class=n>point</span><span class=o>.</span><span class=n>distance_from_origin</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Frozen dataclasses are hashable</span>
<span class=n>points_set</span> <span class=o>=</span> <span class=p>{</span><span class=n>Point</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=n>Point</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>Point</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)}</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unique points: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>points_set</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 2</span>

<span class=c1># 4. Post-Initialization Processing</span>
<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Rectangle</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Rectangle with computed area.&quot;&quot;&quot;</span>
    <span class=n>width</span><span class=p>:</span> <span class=nb>float</span>
    <span class=n>height</span><span class=p>:</span> <span class=nb>float</span>
    <span class=n>area</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>init</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># Not in __init__</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__post_init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Called after __init__.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>area</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>&lt;=</span> <span class=mi>0</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Dimensions must be positive&quot;</span><span class=p>)</span>

<span class=n>rect</span> <span class=o>=</span> <span class=n>Rectangle</span><span class=p>(</span><span class=mf>5.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Rectangle area: </span><span class=si>{</span><span class=n>rect</span><span class=o>.</span><span class=n>area</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 5. Field Customization</span>
<span class=nd>@dataclass</span><span class=p>(</span><span class=n>order</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># Enable comparison operators</span>
<span class=k>class</span><span class=w> </span><span class=nc>Task</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Task with priority ordering.&quot;&quot;&quot;</span>
    <span class=n>priority</span><span class=p>:</span> <span class=nb>int</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>compare</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># Don&#39;t include in comparison</span>
    <span class=n>description</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>default</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=nb>repr</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># Not in repr</span>
    <span class=n>internal_id</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>default</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>init</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=nb>repr</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__post_init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>Task</span><span class=o>.</span><span class=n>_id_counter</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>Task</span><span class=p>,</span> <span class=s1>&#39;_id_counter&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>internal_id</span> <span class=o>=</span> <span class=n>Task</span><span class=o>.</span><span class=n>_id_counter</span>

<span class=n>task1</span> <span class=o>=</span> <span class=n>Task</span><span class=p>(</span><span class=n>priority</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;High priority&quot;</span><span class=p>)</span>
<span class=n>task2</span> <span class=o>=</span> <span class=n>Task</span><span class=p>(</span><span class=n>priority</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Low priority&quot;</span><span class=p>)</span>
<span class=n>task3</span> <span class=o>=</span> <span class=n>Task</span><span class=p>(</span><span class=n>priority</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Another high&quot;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>task1</span> <span class=o>&lt;</span> <span class=n>task2</span><span class=p>)</span>  <span class=c1># True (priority 1 &lt; 2)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>task1</span> <span class=o>==</span> <span class=n>task3</span><span class=p>)</span>  <span class=c1># True (same priority, name not compared)</span>

<span class=c1># Sorting by priority</span>
<span class=n>tasks</span> <span class=o>=</span> <span class=p>[</span><span class=n>task2</span><span class=p>,</span> <span class=n>task1</span><span class=p>,</span> <span class=n>task3</span><span class=p>]</span>
<span class=n>tasks</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
<span class=k>for</span> <span class=n>task</span> <span class=ow>in</span> <span class=n>tasks</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>task</span><span class=p>)</span>

<span class=c1># 6. Conversion to Dict/Tuple</span>
<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User with conversion methods.&quot;&quot;&quot;</span>
    <span class=n>username</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>email</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>age</span><span class=p>:</span> <span class=nb>int</span>
    <span class=n>active</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span>

<span class=n>user</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span><span class=s2>&quot;alice&quot;</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>

<span class=c1># Convert to dictionary</span>
<span class=n>user_dict</span> <span class=o>=</span> <span class=n>asdict</span><span class=p>(</span><span class=n>user</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>user_dict</span><span class=p>)</span>
<span class=c1># {&#39;username&#39;: &#39;alice&#39;, &#39;email&#39;: &#39;alice@example.com&#39;, &#39;age&#39;: 30, &#39;active&#39;: True}</span>

<span class=c1># Convert to tuple</span>
<span class=n>user_tuple</span> <span class=o>=</span> <span class=n>astuple</span><span class=p>(</span><span class=n>user</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>user_tuple</span><span class=p>)</span>  <span class=c1># (&#39;alice&#39;, &#39;alice@example.com&#39;, 30, True)</span>

<span class=c1># JSON serialization</span>
<span class=n>json_str</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>asdict</span><span class=p>(</span><span class=n>user</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>json_str</span><span class=p>)</span>

<span class=c1># 7. Inheritance</span>
<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Employee</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Base employee class.&quot;&quot;&quot;</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>employee_id</span><span class=p>:</span> <span class=nb>int</span>

<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Manager</span><span class=p>(</span><span class=n>Employee</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Manager with additional fields.&quot;&quot;&quot;</span>
    <span class=n>team_size</span><span class=p>:</span> <span class=nb>int</span>
    <span class=n>department</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;Engineering&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_info</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Manager </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> leads </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>team_size</span><span class=si>}</span><span class=s2> people&quot;</span>

<span class=n>manager</span> <span class=o>=</span> <span class=n>Manager</span><span class=p>(</span><span class=s2>&quot;Bob&quot;</span><span class=p>,</span> <span class=mi>12345</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=s2>&quot;Sales&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>manager</span><span class=o>.</span><span class=n>get_info</span><span class=p>())</span>

<span class=c1># 8. Factory Pattern with Dataclass</span>
<span class=kn>from</span><span class=w> </span><span class=nn>enum</span><span class=w> </span><span class=kn>import</span> <span class=n>Enum</span>

<span class=k>class</span><span class=w> </span><span class=nc>UserType</span><span class=p>(</span><span class=n>Enum</span><span class=p>):</span>
    <span class=n>ADMIN</span> <span class=o>=</span> <span class=s2>&quot;admin&quot;</span>
    <span class=n>USER</span> <span class=o>=</span> <span class=s2>&quot;user&quot;</span>
    <span class=n>GUEST</span> <span class=o>=</span> <span class=s2>&quot;guest&quot;</span>

<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>UserConfig</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User configuration.&quot;&quot;&quot;</span>
    <span class=n>user_type</span><span class=p>:</span> <span class=n>UserType</span>
    <span class=n>permissions</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span><span class=n>default_factory</span><span class=o>=</span><span class=nb>list</span><span class=p>)</span>
    <span class=n>max_sessions</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>1</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>create_admin</span><span class=p>():</span>
        <span class=k>return</span> <span class=n>UserConfig</span><span class=p>(</span>
            <span class=n>user_type</span><span class=o>=</span><span class=n>UserType</span><span class=o>.</span><span class=n>ADMIN</span><span class=p>,</span>
            <span class=n>permissions</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;read&quot;</span><span class=p>,</span> <span class=s2>&quot;write&quot;</span><span class=p>,</span> <span class=s2>&quot;delete&quot;</span><span class=p>],</span>
            <span class=n>max_sessions</span><span class=o>=</span><span class=mi>10</span>
        <span class=p>)</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>create_guest</span><span class=p>():</span>
        <span class=k>return</span> <span class=n>UserConfig</span><span class=p>(</span>
            <span class=n>user_type</span><span class=o>=</span><span class=n>UserType</span><span class=o>.</span><span class=n>GUEST</span><span class=p>,</span>
            <span class=n>permissions</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;read&quot;</span><span class=p>],</span>
            <span class=n>max_sessions</span><span class=o>=</span><span class=mi>1</span>
        <span class=p>)</span>

<span class=n>admin</span> <span class=o>=</span> <span class=n>UserConfig</span><span class=o>.</span><span class=n>create_admin</span><span class=p>()</span>
<span class=n>guest</span> <span class=o>=</span> <span class=n>UserConfig</span><span class=o>.</span><span class=n>create_guest</span><span class=p>()</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Admin permissions: </span><span class=si>{</span><span class=n>admin</span><span class=o>.</span><span class=n>permissions</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Guest permissions: </span><span class=si>{</span><span class=n>guest</span><span class=o>.</span><span class=n>permissions</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 9. Validation with __post_init__</span>
<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>EmailAddress</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Validated email address.&quot;&quot;&quot;</span>
    <span class=n>email</span><span class=p>:</span> <span class=nb>str</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__post_init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=s1>&#39;@&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=ow>or</span> <span class=s1>&#39;.&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>email</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid email: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>email</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>email</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>

<span class=n>email</span> <span class=o>=</span> <span class=n>EmailAddress</span><span class=p>(</span><span class=s2>&quot;User@EXAMPLE.COM&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>email</span><span class=o>.</span><span class=n>email</span><span class=p>)</span>  <span class=c1># user@example.com</span>
</code></pre></div> <p><strong>Dataclass vs Named Tuple vs Regular Class:</strong></p> <table> <thead> <tr> <th>Feature</th> <th>dataclass</th> <th>namedtuple</th> <th>Regular class</th> </tr> </thead> <tbody> <tr> <td><strong>Mutability</strong></td> <td>Mutable (or frozen)</td> <td>Immutable</td> <td>Mutable</td> </tr> <tr> <td><strong>Type hints</strong></td> <td>‚úÖ Yes</td> <td>‚ùå No</td> <td>‚úÖ Yes</td> </tr> <tr> <td><strong>Methods</strong></td> <td>‚úÖ Yes</td> <td>‚úÖ Yes</td> <td>‚úÖ Yes</td> </tr> <tr> <td><strong>Inheritance</strong></td> <td>‚úÖ Easy</td> <td>‚ö†Ô∏è Tricky</td> <td>‚úÖ Easy</td> </tr> <tr> <td><strong>Memory</strong></td> <td>Normal</td> <td>Lower</td> <td>Normal</td> </tr> <tr> <td><strong>Boilerplate</strong></td> <td>Minimal</td> <td>Minimal</td> <td>High</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Dataclasses: auto-generate <code>__init__</code>, <code>__repr__</code>, <code>__eq__</code>"</li> <li>"Python 3.7+ feature"</li> <li>"Less boilerplate than regular classes"</li> <li>"<code>frozen=True</code> makes immutable"</li> <li>"<code>field()</code> for customization (default_factory, init, repr, compare)"</li> <li>"<code>__post_init__</code> for validation/computed fields"</li> <li>"<code>asdict()</code>, <code>astuple()</code> for conversion"</li> <li>"<code>order=True</code> enables <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>"</li> <li>"Better than namedtuple for mutable data with methods"</li> </ul> </div> </details> <hr> <h3 id=what-is-structural-pattern-matching-matchcase-google-netflix-interview-question>What is Structural Pattern Matching (match/case)? - Google, Netflix Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Python 3.10+</code>, <code>Pattern Matching</code>, <code>Control Flow</code> | <strong>Asked by:</strong> Google, Netflix, Stripe, Dropbox</p> <details class=success> <summary>View Answer</summary> <p><strong>Structural pattern matching</strong> (Python 3.10+) provides powerful pattern matching for data structures using <code>match</code>/<code>case</code> statements, similar to switch statements but much more powerful.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Pattern Matching</span>
<span class=k>def</span><span class=w> </span><span class=nf>http_status</span><span class=p>(</span><span class=n>status_code</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Match HTTP status codes.&quot;&quot;&quot;</span>
    <span class=k>match</span> <span class=n>status_code</span><span class=p>:</span>
        <span class=k>case</span> <span class=mi>200</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;OK&quot;</span>
        <span class=k>case</span> <span class=mi>201</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;Created&quot;</span>
        <span class=k>case</span> <span class=mi>400</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;Bad Request&quot;</span>
        <span class=k>case</span> <span class=mi>404</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;Not Found&quot;</span>
        <span class=k>case</span> <span class=mi>500</span> <span class=o>|</span> <span class=mi>502</span> <span class=o>|</span> <span class=mi>503</span><span class=p>:</span>  <span class=c1># OR pattern</span>
            <span class=k>return</span> <span class=s2>&quot;Server Error&quot;</span>
        <span class=k>case</span><span class=w> </span><span class=k>_</span><span class=p>:</span>  <span class=c1># Default case</span>
            <span class=k>return</span> <span class=s2>&quot;Unknown Status&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>http_status</span><span class=p>(</span><span class=mi>200</span><span class=p>))</span>  <span class=c1># OK</span>
<span class=nb>print</span><span class=p>(</span><span class=n>http_status</span><span class=p>(</span><span class=mi>500</span><span class=p>))</span>  <span class=c1># Server Error</span>

<span class=c1># 2. Sequence Patterns</span>
<span class=k>def</span><span class=w> </span><span class=nf>describe_point</span><span class=p>(</span><span class=n>point</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Match point coordinates.&quot;&quot;&quot;</span>
    <span class=k>match</span> <span class=n>point</span><span class=p>:</span>
        <span class=k>case</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>]:</span>
            <span class=k>return</span> <span class=s2>&quot;Origin&quot;</span>
        <span class=k>case</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=n>y</span><span class=p>]:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Y-axis at y=</span><span class=si>{</span><span class=n>y</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span> <span class=p>[</span><span class=n>x</span><span class=p>,</span> <span class=mi>0</span><span class=p>]:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;X-axis at x=</span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span> <span class=p>[</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>]:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Point at (</span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>y</span><span class=si>}</span><span class=s2>)&quot;</span>
        <span class=k>case</span> <span class=p>[</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>]:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;3D point at (</span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>y</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>z</span><span class=si>}</span><span class=s2>)&quot;</span>
        <span class=k>case</span><span class=w> </span><span class=k>_</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;Invalid point&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>describe_point</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>]))</span>  <span class=c1># Origin</span>
<span class=nb>print</span><span class=p>(</span><span class=n>describe_point</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]))</span>  <span class=c1># Point at (3, 4)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>describe_point</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]))</span>  <span class=c1># 3D point at (1, 2, 3)</span>

<span class=c1># 3. Class Patterns</span>
<span class=kn>from</span><span class=w> </span><span class=nn>dataclasses</span><span class=w> </span><span class=kn>import</span> <span class=n>dataclass</span>

<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Point</span><span class=p>:</span>
    <span class=n>x</span><span class=p>:</span> <span class=nb>float</span>
    <span class=n>y</span><span class=p>:</span> <span class=nb>float</span>

<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>:</span>
    <span class=n>center</span><span class=p>:</span> <span class=n>Point</span>
    <span class=n>radius</span><span class=p>:</span> <span class=nb>float</span>

<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Rectangle</span><span class=p>:</span>
    <span class=n>top_left</span><span class=p>:</span> <span class=n>Point</span>
    <span class=n>bottom_right</span><span class=p>:</span> <span class=n>Point</span>

<span class=k>def</span><span class=w> </span><span class=nf>describe_shape</span><span class=p>(</span><span class=n>shape</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Match different shapes.&quot;&quot;&quot;</span>
    <span class=k>match</span> <span class=n>shape</span><span class=p>:</span>
        <span class=k>case</span> <span class=n>Point</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>
            <span class=k>return</span> <span class=s2>&quot;Origin point&quot;</span>
        <span class=k>case</span> <span class=n>Point</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=n>y</span><span class=p>):</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Point at (</span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>y</span><span class=si>}</span><span class=s2>)&quot;</span>
        <span class=k>case</span> <span class=n>Circle</span><span class=p>(</span><span class=n>center</span><span class=o>=</span><span class=n>Point</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>0</span><span class=p>),</span> <span class=n>radius</span><span class=o>=</span><span class=n>r</span><span class=p>):</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Circle at origin with radius </span><span class=si>{</span><span class=n>r</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span> <span class=n>Circle</span><span class=p>(</span><span class=n>center</span><span class=o>=</span><span class=n>c</span><span class=p>,</span> <span class=n>radius</span><span class=o>=</span><span class=n>r</span><span class=p>):</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Circle at </span><span class=si>{</span><span class=n>c</span><span class=si>}</span><span class=s2> with radius </span><span class=si>{</span><span class=n>r</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span> <span class=n>Rectangle</span><span class=p>(</span><span class=n>top_left</span><span class=o>=</span><span class=n>Point</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=n>x1</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=n>y1</span><span class=p>),</span> 
                      <span class=n>bottom_right</span><span class=o>=</span><span class=n>Point</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=n>x2</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=n>y2</span><span class=p>)):</span>
            <span class=n>width</span> <span class=o>=</span> <span class=n>x2</span> <span class=o>-</span> <span class=n>x1</span>
            <span class=n>height</span> <span class=o>=</span> <span class=n>y2</span> <span class=o>-</span> <span class=n>y1</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Rectangle </span><span class=si>{</span><span class=n>width</span><span class=si>}</span><span class=s2>x</span><span class=si>{</span><span class=n>height</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span><span class=w> </span><span class=k>_</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;Unknown shape&quot;</span>

<span class=n>shapes</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>Point</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
    <span class=n>Point</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span>
    <span class=n>Circle</span><span class=p>(</span><span class=n>Point</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=mi>5</span><span class=p>),</span>
    <span class=n>Rectangle</span><span class=p>(</span><span class=n>Point</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=n>Point</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>5</span><span class=p>))</span>
<span class=p>]</span>

<span class=k>for</span> <span class=n>shape</span> <span class=ow>in</span> <span class=n>shapes</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>describe_shape</span><span class=p>(</span><span class=n>shape</span><span class=p>))</span>

<span class=c1># 4. Dictionary Patterns</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_request</span><span class=p>(</span><span class=n>request</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Match HTTP request structure.&quot;&quot;&quot;</span>
    <span class=k>match</span> <span class=n>request</span><span class=p>:</span>
        <span class=k>case</span> <span class=p>{</span><span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;GET&quot;</span><span class=p>,</span> <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=s2>&quot;/&quot;</span><span class=p>}:</span>
            <span class=k>return</span> <span class=s2>&quot;Homepage&quot;</span>
        <span class=k>case</span> <span class=p>{</span><span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;GET&quot;</span><span class=p>,</span> <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>path</span><span class=p>}:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;GET </span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span> <span class=p>{</span><span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;POST&quot;</span><span class=p>,</span> <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>path</span><span class=p>,</span> <span class=s2>&quot;body&quot;</span><span class=p>:</span> <span class=n>body</span><span class=p>}:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;POST </span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2> with data: </span><span class=si>{</span><span class=n>body</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span> <span class=p>{</span><span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=n>method</span><span class=p>,</span> <span class=o>**</span><span class=n>rest</span><span class=p>}:</span>  <span class=c1># Capture rest</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Unsupported method: </span><span class=si>{</span><span class=n>method</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span><span class=w> </span><span class=k>_</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;Invalid request&quot;</span>

<span class=n>requests</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>{</span><span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;GET&quot;</span><span class=p>,</span> <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=s2>&quot;/&quot;</span><span class=p>},</span>
    <span class=p>{</span><span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;GET&quot;</span><span class=p>,</span> <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=s2>&quot;/users&quot;</span><span class=p>},</span>
    <span class=p>{</span><span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;POST&quot;</span><span class=p>,</span> <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=s2>&quot;/users&quot;</span><span class=p>,</span> <span class=s2>&quot;body&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>}},</span>
    <span class=p>{</span><span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;DELETE&quot;</span><span class=p>,</span> <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=s2>&quot;/users/1&quot;</span><span class=p>}</span>
<span class=p>]</span>

<span class=k>for</span> <span class=n>req</span> <span class=ow>in</span> <span class=n>requests</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>process_request</span><span class=p>(</span><span class=n>req</span><span class=p>))</span>

<span class=c1># 5. Guards (if clause)</span>
<span class=k>def</span><span class=w> </span><span class=nf>categorize_age</span><span class=p>(</span><span class=n>person</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Categorize person by age with guards.&quot;&quot;&quot;</span>
    <span class=k>match</span> <span class=n>person</span><span class=p>:</span>
        <span class=k>case</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=n>age</span><span class=p>}</span> <span class=k>if</span> <span class=n>age</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>: Invalid age&quot;</span>
        <span class=k>case</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=n>age</span><span class=p>}</span> <span class=k>if</span> <span class=n>age</span> <span class=o>&lt;</span> <span class=mi>18</span><span class=p>:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>: Minor&quot;</span>
        <span class=k>case</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=n>age</span><span class=p>}</span> <span class=k>if</span> <span class=n>age</span> <span class=o>&lt;</span> <span class=mi>65</span><span class=p>:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>: Adult&quot;</span>
        <span class=k>case</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=n>age</span><span class=p>}:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>: Senior&quot;</span>
        <span class=k>case</span><span class=w> </span><span class=k>_</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;Invalid person&quot;</span>

<span class=n>people</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=mi>10</span><span class=p>},</span>
    <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Bob&quot;</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=mi>30</span><span class=p>},</span>
    <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Carol&quot;</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=mi>70</span><span class=p>}</span>
<span class=p>]</span>

<span class=k>for</span> <span class=n>person</span> <span class=ow>in</span> <span class=n>people</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>categorize_age</span><span class=p>(</span><span class=n>person</span><span class=p>))</span>

<span class=c1># 6. Nested Patterns</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_json_event</span><span class=p>(</span><span class=n>event</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process complex JSON events.&quot;&quot;&quot;</span>
    <span class=k>match</span> <span class=n>event</span><span class=p>:</span>
        <span class=k>case</span> <span class=p>{</span>
            <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span>
            <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;login&quot;</span><span class=p>,</span>
            <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;user_id&quot;</span><span class=p>:</span> <span class=n>uid</span><span class=p>,</span> <span class=s2>&quot;timestamp&quot;</span><span class=p>:</span> <span class=n>ts</span><span class=p>}</span>
        <span class=p>}:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;User </span><span class=si>{</span><span class=n>uid</span><span class=si>}</span><span class=s2> logged in at </span><span class=si>{</span><span class=n>ts</span><span class=si>}</span><span class=s2>&quot;</span>

        <span class=k>case</span> <span class=p>{</span>
            <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span>
            <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;logout&quot;</span><span class=p>,</span>
            <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;user_id&quot;</span><span class=p>:</span> <span class=n>uid</span><span class=p>}</span>
        <span class=p>}:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;User </span><span class=si>{</span><span class=n>uid</span><span class=si>}</span><span class=s2> logged out&quot;</span>

        <span class=k>case</span> <span class=p>{</span>
            <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;order&quot;</span><span class=p>,</span>
            <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;created&quot;</span><span class=p>,</span>
            <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;order_id&quot;</span><span class=p>:</span> <span class=n>oid</span><span class=p>,</span> <span class=s2>&quot;items&quot;</span><span class=p>:</span> <span class=n>items</span><span class=p>}</span>
        <span class=p>}</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Order </span><span class=si>{</span><span class=n>oid</span><span class=si>}</span><span class=s2> created with </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span><span class=si>}</span><span class=s2> items&quot;</span>

        <span class=k>case</span> <span class=p>{</span><span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=n>event_type</span><span class=p>,</span> <span class=o>**</span><span class=n>rest</span><span class=p>}:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Unknown event type: </span><span class=si>{</span><span class=n>event_type</span><span class=si>}</span><span class=s2>&quot;</span>

        <span class=k>case</span><span class=w> </span><span class=k>_</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;Invalid event&quot;</span>

<span class=n>events</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>{</span>
        <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;user&quot;</span><span class=p>,</span>
        <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;login&quot;</span><span class=p>,</span>
        <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;user_id&quot;</span><span class=p>:</span> <span class=mi>123</span><span class=p>,</span> <span class=s2>&quot;timestamp&quot;</span><span class=p>:</span> <span class=s2>&quot;2024-01-01&quot;</span><span class=p>}</span>
    <span class=p>},</span>
    <span class=p>{</span>
        <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;order&quot;</span><span class=p>,</span>
        <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;created&quot;</span><span class=p>,</span>
        <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;order_id&quot;</span><span class=p>:</span> <span class=mi>456</span><span class=p>,</span> <span class=s2>&quot;items&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;item1&quot;</span><span class=p>,</span> <span class=s2>&quot;item2&quot;</span><span class=p>]}</span>
    <span class=p>}</span>
<span class=p>]</span>

<span class=k>for</span> <span class=n>event</span> <span class=ow>in</span> <span class=n>events</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>process_json_event</span><span class=p>(</span><span class=n>event</span><span class=p>))</span>

<span class=c1># 7. Wildcard and Capture Patterns</span>
<span class=k>def</span><span class=w> </span><span class=nf>analyze_list</span><span class=p>(</span><span class=n>lst</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Analyze list structure.&quot;&quot;&quot;</span>
    <span class=k>match</span> <span class=n>lst</span><span class=p>:</span>
        <span class=k>case</span> <span class=p>[]:</span>
            <span class=k>return</span> <span class=s2>&quot;Empty list&quot;</span>
        <span class=k>case</span> <span class=p>[</span><span class=n>x</span><span class=p>]:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Single element: </span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span> <span class=p>[</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>]:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Two elements: </span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>y</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>case</span> <span class=p>[</span><span class=n>first</span><span class=p>,</span> <span class=o>*</span><span class=n>middle</span><span class=p>,</span> <span class=n>last</span><span class=p>]:</span>  <span class=c1># Capture middle</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;First: </span><span class=si>{</span><span class=n>first</span><span class=si>}</span><span class=s2>, Middle: </span><span class=si>{</span><span class=n>middle</span><span class=si>}</span><span class=s2>, Last: </span><span class=si>{</span><span class=n>last</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=n>lists</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>[],</span>
    <span class=p>[</span><span class=mi>1</span><span class=p>],</span>
    <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span>
    <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
<span class=p>]</span>

<span class=k>for</span> <span class=n>lst</span> <span class=ow>in</span> <span class=n>lists</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>lst</span><span class=si>}</span><span class=s2> -&gt; </span><span class=si>{</span><span class=n>analyze_list</span><span class=p>(</span><span class=n>lst</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 8. Expression Tree Evaluation</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Union</span>

<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>BinOp</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Binary operation.&quot;&quot;&quot;</span>
    <span class=n>left</span><span class=p>:</span> <span class=s1>&#39;Expr&#39;</span>
    <span class=n>op</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>right</span><span class=p>:</span> <span class=s1>&#39;Expr&#39;</span>

<span class=nd>@dataclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Number</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Number literal.&quot;&quot;&quot;</span>
    <span class=n>value</span><span class=p>:</span> <span class=nb>float</span>

<span class=n>Expr</span> <span class=o>=</span> <span class=n>Union</span><span class=p>[</span><span class=n>BinOp</span><span class=p>,</span> <span class=n>Number</span><span class=p>]</span>

<span class=k>def</span><span class=w> </span><span class=nf>evaluate</span><span class=p>(</span><span class=n>expr</span><span class=p>:</span> <span class=n>Expr</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Evaluate expression tree.&quot;&quot;&quot;</span>
    <span class=k>match</span> <span class=n>expr</span><span class=p>:</span>
        <span class=k>case</span> <span class=n>Number</span><span class=p>(</span><span class=n>value</span><span class=o>=</span><span class=n>v</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>v</span>
        <span class=k>case</span> <span class=n>BinOp</span><span class=p>(</span><span class=n>left</span><span class=o>=</span><span class=n>l</span><span class=p>,</span> <span class=n>op</span><span class=o>=</span><span class=s1>&#39;+&#39;</span><span class=p>,</span> <span class=n>right</span><span class=o>=</span><span class=n>r</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>evaluate</span><span class=p>(</span><span class=n>l</span><span class=p>)</span> <span class=o>+</span> <span class=n>evaluate</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
        <span class=k>case</span> <span class=n>BinOp</span><span class=p>(</span><span class=n>left</span><span class=o>=</span><span class=n>l</span><span class=p>,</span> <span class=n>op</span><span class=o>=</span><span class=s1>&#39;-&#39;</span><span class=p>,</span> <span class=n>right</span><span class=o>=</span><span class=n>r</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>evaluate</span><span class=p>(</span><span class=n>l</span><span class=p>)</span> <span class=o>-</span> <span class=n>evaluate</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
        <span class=k>case</span> <span class=n>BinOp</span><span class=p>(</span><span class=n>left</span><span class=o>=</span><span class=n>l</span><span class=p>,</span> <span class=n>op</span><span class=o>=</span><span class=s1>&#39;*&#39;</span><span class=p>,</span> <span class=n>right</span><span class=o>=</span><span class=n>r</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>evaluate</span><span class=p>(</span><span class=n>l</span><span class=p>)</span> <span class=o>*</span> <span class=n>evaluate</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
        <span class=k>case</span> <span class=n>BinOp</span><span class=p>(</span><span class=n>left</span><span class=o>=</span><span class=n>l</span><span class=p>,</span> <span class=n>op</span><span class=o>=</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=n>right</span><span class=o>=</span><span class=n>r</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>evaluate</span><span class=p>(</span><span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=n>evaluate</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
        <span class=k>case</span><span class=w> </span><span class=k>_</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unknown expression: </span><span class=si>{</span><span class=n>expr</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># (2 + 3) * 4</span>
<span class=n>expr</span> <span class=o>=</span> <span class=n>BinOp</span><span class=p>(</span>
    <span class=n>left</span><span class=o>=</span><span class=n>BinOp</span><span class=p>(</span><span class=n>left</span><span class=o>=</span><span class=n>Number</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span> <span class=n>op</span><span class=o>=</span><span class=s1>&#39;+&#39;</span><span class=p>,</span> <span class=n>right</span><span class=o>=</span><span class=n>Number</span><span class=p>(</span><span class=mi>3</span><span class=p>)),</span>
    <span class=n>op</span><span class=o>=</span><span class=s1>&#39;*&#39;</span><span class=p>,</span>
    <span class=n>right</span><span class=o>=</span><span class=n>Number</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
<span class=p>)</span>

<span class=n>result</span> <span class=o>=</span> <span class=n>evaluate</span><span class=p>(</span><span class=n>expr</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Result: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 20.0</span>

<span class=c1># 9. Command Pattern</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_command</span><span class=p>(</span><span class=n>command</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process shell-like commands.&quot;&quot;&quot;</span>
    <span class=k>match</span> <span class=n>command</span><span class=o>.</span><span class=n>split</span><span class=p>():</span>
        <span class=k>case</span> <span class=p>[</span><span class=s2>&quot;quit&quot;</span> <span class=o>|</span> <span class=s2>&quot;exit&quot;</span><span class=p>]:</span>
            <span class=k>return</span> <span class=s2>&quot;Exiting...&quot;</span>
        <span class=k>case</span> <span class=p>[</span><span class=s2>&quot;help&quot;</span><span class=p>]:</span>
            <span class=k>return</span> <span class=s2>&quot;Available commands: help, echo, calc&quot;</span>
        <span class=k>case</span> <span class=p>[</span><span class=s2>&quot;echo&quot;</span><span class=p>,</span> <span class=o>*</span><span class=n>words</span><span class=p>]:</span>
            <span class=k>return</span> <span class=s2>&quot; &quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>words</span><span class=p>)</span>
        <span class=k>case</span> <span class=p>[</span><span class=s2>&quot;calc&quot;</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=s2>&quot;+&quot;</span><span class=p>,</span> <span class=n>y</span><span class=p>]:</span>
            <span class=k>return</span> <span class=nb>float</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>+</span> <span class=nb>float</span><span class=p>(</span><span class=n>y</span><span class=p>)</span>
        <span class=k>case</span> <span class=p>[</span><span class=s2>&quot;calc&quot;</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=s2>&quot;-&quot;</span><span class=p>,</span> <span class=n>y</span><span class=p>]:</span>
            <span class=k>return</span> <span class=nb>float</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>-</span> <span class=nb>float</span><span class=p>(</span><span class=n>y</span><span class=p>)</span>
        <span class=k>case</span><span class=w> </span><span class=k>_</span><span class=p>:</span>
            <span class=k>return</span> <span class=s2>&quot;Unknown command&quot;</span>

<span class=n>commands</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;help&quot;</span><span class=p>,</span> <span class=s2>&quot;echo Hello World&quot;</span><span class=p>,</span> <span class=s2>&quot;calc 5 + 3&quot;</span><span class=p>,</span> <span class=s2>&quot;invalid&quot;</span><span class=p>]</span>
<span class=k>for</span> <span class=n>cmd</span> <span class=ow>in</span> <span class=n>commands</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>cmd</span><span class=si>}</span><span class=s2> -&gt; </span><span class=si>{</span><span class=n>process_command</span><span class=p>(</span><span class=n>cmd</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <p><strong>Pattern Types:</strong></p> <table> <thead> <tr> <th>Pattern</th> <th>Example</th> <th>Matches</th> </tr> </thead> <tbody> <tr> <td><strong>Literal</strong></td> <td><code>case 42:</code></td> <td>Exact value</td> </tr> <tr> <td><strong>Capture</strong></td> <td><code>case x:</code></td> <td>Anything, binds to <code>x</code></td> </tr> <tr> <td><strong>Wildcard</strong></td> <td><code>case _:</code></td> <td>Anything, doesn't bind</td> </tr> <tr> <td><strong>Sequence</strong></td> <td><code>case [x, y, z]:</code></td> <td>Fixed-length sequence</td> </tr> <tr> <td><strong>Sequence + star</strong></td> <td><code>case [first, *rest]:</code></td> <td>Variable-length</td> </tr> <tr> <td><strong>Mapping</strong></td> <td><code>case {"key": value}:</code></td> <td>Dict with key</td> </tr> <tr> <td><strong>Class</strong></td> <td><code>case Point(x, y):</code></td> <td>Instance match</td> </tr> <tr> <td><strong>OR</strong></td> <td><code>case 1 \| 2 \| 3:</code></td> <td>Multiple patterns</td> </tr> <tr> <td><strong>Guard</strong></td> <td><code>case x if x &gt; 0:</code></td> <td>With condition</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Python 3.10+ feature (PEP 634)"</li> <li>"More powerful than if/elif/else"</li> <li>"Destructuring: extracts values while matching"</li> <li>"Class patterns: match object attributes"</li> <li>"Guards: <code>if</code> clauses for conditions"</li> <li>"<code>*rest</code> captures remaining items"</li> <li>"Use cases: parsers, state machines, data validation"</li> <li>"Similar to Rust, Scala pattern matching"</li> </ul> </div> </details> <hr> <h3 id=explain-type-hints-and-typing-module-meta-google-interview-question>Explain Type Hints and typing Module - Meta, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Type Hints</code>, <code>Static Typing</code>, <code>typing</code> | <strong>Asked by:</strong> Meta, Google, Dropbox, Stripe</p> <details class=success> <summary>View Answer</summary> <p><strong>Type hints</strong> (PEP 484) allow specifying expected types of variables, function parameters, and return values for better code documentation and static analysis.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
    <span class=n>List</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Set</span><span class=p>,</span> <span class=n>Tuple</span><span class=p>,</span> <span class=n>Optional</span><span class=p>,</span> <span class=n>Union</span><span class=p>,</span> <span class=n>Any</span><span class=p>,</span>
    <span class=n>Callable</span><span class=p>,</span> <span class=n>TypeVar</span><span class=p>,</span> <span class=n>Generic</span><span class=p>,</span> <span class=n>Protocol</span><span class=p>,</span> <span class=n>Literal</span>
<span class=p>)</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>get_type_hints</span><span class=p>,</span> <span class=n>get_args</span><span class=p>,</span> <span class=n>get_origin</span>

<span class=c1># 1. Basic Type Hints</span>
<span class=k>def</span><span class=w> </span><span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Function with type hints.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Hello </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>, you are </span><span class=si>{</span><span class=n>age</span><span class=si>}</span><span class=s2> years old&quot;</span>

<span class=c1># Type hints for variables</span>
<span class=n>username</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;alice&quot;</span>
<span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>123</span>
<span class=n>is_active</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span>
<span class=n>score</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>95.5</span>

<span class=c1># 2. Collection Types</span>
<span class=c1># List of integers</span>
<span class=n>numbers</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>

<span class=c1># Dictionary with string keys and int values</span>
<span class=n>scores</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;Alice&quot;</span><span class=p>:</span> <span class=mi>95</span><span class=p>,</span> <span class=s2>&quot;Bob&quot;</span><span class=p>:</span> <span class=mi>87</span><span class=p>}</span>

<span class=c1># Set of strings</span>
<span class=n>tags</span><span class=p>:</span> <span class=n>Set</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;python&quot;</span><span class=p>,</span> <span class=s2>&quot;programming&quot;</span><span class=p>,</span> <span class=s2>&quot;tutorial&quot;</span><span class=p>}</span>

<span class=c1># Tuple with fixed types</span>
<span class=n>point</span><span class=p>:</span> <span class=n>Tuple</span><span class=p>[</span><span class=nb>float</span><span class=p>,</span> <span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mf>3.14</span><span class=p>,</span> <span class=mf>2.71</span><span class=p>)</span>

<span class=c1># Tuple with variable length</span>
<span class=n>values</span><span class=p>:</span> <span class=n>Tuple</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=o>...</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>

<span class=c1># 3. Optional and Union</span>
<span class=c1># Optional[T] is shorthand for Union[T, None]</span>
<span class=k>def</span><span class=w> </span><span class=nf>find_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns username or None if not found.&quot;&quot;&quot;</span>
    <span class=n>users</span> <span class=o>=</span> <span class=p>{</span><span class=mi>1</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>2</span><span class=p>:</span> <span class=s2>&quot;Bob&quot;</span><span class=p>}</span>
    <span class=k>return</span> <span class=n>users</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span>

<span class=c1># Union for multiple possible types</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_value</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>str</span><span class=p>,</span> <span class=nb>float</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Accept int, str, or float.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>

<span class=c1># 4. Callable Type</span>
<span class=c1># Function that takes int and returns str</span>
<span class=k>def</span><span class=w> </span><span class=nf>apply_function</span><span class=p>(</span><span class=n>x</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>func</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[</span><span class=nb>int</span><span class=p>],</span> <span class=nb>str</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Apply function to value.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>int_to_str</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Number: </span><span class=si>{</span><span class=n>n</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=n>result</span> <span class=o>=</span> <span class=n>apply_function</span><span class=p>(</span><span class=mi>42</span><span class=p>,</span> <span class=n>int_to_str</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># Number: 42</span>

<span class=c1># 5. Generic Types</span>
<span class=n>T</span> <span class=o>=</span> <span class=n>TypeVar</span><span class=p>(</span><span class=s1>&#39;T&#39;</span><span class=p>)</span>  <span class=c1># Type variable</span>

<span class=k>def</span><span class=w> </span><span class=nf>first_element</span><span class=p>(</span><span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>T</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>T</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return first element or None.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>items</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>if</span> <span class=n>items</span> <span class=k>else</span> <span class=kc>None</span>

<span class=c1># Works with any type</span>
<span class=nb>print</span><span class=p>(</span><span class=n>first_element</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]))</span>  <span class=c1># 1</span>
<span class=nb>print</span><span class=p>(</span><span class=n>first_element</span><span class=p>([</span><span class=s2>&quot;a&quot;</span><span class=p>,</span> <span class=s2>&quot;b&quot;</span><span class=p>]))</span>  <span class=c1># &quot;a&quot;</span>

<span class=c1># 6. Generic Class</span>
<span class=k>class</span><span class=w> </span><span class=nc>Stack</span><span class=p>(</span><span class=n>Generic</span><span class=p>[</span><span class=n>T</span><span class=p>]):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generic stack implementation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>T</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>push</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>:</span> <span class=n>T</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>pop</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>T</span><span class=p>]:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_items</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_items</span> <span class=k>else</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>peek</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>T</span><span class=p>]:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_items</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_items</span> <span class=k>else</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_empty</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_items</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span>

<span class=c1># Type-safe stack</span>
<span class=n>int_stack</span><span class=p>:</span> <span class=n>Stack</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=n>Stack</span><span class=p>()</span>
<span class=n>int_stack</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=n>int_stack</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>int_stack</span><span class=o>.</span><span class=n>pop</span><span class=p>())</span>  <span class=c1># 2</span>

<span class=n>str_stack</span><span class=p>:</span> <span class=n>Stack</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>Stack</span><span class=p>()</span>
<span class=n>str_stack</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=s2>&quot;hello&quot;</span><span class=p>)</span>
<span class=n>str_stack</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=s2>&quot;world&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>str_stack</span><span class=o>.</span><span class=n>pop</span><span class=p>())</span>  <span class=c1># &quot;world&quot;</span>

<span class=c1># 7. Protocol (Structural Subtyping)</span>
<span class=k>class</span><span class=w> </span><span class=nc>Drawable</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Protocol for drawable objects.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Drawing circle&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>Square</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Drawing square&quot;</span>

<span class=k>def</span><span class=w> </span><span class=nf>render</span><span class=p>(</span><span class=n>obj</span><span class=p>:</span> <span class=n>Drawable</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Render any drawable object.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>draw</span><span class=p>())</span>

<span class=c1># Both Circle and Square implement Drawable protocol</span>
<span class=n>render</span><span class=p>(</span><span class=n>Circle</span><span class=p>())</span>
<span class=n>render</span><span class=p>(</span><span class=n>Square</span><span class=p>())</span>

<span class=c1># 8. Literal Types</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Literal</span>

<span class=n>Mode</span> <span class=o>=</span> <span class=n>Literal</span><span class=p>[</span><span class=s2>&quot;read&quot;</span><span class=p>,</span> <span class=s2>&quot;write&quot;</span><span class=p>,</span> <span class=s2>&quot;append&quot;</span><span class=p>]</span>

<span class=k>def</span><span class=w> </span><span class=nf>open_file</span><span class=p>(</span><span class=n>filename</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>mode</span><span class=p>:</span> <span class=n>Mode</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Open file with specific mode.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Opening </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2> in </span><span class=si>{</span><span class=n>mode</span><span class=si>}</span><span class=s2> mode&quot;</span><span class=p>)</span>

<span class=n>open_file</span><span class=p>(</span><span class=s2>&quot;data.txt&quot;</span><span class=p>,</span> <span class=s2>&quot;read&quot;</span><span class=p>)</span>  <span class=c1># OK</span>
<span class=c1># open_file(&quot;data.txt&quot;, &quot;invalid&quot;)  # Type checker error</span>

<span class=c1># 9. Type Aliases</span>
<span class=c1># Complex type alias</span>
<span class=n>JSON</span> <span class=o>=</span> <span class=n>Union</span><span class=p>[</span><span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=s1>&#39;JSON&#39;</span><span class=p>],</span> <span class=n>List</span><span class=p>[</span><span class=s1>&#39;JSON&#39;</span><span class=p>],</span> <span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>,</span> <span class=nb>float</span><span class=p>,</span> <span class=nb>bool</span><span class=p>,</span> <span class=kc>None</span><span class=p>]</span>

<span class=n>UserId</span> <span class=o>=</span> <span class=nb>int</span>
<span class=n>Username</span> <span class=o>=</span> <span class=nb>str</span>
<span class=n>UserData</span> <span class=o>=</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>,</span> <span class=nb>bool</span><span class=p>]]</span>

<span class=k>def</span><span class=w> </span><span class=nf>get_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>:</span> <span class=n>UserId</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>UserData</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get user data by ID.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=p>{</span>
        <span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=n>user_id</span><span class=p>,</span>
        <span class=s2>&quot;username&quot;</span><span class=p>:</span> <span class=s2>&quot;alice&quot;</span><span class=p>,</span>
        <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
        <span class=s2>&quot;active&quot;</span><span class=p>:</span> <span class=kc>True</span>
    <span class=p>}</span>

<span class=c1># 10. Advanced: TypedDict</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>TypedDict</span>

<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>(</span><span class=n>TypedDict</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Person with specific fields.&quot;&quot;&quot;</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>age</span><span class=p>:</span> <span class=nb>int</span>
    <span class=n>email</span><span class=p>:</span> <span class=nb>str</span>

<span class=k>def</span><span class=w> </span><span class=nf>create_person</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Person</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create person dict with type checking.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=n>age</span><span class=p>,</span> <span class=s2>&quot;email&quot;</span><span class=p>:</span> <span class=n>email</span><span class=p>}</span>

<span class=n>person</span><span class=p>:</span> <span class=n>Person</span> <span class=o>=</span> <span class=n>create_person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>])</span>

<span class=c1># 11. Generics with Bounds</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>TypeVar</span>
<span class=kn>from</span><span class=w> </span><span class=nn>numbers</span><span class=w> </span><span class=kn>import</span> <span class=n>Number</span>

<span class=n>N</span> <span class=o>=</span> <span class=n>TypeVar</span><span class=p>(</span><span class=s1>&#39;N&#39;</span><span class=p>,</span> <span class=n>bound</span><span class=o>=</span><span class=n>Number</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>add_numbers</span><span class=p>(</span><span class=n>a</span><span class=p>:</span> <span class=n>N</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=n>N</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>N</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Add two numbers of the same type.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>  <span class=c1># type: ignore</span>

<span class=nb>print</span><span class=p>(</span><span class=n>add_numbers</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>  <span class=c1># 8</span>
<span class=nb>print</span><span class=p>(</span><span class=n>add_numbers</span><span class=p>(</span><span class=mf>2.5</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>))</span>  <span class=c1># 4.0</span>

<span class=c1># 12. Runtime Type Checking</span>
<span class=k>def</span><span class=w> </span><span class=nf>validate_type</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>expected_type</span><span class=p>:</span> <span class=nb>type</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if value matches expected type.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>expected_type</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>validate_type</span><span class=p>(</span><span class=mi>42</span><span class=p>,</span> <span class=nb>int</span><span class=p>))</span>  <span class=c1># True</span>
<span class=nb>print</span><span class=p>(</span><span class=n>validate_type</span><span class=p>(</span><span class=s2>&quot;hello&quot;</span><span class=p>,</span> <span class=nb>int</span><span class=p>))</span>  <span class=c1># False</span>

<span class=c1># 13. Type Checking with mypy</span>
<span class=c1># Run: mypy script.py</span>

<span class=k>def</span><span class=w> </span><span class=nf>process_items</span><span class=p>(</span><span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Sum of items.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=n>items</span><span class=p>)</span>

<span class=c1># Type checker will catch this error:</span>
<span class=c1># result = process_items([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;])  # Error: List[str] incompatible</span>

<span class=c1># 14. Forward References</span>
<span class=k>class</span><span class=w> </span><span class=nc>Node</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Tree node with forward reference.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>left</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s1>&#39;Node&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> 
                 <span class=n>right</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s1>&#39;Node&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=n>left</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>right</span> <span class=o>=</span> <span class=n>right</span>

<span class=c1># 15. Get Type Information at Runtime</span>
<span class=k>def</span><span class=w> </span><span class=nf>example_function</span><span class=p>(</span><span class=n>x</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
    <span class=k>return</span> <span class=kc>True</span>

<span class=n>hints</span> <span class=o>=</span> <span class=n>get_type_hints</span><span class=p>(</span><span class=n>example_function</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>hints</span><span class=p>)</span>  <span class=c1># {&#39;x&#39;: &lt;class &#39;int&#39;&gt;, &#39;y&#39;: &lt;class &#39;str&#39;&gt;, &#39;return&#39;: &lt;class &#39;bool&#39;&gt;}</span>
</code></pre></div> <p><strong>Type Hint Benefits:</strong></p> <table> <thead> <tr> <th>Benefit</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong>Documentation</strong></td> <td>Self-documenting code</td> </tr> <tr> <td><strong>IDE Support</strong></td> <td>Better autocomplete and refactoring</td> </tr> <tr> <td><strong>Static Analysis</strong></td> <td>Catch errors before runtime (mypy, pyright)</td> </tr> <tr> <td><strong>Refactoring</strong></td> <td>Safer code changes</td> </tr> <tr> <td><strong>Type Safety</strong></td> <td>Prevent type-related bugs</td> </tr> </tbody> </table> <p><strong>Tools:</strong> - <strong>mypy</strong>: Static type checker - <strong>pyright</strong>: Microsoft's type checker (used by Pylance) - <strong>pydantic</strong>: Runtime validation with type hints</p> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Type hints: optional static typing for Python"</li> <li>"PEP 484 (Python 3.5+)"</li> <li>"<code>List[T]</code>, <code>Dict[K, V]</code>, <code>Optional[T]</code>, <code>Union[T1, T2]</code>"</li> <li>"<code>TypeVar</code> for generic functions/classes"</li> <li>"<code>Protocol</code> for structural subtyping"</li> <li>"Not enforced at runtime (static analysis only)"</li> <li>"Tools: mypy, pyright for type checking"</li> <li>"Improves code documentation and IDE support"</li> </ul> </div> </details> <hr> <h3 id=explain-functools-module-amazon-google-interview-question>Explain functools Module - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>functools</code>, <code>Functional Programming</code> | <strong>Asked by:</strong> Amazon, Google, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong><code>functools</code></strong> module provides higher-order functions and operations on callable objects.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>functools</span>
<span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
    <span class=n>partial</span><span class=p>,</span> <span class=n>lru_cache</span><span class=p>,</span> <span class=n>wraps</span><span class=p>,</span> <span class=n>reduce</span><span class=p>,</span> 
    <span class=n>singledispatch</span><span class=p>,</span> <span class=n>total_ordering</span><span class=p>,</span> <span class=n>cache</span>
<span class=p>)</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Any</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=c1># 1. @functools.wraps - Preserve Function Metadata</span>
<span class=k>def</span><span class=w> </span><span class=nf>my_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Without @wraps, metadata is lost.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Before call&quot;</span><span class=p>)</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;After call&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=k>def</span><span class=w> </span><span class=nf>proper_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;With @wraps, metadata is preserved.&quot;&quot;&quot;</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Before call&quot;</span><span class=p>)</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;After call&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@proper_decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Greet someone by name.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Hello, </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>greet</span><span class=o>.</span><span class=vm>__name__</span><span class=p>)</span>  <span class=c1># &quot;greet&quot; (preserved)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>greet</span><span class=o>.</span><span class=vm>__doc__</span><span class=p>)</span>   <span class=c1># &quot;Greet someone by name.&quot; (preserved)</span>

<span class=c1># 2. @lru_cache - Memoization</span>
<span class=nd>@functools</span><span class=o>.</span><span class=n>lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>128</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Fibonacci with caching.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>n</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>n</span>
    <span class=k>return</span> <span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>

<span class=c1># Fast due to caching</span>
<span class=nb>print</span><span class=p>(</span><span class=n>fibonacci</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>fibonacci</span><span class=o>.</span><span class=n>cache_info</span><span class=p>())</span>  <span class=c1># CacheInfo(hits=98, misses=101, maxsize=128, currsize=101)</span>

<span class=c1># Clear cache</span>
<span class=n>fibonacci</span><span class=o>.</span><span class=n>cache_clear</span><span class=p>()</span>

<span class=c1># 3. @cache - Unlimited Cache (Python 3.9+)</span>
<span class=nd>@functools</span><span class=o>.</span><span class=n>cache</span>
<span class=k>def</span><span class=w> </span><span class=nf>expensive_computation</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Expensive computation with unlimited cache.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Computing for </span><span class=si>{</span><span class=n>n</span><span class=si>}</span><span class=s2>...&quot;</span><span class=p>)</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>n</span> <span class=o>**</span> <span class=mi>2</span>

<span class=nb>print</span><span class=p>(</span><span class=n>expensive_computation</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>  <span class=c1># Computes</span>
<span class=nb>print</span><span class=p>(</span><span class=n>expensive_computation</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>  <span class=c1># Cached</span>

<span class=c1># 4. partial - Partial Function Application</span>
<span class=k>def</span><span class=w> </span><span class=nf>power</span><span class=p>(</span><span class=n>base</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>exponent</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculate base^exponent.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>base</span> <span class=o>**</span> <span class=n>exponent</span>

<span class=c1># Create specialized functions</span>
<span class=n>square</span> <span class=o>=</span> <span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=n>power</span><span class=p>,</span> <span class=n>exponent</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=n>cube</span> <span class=o>=</span> <span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=n>power</span><span class=p>,</span> <span class=n>exponent</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>square</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>  <span class=c1># 25</span>
<span class=nb>print</span><span class=p>(</span><span class=n>cube</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>    <span class=c1># 125</span>

<span class=c1># Practical example: partial for callbacks</span>
<span class=k>def</span><span class=w> </span><span class=nf>log_message</span><span class=p>(</span><span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>level</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;INFO&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Log message with level.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;[</span><span class=si>{</span><span class=n>level</span><span class=si>}</span><span class=s2>] </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>log_info</span> <span class=o>=</span> <span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=n>log_message</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;INFO&quot;</span><span class=p>)</span>
<span class=n>log_error</span> <span class=o>=</span> <span class=n>functools</span><span class=o>.</span><span class=n>partial</span><span class=p>(</span><span class=n>log_message</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;ERROR&quot;</span><span class=p>)</span>

<span class=n>log_info</span><span class=p>(</span><span class=s2>&quot;Application started&quot;</span><span class=p>)</span>
<span class=n>log_error</span><span class=p>(</span><span class=s2>&quot;An error occurred&quot;</span><span class=p>)</span>

<span class=c1># 5. reduce - Reduce Sequence to Single Value</span>
<span class=c1># Sum all numbers</span>
<span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
<span class=n>total</span> <span class=o>=</span> <span class=n>functools</span><span class=o>.</span><span class=n>reduce</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>,</span> <span class=n>numbers</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>total</span><span class=p>)</span>  <span class=c1># 15</span>

<span class=c1># Find maximum</span>
<span class=n>maximum</span> <span class=o>=</span> <span class=n>functools</span><span class=o>.</span><span class=n>reduce</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=k>if</span> <span class=n>x</span> <span class=o>&gt;</span> <span class=n>y</span> <span class=k>else</span> <span class=n>y</span><span class=p>,</span> <span class=n>numbers</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>maximum</span><span class=p>)</span>  <span class=c1># 5</span>

<span class=c1># Flatten nested list</span>
<span class=n>nested</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]]</span>
<span class=n>flattened</span> <span class=o>=</span> <span class=n>functools</span><span class=o>.</span><span class=n>reduce</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>,</span> <span class=n>nested</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>flattened</span><span class=p>)</span>  <span class=c1># [1, 2, 3, 4, 5, 6]</span>

<span class=c1># 6. @singledispatch - Function Overloading</span>
<span class=nd>@functools</span><span class=o>.</span><span class=n>singledispatch</span>
<span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=n>arg</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generic process function.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Processing unknown type: </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>arg</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=nd>@process</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>_</span><span class=p>(</span><span class=n>arg</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Processing integer: </span><span class=si>{</span><span class=n>arg</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>2</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=nd>@process</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>_</span><span class=p>(</span><span class=n>arg</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Processing string: </span><span class=si>{</span><span class=n>arg</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=nd>@process</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>_</span><span class=p>(</span><span class=n>arg</span><span class=p>:</span> <span class=nb>list</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Processing list of </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>arg</span><span class=p>)</span><span class=si>}</span><span class=s2> items&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>process</span><span class=p>(</span><span class=mi>42</span><span class=p>))</span>          <span class=c1># Processing integer: 84</span>
<span class=nb>print</span><span class=p>(</span><span class=n>process</span><span class=p>(</span><span class=s2>&quot;hello&quot;</span><span class=p>))</span>     <span class=c1># Processing string: HELLO</span>
<span class=nb>print</span><span class=p>(</span><span class=n>process</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]))</span>   <span class=c1># Processing list of 3 items</span>
<span class=nb>print</span><span class=p>(</span><span class=n>process</span><span class=p>(</span><span class=mf>3.14</span><span class=p>))</span>        <span class=c1># Processing unknown type: &lt;class &#39;float&#39;&gt;</span>

<span class=c1># 7. @total_ordering - Generate Comparison Methods</span>
<span class=nd>@functools</span><span class=o>.</span><span class=n>total_ordering</span>
<span class=k>class</span><span class=w> </span><span class=nc>Student</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Student with automatic comparison methods.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>grade</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>grade</span> <span class=o>=</span> <span class=n>grade</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>Student</span><span class=p>):</span>
            <span class=k>return</span> <span class=bp>NotImplemented</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>grade</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>grade</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>Student</span><span class=p>):</span>
            <span class=k>return</span> <span class=bp>NotImplemented</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>grade</span> <span class=o>&lt;</span> <span class=n>other</span><span class=o>.</span><span class=n>grade</span>

    <span class=c1># __le__, __gt__, __ge__ automatically generated!</span>

<span class=n>students</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>Student</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>85</span><span class=p>),</span>
    <span class=n>Student</span><span class=p>(</span><span class=s2>&quot;Bob&quot;</span><span class=p>,</span> <span class=mi>92</span><span class=p>),</span>
    <span class=n>Student</span><span class=p>(</span><span class=s2>&quot;Carol&quot;</span><span class=p>,</span> <span class=mi>78</span><span class=p>)</span>
<span class=p>]</span>

<span class=n>students</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
<span class=k>for</span> <span class=n>s</span> <span class=ow>in</span> <span class=n>students</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>s</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>s</span><span class=o>.</span><span class=n>grade</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 8. cached_property - Cached Property</span>
<span class=k>class</span><span class=w> </span><span class=nc>DataProcessor</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process data with cached expensive computation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>list</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>

    <span class=nd>@functools</span><span class=o>.</span><span class=n>cached_property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>processed_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Expensive processing, cached after first call.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Processing data...&quot;</span><span class=p>)</span>
        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
        <span class=k>return</span> <span class=p>[</span><span class=n>x</span> <span class=o>*</span> <span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>]</span>

    <span class=nd>@functools</span><span class=o>.</span><span class=n>cached_property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>statistics</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Compute statistics once.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Computing statistics...&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=p>{</span>
            <span class=s1>&#39;count&#39;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>),</span>
            <span class=s1>&#39;sum&#39;</span><span class=p>:</span> <span class=nb>sum</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>),</span>
            <span class=s1>&#39;avg&#39;</span><span class=p>:</span> <span class=nb>sum</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span>
        <span class=p>}</span>

<span class=n>processor</span> <span class=o>=</span> <span class=n>DataProcessor</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=n>processor</span><span class=o>.</span><span class=n>processed_data</span><span class=p>)</span>  <span class=c1># Computes</span>
<span class=nb>print</span><span class=p>(</span><span class=n>processor</span><span class=o>.</span><span class=n>processed_data</span><span class=p>)</span>  <span class=c1># Cached</span>
<span class=nb>print</span><span class=p>(</span><span class=n>processor</span><span class=o>.</span><span class=n>statistics</span><span class=p>)</span>       <span class=c1># Computes</span>
<span class=nb>print</span><span class=p>(</span><span class=n>processor</span><span class=o>.</span><span class=n>statistics</span><span class=p>)</span>       <span class=c1># Cached</span>

<span class=c1># 9. Custom Caching Strategy</span>
<span class=k>def</span><span class=w> </span><span class=nf>custom_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>128</span><span class=p>,</span> <span class=n>typed</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom caching decorator.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nd>@functools</span><span class=o>.</span><span class=n>lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=n>maxsize</span><span class=p>,</span> <span class=n>typed</span><span class=o>=</span><span class=n>typed</span><span class=p>)</span>
        <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

        <span class=n>wrapper</span><span class=o>.</span><span class=n>cache_info</span> <span class=o>=</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>func</span><span class=o>.</span><span class=n>cache_info</span><span class=p>()</span>
        <span class=n>wrapper</span><span class=o>.</span><span class=n>cache_clear</span> <span class=o>=</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>func</span><span class=o>.</span><span class=n>cache_clear</span><span class=p>()</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=nd>@custom_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>256</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>factorial</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Factorial with custom cache.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>n</span> <span class=o>&lt;=</span> <span class=mi>1</span><span class=p>:</span>
        <span class=k>return</span> <span class=mi>1</span>
    <span class=k>return</span> <span class=n>n</span> <span class=o>*</span> <span class=n>factorial</span><span class=p>(</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>factorial</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>factorial</span><span class=o>.</span><span class=n>cache_info</span><span class=p>())</span>

<span class=c1># 10. Combining functools Functions</span>
<span class=k>class</span><span class=w> </span><span class=nc>MathOperations</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Math operations with functools.&quot;&quot;&quot;</span>

    <span class=nd>@staticmethod</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Cached Fibonacci.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>n</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>n</span>
        <span class=k>return</span> <span class=n>MathOperations</span><span class=o>.</span><span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>MathOperations</span><span class=o>.</span><span class=n>fibonacci</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>

    <span class=nd>@classmethod</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>lru_cache</span><span class=p>(</span><span class=n>maxsize</span><span class=o>=</span><span class=mi>128</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>prime_factors</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Cached prime factorization.&quot;&quot;&quot;</span>
        <span class=n>factors</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=n>d</span> <span class=o>=</span> <span class=mi>2</span>
        <span class=k>while</span> <span class=n>d</span> <span class=o>*</span> <span class=n>d</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>:</span>
            <span class=k>while</span> <span class=n>n</span> <span class=o>%</span> <span class=n>d</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                <span class=n>factors</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>d</span><span class=p>)</span>
                <span class=n>n</span> <span class=o>//=</span> <span class=n>d</span>
            <span class=n>d</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>if</span> <span class=n>n</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
            <span class=n>factors</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
        <span class=k>return</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>factors</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>MathOperations</span><span class=o>.</span><span class=n>fibonacci</span><span class=p>(</span><span class=mi>20</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>MathOperations</span><span class=o>.</span><span class=n>prime_factors</span><span class=p>(</span><span class=mi>84</span><span class=p>))</span>
</code></pre></div> <p><strong>Key Functions:</strong></p> <table> <thead> <tr> <th>Function</th> <th>Purpose</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>@wraps</strong></td> <td>Preserve metadata</td> <td>Decorators</td> </tr> <tr> <td><strong>@lru_cache</strong></td> <td>Memoization</td> <td>Expensive computations</td> </tr> <tr> <td><strong>@cache</strong></td> <td>Unlimited cache</td> <td>Python 3.9+</td> </tr> <tr> <td><strong>partial</strong></td> <td>Partial application</td> <td>Create specialized functions</td> </tr> <tr> <td><strong>reduce</strong></td> <td>Reduce sequence</td> <td>Sum, product, flatten</td> </tr> <tr> <td><strong>@singledispatch</strong></td> <td>Function overloading</td> <td>Type-based dispatch</td> </tr> <tr> <td><strong>@total_ordering</strong></td> <td>Generate comparisons</td> <td>Only need <code>__eq__</code> and <code>__lt__</code></td> </tr> <tr> <td><strong>@cached_property</strong></td> <td>Cached property</td> <td>Expensive property computation</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>@wraps</code>: preserve function metadata in decorators"</li> <li>"<code>@lru_cache</code>: memoization for expensive functions"</li> <li>"<code>partial</code>: create specialized functions"</li> <li>"<code>reduce</code>: fold/reduce operations"</li> <li>"<code>@singledispatch</code>: polymorphism/function overloading"</li> <li>"<code>@total_ordering</code>: auto-generate comparison methods"</li> <li>"<code>@cached_property</code>: cache expensive property computations"</li> <li>"Performance optimization use cases"</li> </ul> </div> </details> <hr> <h3 id=explain-itertools-module-google-amazon-interview-question>Explain itertools Module - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>itertools</code>, <code>Iterators</code>, <code>Combinatorics</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong><code>itertools</code></strong> module provides memory-efficient tools for working with iterators, especially for combinatorics and infinite sequences.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>itertools</span>
<span class=kn>from</span><span class=w> </span><span class=nn>itertools</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
    <span class=n>count</span><span class=p>,</span> <span class=n>cycle</span><span class=p>,</span> <span class=n>repeat</span><span class=p>,</span> <span class=n>chain</span><span class=p>,</span> <span class=n>zip_longest</span><span class=p>,</span>
    <span class=n>combinations</span><span class=p>,</span> <span class=n>permutations</span><span class=p>,</span> <span class=n>product</span><span class=p>,</span> <span class=n>combinations_with_replacement</span><span class=p>,</span>
    <span class=n>groupby</span><span class=p>,</span> <span class=n>islice</span><span class=p>,</span> <span class=n>takewhile</span><span class=p>,</span> <span class=n>dropwhile</span><span class=p>,</span> <span class=n>filterfalse</span><span class=p>,</span>
    <span class=n>accumulate</span><span class=p>,</span> <span class=n>starmap</span><span class=p>,</span> <span class=n>tee</span>
<span class=p>)</span>
<span class=kn>import</span><span class=w> </span><span class=nn>operator</span>

<span class=c1># 1. Infinite Iterators</span>
<span class=c1># count - infinite counting</span>
<span class=n>counter</span> <span class=o>=</span> <span class=n>itertools</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>step</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=nb>print</span><span class=p>([</span><span class=nb>next</span><span class=p>(</span><span class=n>counter</span><span class=p>)</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)])</span>  <span class=c1># [10, 12, 14, 16, 18]</span>

<span class=c1># cycle - cycle through iterable infinitely</span>
<span class=n>colors</span> <span class=o>=</span> <span class=n>itertools</span><span class=o>.</span><span class=n>cycle</span><span class=p>([</span><span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=s1>&#39;green&#39;</span><span class=p>,</span> <span class=s1>&#39;blue&#39;</span><span class=p>])</span>
<span class=nb>print</span><span class=p>([</span><span class=nb>next</span><span class=p>(</span><span class=n>colors</span><span class=p>)</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>7</span><span class=p>)])</span>  <span class=c1># [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;red&#39;]</span>

<span class=c1># repeat - repeat value</span>
<span class=n>repeated</span> <span class=o>=</span> <span class=n>itertools</span><span class=o>.</span><span class=n>repeat</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>repeated</span><span class=p>))</span>  <span class=c1># [&#39;A&#39;, &#39;A&#39;, &#39;A&#39;]</span>

<span class=c1># 2. Combinatorics</span>
<span class=c1># combinations - r-length tuples, no repeated elements</span>
<span class=n>items</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=s1>&#39;B&#39;</span><span class=p>,</span> <span class=s1>&#39;C&#39;</span><span class=p>,</span> <span class=s1>&#39;D&#39;</span><span class=p>]</span>
<span class=n>combs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>combinations</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>combs</span><span class=p>)</span>  <span class=c1># [(&#39;A&#39;, &#39;B&#39;), (&#39;A&#39;, &#39;C&#39;), (&#39;A&#39;, &#39;D&#39;), (&#39;B&#39;, &#39;C&#39;), (&#39;B&#39;, &#39;D&#39;), (&#39;C&#39;, &#39;D&#39;)]</span>

<span class=c1># permutations - r-length tuples, order matters</span>
<span class=n>perms</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>permutations</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>perms</span><span class=p>))</span>  <span class=c1># 12 (4*3)</span>

<span class=c1># product - Cartesian product</span>
<span class=n>prod</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>product</span><span class=p>([</span><span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=s1>&#39;B&#39;</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>]))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>prod</span><span class=p>)</span>  <span class=c1># [(&#39;A&#39;, 1), (&#39;A&#39;, 2), (&#39;B&#39;, 1), (&#39;B&#39;, 2&#39;)]</span>

<span class=c1># combinations_with_replacement - combinations allowing repeats</span>
<span class=n>combs_rep</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>combinations_with_replacement</span><span class=p>([</span><span class=s1>&#39;A&#39;</span><span class=p>,</span> <span class=s1>&#39;B&#39;</span><span class=p>],</span> <span class=mi>2</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>combs_rep</span><span class=p>)</span>  <span class=c1># [(&#39;A&#39;, &#39;A&#39;), (&#39;A&#39;, &#39;B&#39;), (&#39;B&#39;, &#39;B&#39;)]</span>

<span class=c1># 3. chain - Combine Iterables</span>
<span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
<span class=n>list2</span> <span class=o>=</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
<span class=n>list3</span> <span class=o>=</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>]</span>

<span class=n>chained</span> <span class=o>=</span> <span class=n>itertools</span><span class=o>.</span><span class=n>chain</span><span class=p>(</span><span class=n>list1</span><span class=p>,</span> <span class=n>list2</span><span class=p>,</span> <span class=n>list3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>chained</span><span class=p>))</span>  <span class=c1># [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>

<span class=c1># chain.from_iterable - flatten nested iterables</span>
<span class=n>nested</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]]</span>
<span class=n>flattened</span> <span class=o>=</span> <span class=n>itertools</span><span class=o>.</span><span class=n>chain</span><span class=o>.</span><span class=n>from_iterable</span><span class=p>(</span><span class=n>nested</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>flattened</span><span class=p>))</span>  <span class=c1># [1, 2, 3, 4, 5, 6]</span>

<span class=c1># 4. groupby - Group Consecutive Elements</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Alice&#39;</span><span class=p>,</span> <span class=s1>&#39;dept&#39;</span><span class=p>:</span> <span class=s1>&#39;Sales&#39;</span><span class=p>},</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Bob&#39;</span><span class=p>,</span> <span class=s1>&#39;dept&#39;</span><span class=p>:</span> <span class=s1>&#39;Sales&#39;</span><span class=p>},</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Carol&#39;</span><span class=p>,</span> <span class=s1>&#39;dept&#39;</span><span class=p>:</span> <span class=s1>&#39;Engineering&#39;</span><span class=p>},</span>
    <span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Dave&#39;</span><span class=p>,</span> <span class=s1>&#39;dept&#39;</span><span class=p>:</span> <span class=s1>&#39;Engineering&#39;</span><span class=p>},</span>
<span class=p>]</span>

<span class=c1># Sort first, then group</span>
<span class=n>data_sorted</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=s1>&#39;dept&#39;</span><span class=p>])</span>

<span class=k>for</span> <span class=n>dept</span><span class=p>,</span> <span class=n>group</span> <span class=ow>in</span> <span class=n>itertools</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>data_sorted</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=s1>&#39;dept&#39;</span><span class=p>]):</span>
    <span class=n>members</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>group</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>dept</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=p>[</span><span class=n>m</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>m</span><span class=w> </span><span class=ow>in</span><span class=w> </span><span class=n>members</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 5. islice - Slice Iterator</span>
<span class=n>numbers</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>

<span class=c1># Get first 5</span>
<span class=n>first_five</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>islice</span><span class=p>(</span><span class=n>numbers</span><span class=p>,</span> <span class=mi>5</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>first_five</span><span class=p>)</span>  <span class=c1># [0, 1, 2, 3, 4]</span>

<span class=c1># Get elements from index 10 to 15</span>
<span class=n>slice_range</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>islice</span><span class=p>(</span><span class=n>numbers</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>15</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>slice_range</span><span class=p>)</span>  <span class=c1># [10, 11, 12, 13, 14]</span>

<span class=c1># Every 3rd element</span>
<span class=n>every_third</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>islice</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span> <span class=mi>0</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>every_third</span><span class=p>)</span>  <span class=c1># [0, 3, 6, 9, 12, 15, 18]</span>

<span class=c1># 6. takewhile and dropwhile</span>
<span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>8</span><span class=p>]</span>

<span class=c1># takewhile - take elements while condition is true</span>
<span class=n>taken</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>takewhile</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>7</span><span class=p>,</span> <span class=n>numbers</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>taken</span><span class=p>)</span>  <span class=c1># [1, 3, 5]</span>

<span class=c1># dropwhile - drop elements while condition is true</span>
<span class=n>dropped</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>dropwhile</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>7</span><span class=p>,</span> <span class=n>numbers</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dropped</span><span class=p>)</span>  <span class=c1># [7, 2, 4, 6, 8]</span>

<span class=c1># 7. accumulate - Running Totals</span>
<span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>

<span class=c1># Cumulative sum</span>
<span class=n>cumsum</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>accumulate</span><span class=p>(</span><span class=n>numbers</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>cumsum</span><span class=p>)</span>  <span class=c1># [1, 3, 6, 10, 15]</span>

<span class=c1># Cumulative product</span>
<span class=n>cumprod</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>accumulate</span><span class=p>(</span><span class=n>numbers</span><span class=p>,</span> <span class=n>operator</span><span class=o>.</span><span class=n>mul</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>cumprod</span><span class=p>)</span>  <span class=c1># [1, 2, 6, 24, 120]</span>

<span class=c1># Cumulative maximum</span>
<span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
<span class=n>cummax</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>accumulate</span><span class=p>(</span><span class=n>values</span><span class=p>,</span> <span class=nb>max</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>cummax</span><span class=p>)</span>  <span class=c1># [3, 3, 4, 4, 5, 9, 9, 9]</span>

<span class=c1># 8. zip_longest - Zip with Different Lengths</span>
<span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
<span class=n>list2</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>,</span> <span class=s1>&#39;e&#39;</span><span class=p>]</span>

<span class=c1># Regular zip stops at shortest</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=nb>zip</span><span class=p>(</span><span class=n>list1</span><span class=p>,</span> <span class=n>list2</span><span class=p>)))</span>  <span class=c1># [(1, &#39;a&#39;), (2, &#39;b&#39;), (3, &#39;c&#39;)]</span>

<span class=c1># zip_longest fills missing values</span>
<span class=n>zipped</span> <span class=o>=</span> <span class=n>itertools</span><span class=o>.</span><span class=n>zip_longest</span><span class=p>(</span><span class=n>list1</span><span class=p>,</span> <span class=n>list2</span><span class=p>,</span> <span class=n>fillvalue</span><span class=o>=</span><span class=s1>&#39;?&#39;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>zipped</span><span class=p>))</span>  <span class=c1># [(1, &#39;a&#39;), (2, &#39;b&#39;), (3, &#39;c&#39;), (&#39;?&#39;, &#39;d&#39;), (&#39;?&#39;, &#39;e&#39;)]</span>

<span class=c1># 9. starmap - Map with Unpacking</span>
<span class=n>pairs</span> <span class=o>=</span> <span class=p>[(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span> <span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>3</span><span class=p>)]</span>

<span class=c1># Apply pow to each pair</span>
<span class=n>powers</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>starmap</span><span class=p>(</span><span class=nb>pow</span><span class=p>,</span> <span class=n>pairs</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>powers</span><span class=p>)</span>  <span class=c1># [32, 9, 1000]</span>

<span class=c1># 10. filterfalse - Opposite of filter</span>
<span class=n>numbers</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>

<span class=c1># filter - keep even</span>
<span class=n>evens</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>,</span> <span class=n>numbers</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>evens</span><span class=p>)</span>  <span class=c1># [0, 2, 4, 6, 8]</span>

<span class=c1># filterfalse - keep odd</span>
<span class=n>odds</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>filterfalse</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>,</span> <span class=n>numbers</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>odds</span><span class=p>)</span>  <span class=c1># [1, 3, 5, 7, 9]</span>

<span class=c1># 11. tee - Split Iterator</span>
<span class=n>numbers</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=n>iter1</span><span class=p>,</span> <span class=n>iter2</span> <span class=o>=</span> <span class=n>itertools</span><span class=o>.</span><span class=n>tee</span><span class=p>(</span><span class=n>numbers</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>iter1</span><span class=p>))</span>  <span class=c1># [0, 1, 2, 3, 4]</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>iter2</span><span class=p>))</span>  <span class=c1># [0, 1, 2, 3, 4]</span>

<span class=c1># 12. Practical Example: Batching</span>
<span class=k>def</span><span class=w> </span><span class=nf>batch</span><span class=p>(</span><span class=n>iterable</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Batch iterable into chunks of size n.&quot;&quot;&quot;</span>
    <span class=n>it</span> <span class=o>=</span> <span class=nb>iter</span><span class=p>(</span><span class=n>iterable</span><span class=p>)</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>chunk</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>islice</span><span class=p>(</span><span class=n>it</span><span class=p>,</span> <span class=n>n</span><span class=p>))</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>chunk</span><span class=p>:</span>
            <span class=k>break</span>
        <span class=k>yield</span> <span class=n>chunk</span>

<span class=n>data</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
<span class=k>for</span> <span class=n>batch_data</span> <span class=ow>in</span> <span class=n>batch</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>3</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>batch_data</span><span class=p>)</span>  <span class=c1># [0, 1, 2], [3, 4, 5], [6, 7, 8], [9]</span>

<span class=c1># 13. Practical Example: Sliding Window</span>
<span class=k>def</span><span class=w> </span><span class=nf>sliding_window</span><span class=p>(</span><span class=n>iterable</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate sliding windows of size n.&quot;&quot;&quot;</span>
    <span class=n>it</span> <span class=o>=</span> <span class=nb>iter</span><span class=p>(</span><span class=n>iterable</span><span class=p>)</span>
    <span class=n>window</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>itertools</span><span class=o>.</span><span class=n>islice</span><span class=p>(</span><span class=n>it</span><span class=p>,</span> <span class=n>n</span><span class=p>))</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>window</span><span class=p>)</span> <span class=o>==</span> <span class=n>n</span><span class=p>:</span>
        <span class=k>yield</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>window</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>it</span><span class=p>:</span>
        <span class=n>window</span> <span class=o>=</span> <span class=n>window</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span> <span class=o>+</span> <span class=p>[</span><span class=n>item</span><span class=p>]</span>
        <span class=k>yield</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>window</span><span class=p>)</span>

<span class=n>data</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
<span class=n>windows</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>sliding_window</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>windows</span><span class=p>)</span>  <span class=c1># [(1, 2, 3), (2, 3, 4), (3, 4, 5), (4, 5, 6)]</span>

<span class=c1># 14. Practical Example: Pairwise</span>
<span class=k>def</span><span class=w> </span><span class=nf>pairwise</span><span class=p>(</span><span class=n>iterable</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate consecutive pairs.&quot;&quot;&quot;</span>
    <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>itertools</span><span class=o>.</span><span class=n>tee</span><span class=p>(</span><span class=n>iterable</span><span class=p>)</span>
    <span class=nb>next</span><span class=p>(</span><span class=n>b</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
    <span class=k>return</span> <span class=nb>zip</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>

<span class=n>data</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>
<span class=n>pairs</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>pairwise</span><span class=p>(</span><span class=n>data</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>pairs</span><span class=p>)</span>  <span class=c1># [(1, 2), (2, 3), (3, 4), (4, 5)]</span>
</code></pre></div> <p><strong>Common Patterns:</strong></p> <table> <thead> <tr> <th>Function</th> <th>Use Case</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>combinations</strong></td> <td>Choose k items from n</td> <td>Lottery numbers</td> </tr> <tr> <td><strong>permutations</strong></td> <td>Arrange k items</td> <td>Password generation</td> </tr> <tr> <td><strong>product</strong></td> <td>Cartesian product</td> <td>Test case combinations</td> </tr> <tr> <td><strong>groupby</strong></td> <td>Group consecutive items</td> <td>SQL GROUP BY</td> </tr> <tr> <td><strong>chain</strong></td> <td>Flatten/concatenate</td> <td>Merge multiple lists</td> </tr> <tr> <td><strong>islice</strong></td> <td>Slice iterator</td> <td>Pagination</td> </tr> <tr> <td><strong>accumulate</strong></td> <td>Running totals</td> <td>Cumulative sum</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>itertools</code>: memory-efficient iterator tools"</li> <li>"<code>combinations/permutations</code>: combinatorics"</li> <li>"<code>product</code>: Cartesian product"</li> <li>"<code>groupby</code>: group consecutive elements (needs sorting first)"</li> <li>"<code>chain</code>: concatenate iterables"</li> <li>"<code>islice</code>: slice iterator without loading to memory"</li> <li>"<code>accumulate</code>: running totals"</li> <li>"Lazy evaluation - memory efficient"</li> <li>"Use cases: data processing, combinations, sliding windows"</li> </ul> </div> </details> <hr> <h3 id=explain-collections-module-meta-amazon-interview-question>Explain Collections Module - Meta, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>collections</code>, <code>Data Structures</code> | <strong>Asked by:</strong> Meta, Amazon, Google, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong><code>collections</code></strong> module provides specialized container datatypes beyond the built-in dict, list, set, and tuple.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
    <span class=n>Counter</span><span class=p>,</span> <span class=n>defaultdict</span><span class=p>,</span> <span class=n>OrderedDict</span><span class=p>,</span> <span class=n>deque</span><span class=p>,</span>
    <span class=n>namedtuple</span><span class=p>,</span> <span class=n>ChainMap</span><span class=p>,</span> <span class=n>UserDict</span><span class=p>,</span> <span class=n>UserList</span>
<span class=p>)</span>

<span class=c1># 1. Counter - Count Hashable Objects</span>
<span class=c1># Count elements</span>
<span class=n>words</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;banana&#39;</span><span class=p>,</span> <span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;cherry&#39;</span><span class=p>,</span> <span class=s1>&#39;banana&#39;</span><span class=p>,</span> <span class=s1>&#39;apple&#39;</span><span class=p>]</span>
<span class=n>counter</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=n>words</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>counter</span><span class=p>)</span>  <span class=c1># Counter({&#39;apple&#39;: 3, &#39;banana&#39;: 2, &#39;cherry&#39;: 1})</span>

<span class=c1># Most common elements</span>
<span class=nb>print</span><span class=p>(</span><span class=n>counter</span><span class=o>.</span><span class=n>most_common</span><span class=p>(</span><span class=mi>2</span><span class=p>))</span>  <span class=c1># [(&#39;apple&#39;, 3), (&#39;banana&#39;, 2)]</span>

<span class=c1># Arithmetic operations</span>
<span class=n>counter1</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
<span class=n>counter2</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>counter1</span> <span class=o>+</span> <span class=n>counter2</span><span class=p>)</span>  <span class=c1># Counter({&#39;a&#39;: 4, &#39;b&#39;: 3, &#39;c&#39;: 3})</span>
<span class=nb>print</span><span class=p>(</span><span class=n>counter1</span> <span class=o>-</span> <span class=n>counter2</span><span class=p>)</span>  <span class=c1># Counter({&#39;a&#39;: 2}) (negative counts removed)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>counter1</span> <span class=o>&amp;</span> <span class=n>counter2</span><span class=p>)</span>  <span class=c1># Counter({&#39;a&#39;: 1, &#39;b&#39;: 1}) (intersection)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>counter1</span> <span class=o>|</span> <span class=n>counter2</span><span class=p>)</span>  <span class=c1># Counter({&#39;a&#39;: 3, &#39;c&#39;: 3, &#39;b&#39;: 2}) (union)</span>

<span class=c1># Character frequency</span>
<span class=n>text</span> <span class=o>=</span> <span class=s2>&quot;hello world&quot;</span>
<span class=n>char_freq</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>char_freq</span><span class=o>.</span><span class=n>most_common</span><span class=p>(</span><span class=mi>3</span><span class=p>))</span>  <span class=c1># [(&#39;l&#39;, 3), (&#39;o&#39;, 2), (&#39;h&#39;, 1)]</span>

<span class=c1># 2. defaultdict - Dictionary with Default Values</span>
<span class=c1># Without defaultdict</span>
<span class=n>word_dict</span> <span class=o>=</span> <span class=p>{}</span>
<span class=n>words</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;banana&#39;</span><span class=p>,</span> <span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;cherry&#39;</span><span class=p>,</span> <span class=s1>&#39;banana&#39;</span><span class=p>]</span>
<span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>words</span><span class=p>:</span>
    <span class=k>if</span> <span class=n>word</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>word_dict</span><span class=p>:</span>
        <span class=n>word_dict</span><span class=p>[</span><span class=n>word</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=n>word_dict</span><span class=p>[</span><span class=n>word</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>

<span class=c1># With defaultdict - cleaner</span>
<span class=n>word_dict</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
<span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>words</span><span class=p>:</span>
    <span class=n>word_dict</span><span class=p>[</span><span class=n>word</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=n>word_dict</span><span class=p>))</span>

<span class=c1># Group by first letter</span>
<span class=n>words</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;apple&#39;</span><span class=p>,</span> <span class=s1>&#39;apricot&#39;</span><span class=p>,</span> <span class=s1>&#39;banana&#39;</span><span class=p>,</span> <span class=s1>&#39;blueberry&#39;</span><span class=p>,</span> <span class=s1>&#39;cherry&#39;</span><span class=p>]</span>
<span class=n>grouped</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
<span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>words</span><span class=p>:</span>
    <span class=n>grouped</span><span class=p>[</span><span class=n>word</span><span class=p>[</span><span class=mi>0</span><span class=p>]]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>word</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=n>grouped</span><span class=p>))</span>
<span class=c1># {&#39;a&#39;: [&#39;apple&#39;, &#39;apricot&#39;], &#39;b&#39;: [&#39;banana&#39;, &#39;blueberry&#39;], &#39;c&#39;: [&#39;cherry&#39;]}</span>

<span class=c1># Count occurrences</span>
<span class=n>counts</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>
<span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>]:</span>
    <span class=n>counts</span><span class=p>[</span><span class=n>word</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=n>counts</span><span class=p>))</span>  <span class=c1># {&#39;a&#39;: 3, &#39;b&#39;: 2, &#39;c&#39;: 1}</span>

<span class=c1># 3. OrderedDict - Remember Insertion Order</span>
<span class=c1># NOTE: Regular dicts maintain order in Python 3.7+</span>
<span class=c1># OrderedDict has additional features:</span>

<span class=n>od</span> <span class=o>=</span> <span class=n>OrderedDict</span><span class=p>()</span>
<span class=n>od</span><span class=p>[</span><span class=s1>&#39;one&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
<span class=n>od</span><span class=p>[</span><span class=s1>&#39;two&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>2</span>
<span class=n>od</span><span class=p>[</span><span class=s1>&#39;three&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>3</span>

<span class=c1># Move to end</span>
<span class=n>od</span><span class=o>.</span><span class=n>move_to_end</span><span class=p>(</span><span class=s1>&#39;one&#39;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>od</span><span class=o>.</span><span class=n>keys</span><span class=p>()))</span>  <span class=c1># [&#39;two&#39;, &#39;three&#39;, &#39;one&#39;]</span>

<span class=c1># Move to beginning</span>
<span class=n>od</span><span class=o>.</span><span class=n>move_to_end</span><span class=p>(</span><span class=s1>&#39;three&#39;</span><span class=p>,</span> <span class=n>last</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>od</span><span class=o>.</span><span class=n>keys</span><span class=p>()))</span>  <span class=c1># [&#39;three&#39;, &#39;two&#39;, &#39;one&#39;]</span>

<span class=c1># LRU Cache using OrderedDict</span>
<span class=k>class</span><span class=w> </span><span class=nc>LRUCache</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple LRU cache implementation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>capacity</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span> <span class=o>=</span> <span class=n>OrderedDict</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span> <span class=o>=</span> <span class=n>capacity</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>key</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>:</span>
            <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
        <span class=c1># Move to end (most recently used)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=o>.</span><span class=n>move_to_end</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>put</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=o>.</span><span class=n>move_to_end</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=p>)</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>capacity</span><span class=p>:</span>
            <span class=c1># Remove least recently used (first item)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>cache</span><span class=o>.</span><span class=n>popitem</span><span class=p>(</span><span class=n>last</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>

<span class=n>cache</span> <span class=o>=</span> <span class=n>LRUCache</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=n>cache</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=n>cache</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=mi>1</span><span class=p>))</span>  <span class=c1># 1</span>
<span class=n>cache</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>  <span class=c1># Evicts key 2</span>
<span class=nb>print</span><span class=p>(</span><span class=n>cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=mi>2</span><span class=p>))</span>  <span class=c1># -1 (not found)</span>

<span class=c1># 4. deque - Double-Ended Queue</span>
<span class=c1># Efficient append/pop from both ends</span>
<span class=n>dq</span> <span class=o>=</span> <span class=n>deque</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>

<span class=c1># Add to right</span>
<span class=n>dq</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dq</span><span class=p>)</span>  <span class=c1># deque([1, 2, 3, 4])</span>

<span class=c1># Add to left</span>
<span class=n>dq</span><span class=o>.</span><span class=n>appendleft</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dq</span><span class=p>)</span>  <span class=c1># deque([0, 1, 2, 3, 4])</span>

<span class=c1># Remove from right</span>
<span class=n>dq</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dq</span><span class=p>)</span>  <span class=c1># deque([0, 1, 2, 3])</span>

<span class=c1># Remove from left</span>
<span class=n>dq</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dq</span><span class=p>)</span>  <span class=c1># deque([1, 2, 3])</span>

<span class=c1># Rotate</span>
<span class=n>dq</span><span class=o>.</span><span class=n>rotate</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># Rotate right</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dq</span><span class=p>)</span>  <span class=c1># deque([3, 1, 2])</span>

<span class=n>dq</span><span class=o>.</span><span class=n>rotate</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># Rotate left</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dq</span><span class=p>)</span>  <span class=c1># deque([1, 2, 3])</span>

<span class=c1># Fixed-size deque (sliding window)</span>
<span class=n>window</span> <span class=o>=</span> <span class=n>deque</span><span class=p>(</span><span class=n>maxlen</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
    <span class=n>window</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>window</span><span class=p>))</span>
<span class=c1># [0]</span>
<span class=c1># [0, 1]</span>
<span class=c1># [0, 1, 2]</span>
<span class=c1># [1, 2, 3]  (0 evicted)</span>
<span class=c1># [2, 3, 4]  (1 evicted)</span>

<span class=c1># 5. namedtuple - Tuple with Named Fields</span>
<span class=c1># Create namedtuple class</span>
<span class=n>Point</span> <span class=o>=</span> <span class=n>namedtuple</span><span class=p>(</span><span class=s1>&#39;Point&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>])</span>

<span class=c1># Create instances</span>
<span class=n>p1</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=n>p2</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>y</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>

<span class=c1># Access by name or index</span>
<span class=nb>print</span><span class=p>(</span><span class=n>p1</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=n>p1</span><span class=o>.</span><span class=n>y</span><span class=p>)</span>  <span class=c1># 3 4</span>
<span class=nb>print</span><span class=p>(</span><span class=n>p1</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>p1</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>  <span class=c1># 3 4</span>

<span class=c1># Immutable</span>
<span class=c1># p1.x = 10  # AttributeError</span>

<span class=c1># Convert to dict</span>
<span class=nb>print</span><span class=p>(</span><span class=n>p1</span><span class=o>.</span><span class=n>_asdict</span><span class=p>())</span>  <span class=c1># {&#39;x&#39;: 3, &#39;y&#39;: 4}</span>

<span class=c1># Replace (creates new instance)</span>
<span class=n>p3</span> <span class=o>=</span> <span class=n>p1</span><span class=o>.</span><span class=n>_replace</span><span class=p>(</span><span class=n>x</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>p3</span><span class=p>)</span>  <span class=c1># Point(x=5, y=4)</span>

<span class=c1># Use case: Return multiple values</span>
<span class=n>Person</span> <span class=o>=</span> <span class=n>namedtuple</span><span class=p>(</span><span class=s1>&#39;Person&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=s1>&#39;age&#39;</span><span class=p>,</span> <span class=s1>&#39;email&#39;</span><span class=p>])</span>

<span class=k>def</span><span class=w> </span><span class=nf>get_user_info</span><span class=p>(</span><span class=n>user_id</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return user information.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>Person</span><span class=p>(</span><span class=s1>&#39;Alice&#39;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s1>&#39;alice@example.com&#39;</span><span class=p>)</span>

<span class=n>user</span> <span class=o>=</span> <span class=n>get_user_info</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Name: </span><span class=si>{</span><span class=n>user</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>, Age: </span><span class=si>{</span><span class=n>user</span><span class=o>.</span><span class=n>age</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 6. ChainMap - Chain Multiple Dicts</span>
<span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span>
<span class=n>dict2</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>}</span>
<span class=n>dict3</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>6</span><span class=p>}</span>

<span class=c1># Chain dicts (first found wins)</span>
<span class=n>chain</span> <span class=o>=</span> <span class=n>ChainMap</span><span class=p>(</span><span class=n>dict1</span><span class=p>,</span> <span class=n>dict2</span><span class=p>,</span> <span class=n>dict3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>chain</span><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>])</span>  <span class=c1># 1 (from dict1)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>chain</span><span class=p>[</span><span class=s1>&#39;b&#39;</span><span class=p>])</span>  <span class=c1># 2 (from dict1, not dict2)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>chain</span><span class=p>[</span><span class=s1>&#39;c&#39;</span><span class=p>])</span>  <span class=c1># 4 (from dict2, not dict3)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>chain</span><span class=p>[</span><span class=s1>&#39;d&#39;</span><span class=p>])</span>  <span class=c1># 6 (from dict3)</span>

<span class=c1># Use case: Nested scopes/contexts</span>
<span class=n>defaults</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;color&#39;</span><span class=p>:</span> <span class=s1>&#39;red&#39;</span><span class=p>,</span> <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=s1>&#39;guest&#39;</span><span class=p>}</span>
<span class=n>user_prefs</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;color&#39;</span><span class=p>:</span> <span class=s1>&#39;blue&#39;</span><span class=p>}</span>

<span class=n>settings</span> <span class=o>=</span> <span class=n>ChainMap</span><span class=p>(</span><span class=n>user_prefs</span><span class=p>,</span> <span class=n>defaults</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>settings</span><span class=p>[</span><span class=s1>&#39;color&#39;</span><span class=p>])</span>  <span class=c1># &#39;blue&#39; (user pref)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>settings</span><span class=p>[</span><span class=s1>&#39;user&#39;</span><span class=p>])</span>   <span class=c1># &#39;guest&#39; (default)</span>

<span class=c1># 7. Practical Example: Word Frequency</span>
<span class=n>text</span> <span class=o>=</span> <span class=s2>&quot;the quick brown fox jumps over the lazy dog the fox&quot;</span>

<span class=c1># Using Counter</span>
<span class=n>word_freq</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=n>text</span><span class=o>.</span><span class=n>split</span><span class=p>())</span>
<span class=nb>print</span><span class=p>(</span><span class=n>word_freq</span><span class=o>.</span><span class=n>most_common</span><span class=p>(</span><span class=mi>3</span><span class=p>))</span>  <span class=c1># [(&#39;the&#39;, 3), (&#39;fox&#39;, 2), (&#39;quick&#39;, 1)]</span>

<span class=c1># 8. Practical Example: Graph Adjacency List</span>
<span class=n>graph</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
<span class=n>edges</span> <span class=o>=</span> <span class=p>[(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)]</span>

<span class=k>for</span> <span class=n>u</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>edges</span><span class=p>:</span>
    <span class=n>graph</span><span class=p>[</span><span class=n>u</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
    <span class=n>graph</span><span class=p>[</span><span class=n>v</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>u</span><span class=p>)</span>  <span class=c1># Undirected</span>

<span class=nb>print</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=n>graph</span><span class=p>))</span>
<span class=c1># {1: [2, 3], 2: [1, 3, 4], 3: [1, 2, 4], 4: [2, 3]}</span>

<span class=c1># 9. Practical Example: Queue Operations</span>
<span class=k>class</span><span class=w> </span><span class=nc>Queue</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Queue using deque.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=o>=</span> <span class=n>deque</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>enqueue</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>dequeue</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=k>else</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_empty</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span>

<span class=n>q</span> <span class=o>=</span> <span class=n>Queue</span><span class=p>()</span>
<span class=n>q</span><span class=o>.</span><span class=n>enqueue</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=n>q</span><span class=o>.</span><span class=n>enqueue</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=n>q</span><span class=o>.</span><span class=n>enqueue</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>q</span><span class=o>.</span><span class=n>dequeue</span><span class=p>())</span>  <span class=c1># 1 (FIFO)</span>
</code></pre></div> <p><strong>Comparison:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Use Case</th> <th>Key Features</th> </tr> </thead> <tbody> <tr> <td><strong>Counter</strong></td> <td>Count elements</td> <td><code>most_common()</code>, arithmetic</td> </tr> <tr> <td><strong>defaultdict</strong></td> <td>Avoid KeyError</td> <td>Auto-create default values</td> </tr> <tr> <td><strong>OrderedDict</strong></td> <td>Order + operations</td> <td><code>move_to_end()</code>, <code>popitem(last=False)</code></td> </tr> <tr> <td><strong>deque</strong></td> <td>Queue/Stack</td> <td>O(1) append/pop from both ends</td> </tr> <tr> <td><strong>namedtuple</strong></td> <td>Lightweight class</td> <td>Immutable, named fields</td> </tr> <tr> <td><strong>ChainMap</strong></td> <td>Nested contexts</td> <td>Chain multiple dicts</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>Counter</code>: count hashable objects, <code>most_common()</code>"</li> <li>"<code>defaultdict</code>: dict with default factory"</li> <li>"<code>OrderedDict</code>: maintains order + <code>move_to_end()</code>"</li> <li>"<code>deque</code>: O(1) append/pop from both ends (queue/stack)"</li> <li>"<code>namedtuple</code>: immutable tuple with named fields"</li> <li>"<code>ChainMap</code>: chain multiple dictionaries"</li> <li>"Use cases: frequency counting, graphs, LRU cache, queues"</li> <li>"Performance: deque O(1) vs list O(n) for popleft"</li> </ul> </div> </details> <hr> <h3 id=explain-__slots__-for-memory-optimization-google-dropbox-interview-question>Explain <code>__slots__</code> for Memory Optimization - Google, Dropbox Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Memory</code>, <code>Optimization</code>, <code>OOP</code> | <strong>Asked by:</strong> Google, Dropbox, Meta, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong><code>__slots__</code></strong> is a class attribute that restricts instance attributes to a fixed set, eliminating the per-instance <code>__dict__</code> for significant memory savings.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>sys</span>

<span class=c1># 1. Without __slots__ (uses __dict__)</span>
<span class=k>class</span><span class=w> </span><span class=nc>PersonWithoutSlots</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Regular class with __dict__.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=n>email</span>

<span class=c1># 2. With __slots__ (no __dict__)</span>
<span class=k>class</span><span class=w> </span><span class=nc>PersonWithSlots</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Optimized class with __slots__.&quot;&quot;&quot;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=s1>&#39;age&#39;</span><span class=p>,</span> <span class=s1>&#39;email&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=n>email</span>

<span class=c1># Memory comparison</span>
<span class=n>person1</span> <span class=o>=</span> <span class=n>PersonWithoutSlots</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>)</span>
<span class=n>person2</span> <span class=o>=</span> <span class=n>PersonWithSlots</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Without __slots__: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>person1</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;With __slots__: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>person2</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>

<span class=c1># __dict__ exists without slots</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>hasattr</span><span class=p>(</span><span class=n>person1</span><span class=p>,</span> <span class=s1>&#39;__dict__&#39;</span><span class=p>))</span>  <span class=c1># True</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>hasattr</span><span class=p>(</span><span class=n>person2</span><span class=p>,</span> <span class=s1>&#39;__dict__&#39;</span><span class=p>))</span>  <span class=c1># False</span>

<span class=c1># 3. Dynamic Attributes</span>
<span class=c1># Without __slots__ - can add new attributes</span>
<span class=n>person1</span><span class=o>.</span><span class=n>new_attribute</span> <span class=o>=</span> <span class=s2>&quot;value&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>person1</span><span class=o>.</span><span class=n>new_attribute</span><span class=p>)</span>  <span class=c1># Works!</span>

<span class=c1># With __slots__ - cannot add new attributes</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>person2</span><span class=o>.</span><span class=n>new_attribute</span> <span class=o>=</span> <span class=s2>&quot;value&quot;</span>
<span class=k>except</span> <span class=ne>AttributeError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># AttributeError: &#39;PersonWithSlots&#39; object has no attribute &#39;new_attribute&#39;</span>

<span class=c1># 4. Memory Savings at Scale</span>
<span class=k>class</span><span class=w> </span><span class=nc>Point</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Point without slots.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=k>class</span><span class=w> </span><span class=nc>PointWithSlots</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Point with slots.&quot;&quot;&quot;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=c1># Create many instances</span>
<span class=n>n</span> <span class=o>=</span> <span class=mi>1000000</span>

<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=c1># Without slots</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>points1</span> <span class=o>=</span> <span class=p>[</span><span class=n>Point</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>i</span><span class=o>*</span><span class=mi>2</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>)]</span>
<span class=n>time1</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>

<span class=c1># With slots</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>points2</span> <span class=o>=</span> <span class=p>[</span><span class=n>PointWithSlots</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>i</span><span class=o>*</span><span class=mi>2</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>)]</span>
<span class=n>time2</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Without slots: </span><span class=si>{</span><span class=n>time1</span><span class=si>:</span><span class=s2>.3f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;With slots: </span><span class=si>{</span><span class=n>time2</span><span class=si>:</span><span class=s2>.3f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Speedup: </span><span class=si>{</span><span class=n>time1</span><span class=o>/</span><span class=n>time2</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>x&quot;</span><span class=p>)</span>

<span class=c1># Memory usage</span>
<span class=kn>import</span><span class=w> </span><span class=nn>tracemalloc</span>

<span class=n>tracemalloc</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
<span class=n>points1</span> <span class=o>=</span> <span class=p>[</span><span class=n>Point</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>i</span><span class=o>*</span><span class=mi>2</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10000</span><span class=p>)]</span>
<span class=n>mem1</span> <span class=o>=</span> <span class=n>tracemalloc</span><span class=o>.</span><span class=n>get_traced_memory</span><span class=p>()[</span><span class=mi>0</span><span class=p>]</span>
<span class=n>tracemalloc</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

<span class=n>tracemalloc</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
<span class=n>points2</span> <span class=o>=</span> <span class=p>[</span><span class=n>PointWithSlots</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>i</span><span class=o>*</span><span class=mi>2</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10000</span><span class=p>)]</span>
<span class=n>mem2</span> <span class=o>=</span> <span class=n>tracemalloc</span><span class=o>.</span><span class=n>get_traced_memory</span><span class=p>()[</span><span class=mi>0</span><span class=p>]</span>
<span class=n>tracemalloc</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Memory without slots: </span><span class=si>{</span><span class=n>mem1</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2> MB&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Memory with slots: </span><span class=si>{</span><span class=n>mem2</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1024</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2> MB&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Memory savings: </span><span class=si>{</span><span class=p>(</span><span class=n>mem1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>mem2</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>mem1</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>100</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span>

<span class=c1># 5. Inheritance with __slots__</span>
<span class=k>class</span><span class=w> </span><span class=nc>BaseWithSlots</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Base class with slots.&quot;&quot;&quot;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=k>class</span><span class=w> </span><span class=nc>DerivedWithSlots</span><span class=p>(</span><span class=n>BaseWithSlots</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Derived class with additional slots.&quot;&quot;&quot;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;z&#39;</span><span class=p>]</span>  <span class=c1># Only new attributes</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>z</span> <span class=o>=</span> <span class=n>z</span>

<span class=n>point3d</span> <span class=o>=</span> <span class=n>DerivedWithSlots</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;x=</span><span class=si>{</span><span class=n>point3d</span><span class=o>.</span><span class=n>x</span><span class=si>}</span><span class=s2>, y=</span><span class=si>{</span><span class=n>point3d</span><span class=o>.</span><span class=n>y</span><span class=si>}</span><span class=s2>, z=</span><span class=si>{</span><span class=n>point3d</span><span class=o>.</span><span class=n>z</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 6. __slots__ with __dict__</span>
<span class=k>class</span><span class=w> </span><span class=nc>Hybrid</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Class with both __slots__ and __dict__.&quot;&quot;&quot;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;__dict__&#39;</span><span class=p>]</span>  <span class=c1># Include __dict__</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=n>hybrid</span> <span class=o>=</span> <span class=n>Hybrid</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>hybrid</span><span class=o>.</span><span class=n>z</span> <span class=o>=</span> <span class=mi>3</span>  <span class=c1># Can add new attributes!</span>
<span class=nb>print</span><span class=p>(</span><span class=n>hybrid</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span>  <span class=c1># {&#39;z&#39;: 3}</span>

<span class=c1># 7. __slots__ with Properties</span>
<span class=k>class</span><span class=w> </span><span class=nc>Rectangle</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Rectangle with slots and properties.&quot;&quot;&quot;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;_width&#39;</span><span class=p>,</span> <span class=s1>&#39;_height&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>width</span><span class=p>,</span> <span class=n>height</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_width</span> <span class=o>=</span> <span class=n>width</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_height</span> <span class=o>=</span> <span class=n>height</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>width</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_width</span>

    <span class=nd>@width</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>width</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Width must be positive&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_width</span> <span class=o>=</span> <span class=n>value</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Computed property.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_width</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>_height</span>

<span class=n>rect</span> <span class=o>=</span> <span class=n>Rectangle</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Area: </span><span class=si>{</span><span class=n>rect</span><span class=o>.</span><span class=n>area</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=n>rect</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=mi>10</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;New area: </span><span class=si>{</span><span class=n>rect</span><span class=o>.</span><span class=n>area</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 8. When to Use __slots__</span>
<span class=k>class</span><span class=w> </span><span class=nc>DataPoint</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Use slots for data-heavy classes.&quot;&quot;&quot;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;timestamp&#39;</span><span class=p>,</span> <span class=s1>&#39;value&#39;</span><span class=p>,</span> <span class=s1>&#39;sensor_id&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>timestamp</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=n>sensor_id</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>timestamp</span> <span class=o>=</span> <span class=n>timestamp</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>sensor_id</span> <span class=o>=</span> <span class=n>sensor_id</span>

<span class=c1># Create millions of data points efficiently</span>
<span class=n>data_points</span> <span class=o>=</span> <span class=p>[</span><span class=n>DataPoint</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>i</span><span class=o>*</span><span class=mf>1.5</span><span class=p>,</span> <span class=n>i</span><span class=o>%</span><span class=mi>100</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10000</span><span class=p>)]</span>

<span class=c1># 9. Caveats of __slots__</span>
<span class=k>class</span><span class=w> </span><span class=nc>Example</span><span class=p>:</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>Example</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>

<span class=c1># Cannot use __dict__</span>
<span class=c1># print(obj.__dict__)  # AttributeError</span>

<span class=c1># Cannot use weakref by default</span>
<span class=c1># import weakref</span>
<span class=c1># ref = weakref.ref(obj)  # TypeError</span>

<span class=c1># To enable weakref, add &#39;__weakref__&#39; to slots</span>
<span class=k>class</span><span class=w> </span><span class=nc>ExampleWithWeakref</span><span class=p>:</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>,</span> <span class=s1>&#39;__weakref__&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

<span class=c1># 10. Real-World Example: NumPy-like Array Element</span>
<span class=k>class</span><span class=w> </span><span class=nc>ArrayElement</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Optimized array element for millions of instances.&quot;&quot;&quot;</span>
    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;value&#39;</span><span class=p>,</span> <span class=s1>&#39;index&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>index</span> <span class=o>=</span> <span class=n>index</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;ArrayElement(value=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>, index=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>index</span><span class=si>}</span><span class=s2>)&quot;</span>

<span class=c1># Efficient storage</span>
<span class=n>elements</span> <span class=o>=</span> <span class=p>[</span><span class=n>ArrayElement</span><span class=p>(</span><span class=n>i</span><span class=o>**</span><span class=mi>2</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10000</span><span class=p>)]</span>
</code></pre></div> <p><strong>Benefits vs Limitations:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>With <code>__dict__</code></th> <th>With <code>__slots__</code></th> </tr> </thead> <tbody> <tr> <td><strong>Memory</strong></td> <td>Higher (dict overhead)</td> <td>Lower (40-50% savings)</td> </tr> <tr> <td><strong>Speed</strong></td> <td>Slightly slower</td> <td>Slightly faster</td> </tr> <tr> <td><strong>Dynamic attrs</strong></td> <td>‚úÖ Yes</td> <td>‚ùå No</td> </tr> <tr> <td><strong>Inheritance</strong></td> <td>Simple</td> <td>Complex</td> </tr> <tr> <td><strong>Weakref</strong></td> <td>‚úÖ Yes</td> <td>Need <code>__weakref__</code> in slots</td> </tr> <tr> <td><strong><code>__dict__</code></strong></td> <td>‚úÖ Yes</td> <td>‚ùå No (unless included)</td> </tr> </tbody> </table> <p><strong>When to Use:</strong> - Creating millions of instances - Memory-constrained applications - Data-heavy classes (coordinates, sensor data) - Performance-critical code</p> <p><strong>When Not to Use:</strong> - Need dynamic attributes - Complex inheritance hierarchies - Need pickle/serialization (can be tricky) - Premature optimization</p> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>__slots__</code>: restrict attributes, eliminate <code>__dict__</code>"</li> <li>"Memory savings: 40-50% for many instances"</li> <li>"Faster attribute access (slight)"</li> <li>"Cannot add new attributes dynamically"</li> <li>"Use for data-heavy classes (millions of instances)"</li> <li>"Add <code>__weakref__</code> to slots for weak references"</li> <li>"Inheritance: derived class slots = base slots + new slots"</li> <li>"Trade-off: memory vs flexibility"</li> </ul> </div> </details> <hr> <h3 id=explain-multiprocessing-vs-threading-amazon-netflix-interview-question>Explain Multiprocessing vs Threading - Amazon, Netflix Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Concurrency</code>, <code>Parallelism</code>, <code>GIL</code> | <strong>Asked by:</strong> Amazon, Netflix, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>Threading</strong>: Multiple threads in one process (shared memory, limited by GIL for CPU-bound tasks)</p> <p><strong>Multiprocessing</strong>: Multiple processes (separate memory, true parallelism, overhead for IPC)</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>threading</span>
<span class=kn>import</span><span class=w> </span><span class=nn>multiprocessing</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>
<span class=kn>from</span><span class=w> </span><span class=nn>concurrent.futures</span><span class=w> </span><span class=kn>import</span> <span class=n>ThreadPoolExecutor</span><span class=p>,</span> <span class=n>ProcessPoolExecutor</span>

<span class=c1># 1. CPU-Bound Task</span>
<span class=k>def</span><span class=w> </span><span class=nf>cpu_bound_task</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;CPU-intensive computation.&quot;&quot;&quot;</span>
    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
        <span class=n>count</span> <span class=o>+=</span> <span class=n>i</span> <span class=o>**</span> <span class=mi>2</span>
    <span class=k>return</span> <span class=n>count</span>

<span class=c1># Sequential execution</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[</span><span class=n>cpu_bound_task</span><span class=p>(</span><span class=mi>5_000_000</span><span class=p>)</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>)]</span>
<span class=n>sequential_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Sequential: </span><span class=si>{</span><span class=n>sequential_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># Threading (limited by GIL)</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>cpu_bound_task</span><span class=p>,</span> <span class=p>[</span><span class=mi>5_000_000</span><span class=p>]</span> <span class=o>*</span> <span class=mi>4</span><span class=p>))</span>
<span class=n>threading_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Threading: </span><span class=si>{</span><span class=n>threading_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># Multiprocessing (true parallelism)</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=k>with</span> <span class=n>ProcessPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>cpu_bound_task</span><span class=p>,</span> <span class=p>[</span><span class=mi>5_000_000</span><span class=p>]</span> <span class=o>*</span> <span class=mi>4</span><span class=p>))</span>
<span class=n>multiprocessing_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Multiprocessing: </span><span class=si>{</span><span class=n>multiprocessing_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># 2. I/O-Bound Task</span>
<span class=k>def</span><span class=w> </span><span class=nf>io_bound_task</span><span class=p>(</span><span class=n>url</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simulated I/O operation.&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># Simulate network request</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Downloaded </span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=n>urls</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s2>&quot;http://example.com/page</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>

<span class=c1># Sequential</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[</span><span class=n>io_bound_task</span><span class=p>(</span><span class=n>url</span><span class=p>)</span> <span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>urls</span><span class=p>]</span>
<span class=n>sequential_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>I/O Sequential: </span><span class=si>{</span><span class=n>sequential_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># Threading (efficient for I/O)</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>io_bound_task</span><span class=p>,</span> <span class=n>urls</span><span class=p>))</span>
<span class=n>threading_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;I/O Threading: </span><span class=si>{</span><span class=n>threading_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># 3. Basic Threading</span>
<span class=k>def</span><span class=w> </span><span class=nf>worker</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>delay</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Thread worker function.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Thread </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> starting&quot;</span><span class=p>)</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>delay</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Thread </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> finished&quot;</span><span class=p>)</span>

<span class=n>threads</span> <span class=o>=</span> <span class=p>[]</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
    <span class=n>t</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>worker</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>))</span>
    <span class=n>threads</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
    <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>

<span class=c1># Wait for all threads</span>
<span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
    <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>

<span class=c1># 4. Thread Communication with Queue</span>
<span class=kn>import</span><span class=w> </span><span class=nn>queue</span>

<span class=n>task_queue</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>
<span class=n>result_queue</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>

<span class=k>def</span><span class=w> </span><span class=nf>thread_worker</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Worker that processes tasks from queue.&quot;&quot;&quot;</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>task</span> <span class=o>=</span> <span class=n>task_queue</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>task</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>  <span class=c1># Poison pill</span>
            <span class=k>break</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>task</span> <span class=o>*</span> <span class=mi>2</span>
        <span class=n>result_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
        <span class=n>task_queue</span><span class=o>.</span><span class=n>task_done</span><span class=p>()</span>

<span class=c1># Start workers</span>
<span class=n>num_workers</span> <span class=o>=</span> <span class=mi>3</span>
<span class=n>threads</span> <span class=o>=</span> <span class=p>[]</span>
<span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_workers</span><span class=p>):</span>
    <span class=n>t</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>thread_worker</span><span class=p>)</span>
    <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
    <span class=n>threads</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>

<span class=c1># Add tasks</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>):</span>
    <span class=n>task_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>

<span class=c1># Wait for completion</span>
<span class=n>task_queue</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>

<span class=c1># Stop workers</span>
<span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_workers</span><span class=p>):</span>
    <span class=n>task_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>

<span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
    <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>

<span class=c1># Get results</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
<span class=k>while</span> <span class=ow>not</span> <span class=n>result_queue</span><span class=o>.</span><span class=n>empty</span><span class=p>():</span>
    <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>result_queue</span><span class=o>.</span><span class=n>get</span><span class=p>())</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Results: </span><span class=si>{</span><span class=n>results</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 5. Basic Multiprocessing</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_worker</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>delay</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process worker function.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Process </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> (PID: </span><span class=si>{</span><span class=n>multiprocessing</span><span class=o>.</span><span class=n>current_process</span><span class=p>()</span><span class=o>.</span><span class=n>pid</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>)</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>delay</span><span class=p>)</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Process </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> finished&quot;</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>processes</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
        <span class=n>p</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>process_worker</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>))</span>
        <span class=n>processes</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
        <span class=n>p</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>

    <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>processes</span><span class=p>:</span>
        <span class=n>p</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>

<span class=c1># 6. Process Communication with Queue</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_worker_with_queue</span><span class=p>(</span><span class=n>task_queue</span><span class=p>,</span> <span class=n>result_queue</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Worker process with queues.&quot;&quot;&quot;</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>task</span> <span class=o>=</span> <span class=n>task_queue</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>task</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>break</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>task</span> <span class=o>*</span> <span class=mi>2</span>
        <span class=n>result_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>task_queue</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>
    <span class=n>result_queue</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>

    <span class=c1># Start workers</span>
    <span class=n>processes</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
        <span class=n>p</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span>
            <span class=n>target</span><span class=o>=</span><span class=n>process_worker_with_queue</span><span class=p>,</span>
            <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>task_queue</span><span class=p>,</span> <span class=n>result_queue</span><span class=p>)</span>
        <span class=p>)</span>
        <span class=n>p</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
        <span class=n>processes</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>

    <span class=c1># Add tasks</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>):</span>
        <span class=n>task_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>

    <span class=c1># Send poison pills</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
        <span class=n>task_queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>

    <span class=c1># Wait for completion</span>
    <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>processes</span><span class=p>:</span>
        <span class=n>p</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>

    <span class=c1># Get results</span>
    <span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>while</span> <span class=ow>not</span> <span class=n>result_queue</span><span class=o>.</span><span class=n>empty</span><span class=p>():</span>
        <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>result_queue</span><span class=o>.</span><span class=n>get</span><span class=p>())</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Process results: </span><span class=si>{</span><span class=n>results</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 7. Shared Memory in Multiprocessing</span>
<span class=k>def</span><span class=w> </span><span class=nf>increment_shared</span><span class=p>(</span><span class=n>shared_value</span><span class=p>,</span> <span class=n>lock</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Increment shared value with lock.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>100000</span><span class=p>):</span>
        <span class=k>with</span> <span class=n>lock</span><span class=p>:</span>
            <span class=n>shared_value</span><span class=o>.</span><span class=n>value</span> <span class=o>+=</span> <span class=mi>1</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>shared_value</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Value</span><span class=p>(</span><span class=s1>&#39;i&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>  <span class=c1># Shared integer</span>
    <span class=n>lock</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Lock</span><span class=p>()</span>

    <span class=n>processes</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>):</span>
        <span class=n>p</span> <span class=o>=</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Process</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>increment_shared</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>shared_value</span><span class=p>,</span> <span class=n>lock</span><span class=p>))</span>
        <span class=n>p</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
        <span class=n>processes</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>

    <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>processes</span><span class=p>:</span>
        <span class=n>p</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>

    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Shared value: </span><span class=si>{</span><span class=n>shared_value</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># Should be 400000</span>

<span class=c1># 8. Process Pool Map</span>
<span class=k>def</span><span class=w> </span><span class=nf>square</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Square a number.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>n</span> <span class=o>*</span> <span class=n>n</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=k>with</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Pool</span><span class=p>(</span><span class=n>processes</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>pool</span><span class=p>:</span>
        <span class=n>numbers</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
        <span class=n>results</span> <span class=o>=</span> <span class=n>pool</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>square</span><span class=p>,</span> <span class=n>numbers</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Squared: </span><span class=si>{</span><span class=n>results</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=c1># starmap for multiple arguments</span>
    <span class=n>pairs</span> <span class=o>=</span> <span class=p>[(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>)]</span>
    <span class=k>with</span> <span class=n>multiprocessing</span><span class=o>.</span><span class=n>Pool</span><span class=p>(</span><span class=n>processes</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>pool</span><span class=p>:</span>
        <span class=n>results</span> <span class=o>=</span> <span class=n>pool</span><span class=o>.</span><span class=n>starmap</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>,</span> <span class=n>pairs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Sums: </span><span class=si>{</span><span class=n>results</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 9. Thread-Safe Counter</span>
<span class=k>class</span><span class=w> </span><span class=nc>ThreadSafeCounter</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Thread-safe counter using Lock.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>lock</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Lock</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>increment</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>lock</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>+=</span> <span class=mi>1</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_value</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>lock</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span>

<span class=n>counter</span> <span class=o>=</span> <span class=n>ThreadSafeCounter</span><span class=p>()</span>

<span class=k>def</span><span class=w> </span><span class=nf>increment_counter</span><span class=p>(</span><span class=n>counter</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
        <span class=n>counter</span><span class=o>.</span><span class=n>increment</span><span class=p>()</span>

<span class=n>threads</span> <span class=o>=</span> <span class=p>[]</span>
<span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>):</span>
    <span class=n>t</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>increment_counter</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>counter</span><span class=p>,</span> <span class=mi>10000</span><span class=p>))</span>
    <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
    <span class=n>threads</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>

<span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
    <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Counter value: </span><span class=si>{</span><span class=n>counter</span><span class=o>.</span><span class=n>get_value</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># Should be 100000</span>
</code></pre></div> <p><strong>Comparison:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>Threading</th> <th>Multiprocessing</th> </tr> </thead> <tbody> <tr> <td><strong>Memory</strong></td> <td>Shared</td> <td>Separate (copied)</td> </tr> <tr> <td><strong>GIL</strong></td> <td>Limited by GIL</td> <td>No GIL (separate interpreters)</td> </tr> <tr> <td><strong>CPU-bound</strong></td> <td>‚ùå Poor (GIL)</td> <td>‚úÖ Good (true parallelism)</td> </tr> <tr> <td><strong>I/O-bound</strong></td> <td>‚úÖ Good</td> <td>‚ö†Ô∏è Overkill (overhead)</td> </tr> <tr> <td><strong>Overhead</strong></td> <td>Low</td> <td>High (process creation)</td> </tr> <tr> <td><strong>Communication</strong></td> <td>Direct (shared memory)</td> <td>IPC (Queue, Pipe)</td> </tr> <tr> <td><strong>Debugging</strong></td> <td>Easier</td> <td>Harder</td> </tr> </tbody> </table> <p><strong>When to Use:</strong> - <strong>Threading</strong>: I/O-bound tasks (network, files), shared state - <strong>Multiprocessing</strong>: CPU-bound tasks, no shared state needed</p> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Threading: shared memory, limited by GIL for CPU-bound"</li> <li>"Multiprocessing: separate processes, true parallelism"</li> <li>"GIL prevents true parallel execution of Python bytecode"</li> <li>"Threading good for I/O-bound (network, disk)"</li> <li>"Multiprocessing good for CPU-bound (computation)"</li> <li>"Use <code>concurrent.futures</code> for high-level interface"</li> <li>"Communication: Queue for threads/processes"</li> <li>"Thread-safe: use Lock, RLock, Semaphore"</li> </ul> </div> </details> <hr> <h3 id=explain-asyncawait-and-asyncio-meta-google-interview-question>Explain async/await and asyncio - Meta, Google Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Async</code>, <code>Concurrency</code>, <code>asyncio</code> | <strong>Asked by:</strong> Meta, Google, Dropbox, Netflix</p> <details class=success> <summary>View Answer</summary> <p><strong><code>async/await</code></strong> enables cooperative multitasking for I/O-bound operations without threads/processes. <strong><code>asyncio</code></strong> is the framework for writing asynchronous code.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>asyncio</span>
<span class=kn>import</span><span class=w> </span><span class=nn>aiohttp</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span>

<span class=c1># 1. Basic Async Function</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>say_hello</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>delay</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Async function that waits.&quot;&quot;&quot;</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>delay</span><span class=p>)</span>  <span class=c1># Non-blocking sleep</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Hello, </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&quot;</span>

<span class=c1># Run async function</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
    <span class=n>result</span> <span class=o>=</span> <span class=k>await</span> <span class=n>say_hello</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

<span class=c1># asyncio.run(main())</span>

<span class=c1># 2. Concurrent Execution with gather()</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>fetch_data</span><span class=p>(</span><span class=nb>id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>delay</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simulate fetching data.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Fetching </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>...&quot;</span><span class=p>)</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>delay</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Fetched </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=nb>id</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;Data</span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>}</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>concurrent_example</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Run multiple coroutines concurrently.&quot;&quot;&quot;</span>
    <span class=c1># Run all concurrently</span>
    <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span>
        <span class=n>fetch_data</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
        <span class=n>fetch_data</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>),</span>
        <span class=n>fetch_data</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>)</span>
    <span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Results: </span><span class=si>{</span><span class=n>results</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># asyncio.run(concurrent_example())</span>

<span class=c1># 3. Task Creation</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>task_example</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create and manage tasks.&quot;&quot;&quot;</span>
    <span class=c1># Create tasks (start immediately)</span>
    <span class=n>task1</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=n>fetch_data</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>
    <span class=n>task2</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=n>fetch_data</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>))</span>
    <span class=n>task3</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=n>fetch_data</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>))</span>

    <span class=c1># Do other work here</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Tasks started, doing other work...&quot;</span><span class=p>)</span>

    <span class=c1># Wait for all tasks</span>
    <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=n>task1</span><span class=p>,</span> <span class=n>task2</span><span class=p>,</span> <span class=n>task3</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>results</span>

<span class=c1># asyncio.run(task_example())</span>

<span class=c1># 4. HTTP Requests with aiohttp</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>fetch_url</span><span class=p>(</span><span class=n>session</span><span class=p>,</span> <span class=n>url</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Fetch URL asynchronously.&quot;&quot;&quot;</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>session</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span> <span class=k>as</span> <span class=n>response</span><span class=p>:</span>
        <span class=k>return</span> <span class=k>await</span> <span class=n>response</span><span class=o>.</span><span class=n>text</span><span class=p>()</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>fetch_multiple_urls</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Fetch multiple URLs concurrently.&quot;&quot;&quot;</span>
    <span class=n>urls</span> <span class=o>=</span> <span class=p>[</span>
        <span class=s2>&quot;http://example.com&quot;</span><span class=p>,</span>
        <span class=s2>&quot;http://example.org&quot;</span><span class=p>,</span>
        <span class=s2>&quot;http://example.net&quot;</span>
    <span class=p>]</span>

    <span class=k>async</span> <span class=k>with</span> <span class=n>aiohttp</span><span class=o>.</span><span class=n>ClientSession</span><span class=p>()</span> <span class=k>as</span> <span class=n>session</span><span class=p>:</span>
        <span class=n>tasks</span> <span class=o>=</span> <span class=p>[</span><span class=n>fetch_url</span><span class=p>(</span><span class=n>session</span><span class=p>,</span> <span class=n>url</span><span class=p>)</span> <span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>urls</span><span class=p>]</span>
        <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>tasks</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>results</span>

<span class=c1># asyncio.run(fetch_multiple_urls())</span>

<span class=c1># 5. Async Context Manager</span>
<span class=k>class</span><span class=w> </span><span class=nc>AsyncResource</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Async context manager.&quot;&quot;&quot;</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=fm>__aenter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Acquiring resource...&quot;</span><span class=p>)</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>resource</span> <span class=o>=</span> <span class=s2>&quot;Database Connection&quot;</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=fm>__aexit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Releasing resource...&quot;</span><span class=p>)</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>query</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sql</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.05</span><span class=p>)</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Results for: </span><span class=si>{</span><span class=n>sql</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>use_async_resource</span><span class=p>():</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>AsyncResource</span><span class=p>()</span> <span class=k>as</span> <span class=n>resource</span><span class=p>:</span>
        <span class=n>result</span> <span class=o>=</span> <span class=k>await</span> <span class=n>resource</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s2>&quot;SELECT * FROM users&quot;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

<span class=c1># asyncio.run(use_async_resource())</span>

<span class=c1># 6. Async Iterator</span>
<span class=k>class</span><span class=w> </span><span class=nc>AsyncDataStream</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Async iterator for streaming data.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>count</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>count</span> <span class=o>=</span> <span class=n>count</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__aiter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=fm>__anext__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>count</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>StopAsyncIteration</span>

        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># Simulate fetching</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>current</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>consume_stream</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Consume async iterator.&quot;&quot;&quot;</span>
    <span class=k>async</span> <span class=k>for</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>AsyncDataStream</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Received: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># asyncio.run(consume_stream())</span>

<span class=c1># 7. Async Generator</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>async_range</span><span class=p>(</span><span class=n>start</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>end</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Async generator.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
        <span class=k>yield</span> <span class=n>i</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>use_async_generator</span><span class=p>():</span>
    <span class=k>async</span> <span class=k>for</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>async_range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>6</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Value: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># asyncio.run(use_async_generator())</span>

<span class=c1># 8. Timeouts</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>slow_operation</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Slow async operation.&quot;&quot;&quot;</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
    <span class=k>return</span> <span class=s2>&quot;Completed&quot;</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>timeout_example</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Handle timeouts.&quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>result</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>wait_for</span><span class=p>(</span><span class=n>slow_operation</span><span class=p>(),</span> <span class=n>timeout</span><span class=o>=</span><span class=mf>2.0</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
    <span class=k>except</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>TimeoutError</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Operation timed out!&quot;</span><span class=p>)</span>

<span class=c1># asyncio.run(timeout_example())</span>

<span class=c1># 9. Semaphore for Rate Limiting</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>rate_limited_request</span><span class=p>(</span><span class=n>semaphore</span><span class=p>,</span> <span class=nb>id</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Rate-limited async request.&quot;&quot;&quot;</span>
    <span class=k>async</span> <span class=k>with</span> <span class=n>semaphore</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Processing request </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.5</span><span class=p>)</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Result </span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>rate_limiting_example</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Limit concurrent operations.&quot;&quot;&quot;</span>
    <span class=n>semaphore</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>Semaphore</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>  <span class=c1># Max 3 concurrent</span>

    <span class=n>tasks</span> <span class=o>=</span> <span class=p>[</span>
        <span class=n>rate_limited_request</span><span class=p>(</span><span class=n>semaphore</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
    <span class=p>]</span>

    <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>tasks</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;All results: </span><span class=si>{</span><span class=n>results</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># asyncio.run(rate_limiting_example())</span>

<span class=c1># 10. Queue for Producer-Consumer</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>producer</span><span class=p>(</span><span class=n>queue</span><span class=p>:</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>Queue</span><span class=p>,</span> <span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Produce items.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
        <span class=k>await</span> <span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Produced: </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>await</span> <span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>  <span class=c1># Sentinel</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>consumer</span><span class=p>(</span><span class=n>queue</span><span class=p>:</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>Queue</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Consume items.&quot;&quot;&quot;</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>item</span> <span class=o>=</span> <span class=k>await</span> <span class=n>queue</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>item</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>queue</span><span class=o>.</span><span class=n>task_done</span><span class=p>()</span>
            <span class=k>break</span>

        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.2</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Consumer </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> processed: </span><span class=si>{</span><span class=n>item</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>queue</span><span class=o>.</span><span class=n>task_done</span><span class=p>()</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>producer_consumer_example</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Producer-consumer pattern.&quot;&quot;&quot;</span>
    <span class=n>queue</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>

    <span class=c1># Start producer and consumers</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span>
        <span class=n>producer</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span>
        <span class=n>consumer</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=s2>&quot;A&quot;</span><span class=p>),</span>
        <span class=n>consumer</span><span class=p>(</span><span class=n>queue</span><span class=p>,</span> <span class=s2>&quot;B&quot;</span><span class=p>)</span>
    <span class=p>)</span>

<span class=c1># asyncio.run(producer_consumer_example())</span>

<span class=c1># 11. Event Loop Management</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>background_task</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Long-running background task.&quot;&quot;&quot;</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Background task running...&quot;</span><span class=p>)</span>
        <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>main_with_background</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Run main task with background task.&quot;&quot;&quot;</span>
    <span class=n>task</span> <span class=o>=</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=n>background_task</span><span class=p>())</span>

    <span class=c1># Do main work</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>

    <span class=c1># Cancel background task</span>
    <span class=n>task</span><span class=o>.</span><span class=n>cancel</span><span class=p>()</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>await</span> <span class=n>task</span>
    <span class=k>except</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>CancelledError</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Background task cancelled&quot;</span><span class=p>)</span>

<span class=c1># asyncio.run(main_with_background())</span>

<span class=c1># 12. Performance Comparison</span>
<span class=k>def</span><span class=w> </span><span class=nf>sync_sleep</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Synchronous sleep.&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>n</span>

<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>async_sleep</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Asynchronous sleep.&quot;&quot;&quot;</span>
    <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>n</span>

<span class=c1># Synchronous version</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[</span><span class=n>sync_sleep</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=n>sync_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Synchronous: </span><span class=si>{</span><span class=n>sync_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># Asynchronous version</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>async_version</span><span class=p>():</span>
    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
    <span class=n>tasks</span> <span class=o>=</span> <span class=p>[</span><span class=n>async_sleep</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
    <span class=n>results</span> <span class=o>=</span> <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>tasks</span><span class=p>)</span>
    <span class=n>async_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Asynchronous: </span><span class=si>{</span><span class=n>async_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># asyncio.run(async_version())</span>
</code></pre></div> <p><strong>Key Concepts:</strong></p> <table> <thead> <tr> <th>Concept</th> <th>Description</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Coroutine</strong></td> <td>Async function</td> <td><code>async def func()</code></td> </tr> <tr> <td><strong>await</strong></td> <td>Wait for coroutine</td> <td><code>await func()</code></td> </tr> <tr> <td><strong>Task</strong></td> <td>Scheduled coroutine</td> <td><code>asyncio.create_task()</code></td> </tr> <tr> <td><strong>gather</strong></td> <td>Run multiple coroutines</td> <td><code>await asyncio.gather(*tasks)</code></td> </tr> <tr> <td><strong>Event Loop</strong></td> <td>Manages async execution</td> <td><code>asyncio.run()</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>async/await</code>: cooperative multitasking"</li> <li>"Single-threaded, non-blocking I/O"</li> <li>"<code>await</code> yields control to event loop"</li> <li>"<code>asyncio.gather()</code>: run multiple coroutines"</li> <li>"<code>asyncio.create_task()</code>: schedule coroutine"</li> <li>"Use for I/O-bound operations (network, files)"</li> <li>"async context managers: <code>async with</code>"</li> <li>"async iterators: <code>async for</code>"</li> <li>"Not for CPU-bound tasks"</li> </ul> </div> </details> <hr> <h3 id=explain-pythons-property-decorators-amazon-google-interview-question>Explain Python's Property Decorators - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Properties</code>, <code>OOP</code>, <code>Decorators</code> | <strong>Asked by:</strong> Amazon, Google, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong><code>@property</code></strong> decorator creates managed attributes with getter, setter, and deleter methods, providing controlled access to class attributes.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Property</span>
<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Person with property for age.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>age</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>age</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get age.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Getting age&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span>

    <span class=nd>@age</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>age</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Set age with validation.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Setting age to </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Age cannot be negative&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_age</span> <span class=o>=</span> <span class=n>value</span>

    <span class=nd>@age</span><span class=o>.</span><span class=n>deleter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>age</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Delete age.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Deleting age&quot;</span><span class=p>)</span>
        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>_age</span>

<span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>age</span><span class=p>)</span>  <span class=c1># Calls getter</span>
<span class=n>person</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=mi>31</span>    <span class=c1># Calls setter</span>
<span class=c1># person.age = -1  # Raises ValueError</span>
<span class=c1># del person.age   # Calls deleter</span>

<span class=c1># 2. Computed Property</span>
<span class=k>class</span><span class=w> </span><span class=nc>Rectangle</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Rectangle with computed area.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>width</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>height</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>width</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>height</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Computed area (no setter).&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>perimeter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Computed perimeter.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=mi>2</span> <span class=o>*</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span><span class=p>)</span>

<span class=n>rect</span> <span class=o>=</span> <span class=n>Rectangle</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Area: </span><span class=si>{</span><span class=n>rect</span><span class=o>.</span><span class=n>area</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 15</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Perimeter: </span><span class=si>{</span><span class=n>rect</span><span class=o>.</span><span class=n>perimeter</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 16</span>
<span class=c1># rect.area = 20  # AttributeError (no setter)</span>

<span class=c1># 3. Lazy Property</span>
<span class=k>class</span><span class=w> </span><span class=nc>DataProcessor</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process data with lazy loading.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_data</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Load data on first access.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Loading data from </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>filename</span><span class=si>}</span><span class=s2>...&quot;</span><span class=p>)</span>
            <span class=c1># Simulate expensive operation</span>
            <span class=kn>import</span><span class=w> </span><span class=nn>time</span>
            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_data</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>1000</span><span class=p>))</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span>

<span class=n>processor</span> <span class=o>=</span> <span class=n>DataProcessor</span><span class=p>(</span><span class=s2>&quot;data.csv&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Created processor&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>processor</span><span class=o>.</span><span class=n>data</span><span class=p>))</span>  <span class=c1># Loads data</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>processor</span><span class=o>.</span><span class=n>data</span><span class=p>))</span>  <span class=c1># Uses cached data</span>

<span class=c1># 4. Temperature Conversion</span>
<span class=k>class</span><span class=w> </span><span class=nc>Temperature</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Temperature with Celsius/Fahrenheit conversion.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>celsius</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mi>0</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>=</span> <span class=n>celsius</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>celsius</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get temperature in Celsius.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span>

    <span class=nd>@celsius</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>celsius</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Set temperature in Celsius.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=o>-</span><span class=mf>273.15</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Temperature below absolute zero!&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>=</span> <span class=n>value</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>fahrenheit</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get temperature in Fahrenheit.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>*</span> <span class=mi>9</span><span class=o>/</span><span class=mi>5</span> <span class=o>+</span> <span class=mi>32</span>

    <span class=nd>@fahrenheit</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>fahrenheit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Set temperature using Fahrenheit.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>celsius</span> <span class=o>=</span> <span class=p>(</span><span class=n>value</span> <span class=o>-</span> <span class=mi>32</span><span class=p>)</span> <span class=o>*</span> <span class=mi>5</span><span class=o>/</span><span class=mi>9</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>kelvin</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get temperature in Kelvin.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_celsius</span> <span class=o>+</span> <span class=mf>273.15</span>

<span class=n>temp</span> <span class=o>=</span> <span class=n>Temperature</span><span class=p>(</span><span class=mi>25</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>temp</span><span class=o>.</span><span class=n>celsius</span><span class=si>}</span><span class=s2>¬∞C = </span><span class=si>{</span><span class=n>temp</span><span class=o>.</span><span class=n>fahrenheit</span><span class=si>}</span><span class=s2>¬∞F = </span><span class=si>{</span><span class=n>temp</span><span class=o>.</span><span class=n>kelvin</span><span class=si>}</span><span class=s2>K&quot;</span><span class=p>)</span>

<span class=n>temp</span><span class=o>.</span><span class=n>fahrenheit</span> <span class=o>=</span> <span class=mf>98.6</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>temp</span><span class=o>.</span><span class=n>celsius</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>¬∞C = </span><span class=si>{</span><span class=n>temp</span><span class=o>.</span><span class=n>fahrenheit</span><span class=si>}</span><span class=s2>¬∞F&quot;</span><span class=p>)</span>

<span class=c1># 5. Validation Property</span>
<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User with validated properties.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>username</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>username</span> <span class=o>=</span> <span class=n>username</span>  <span class=c1># Uses setter</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=n>email</span>        <span class=c1># Uses setter</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>username</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_username</span>

    <span class=nd>@username</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>username</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate username.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>value</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Username cannot be empty&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Username must be at least 3 characters&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_username</span> <span class=o>=</span> <span class=n>value</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>email</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_email</span>

    <span class=nd>@email</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>email</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate email.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=s1>&#39;@&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>value</span> <span class=ow>or</span> <span class=s1>&#39;.&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;@&#39;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid email format&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_email</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>

<span class=n>user</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span><span class=s2>&quot;alice&quot;</span><span class=p>,</span> <span class=s2>&quot;Alice@Example.COM&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Username: </span><span class=si>{</span><span class=n>user</span><span class=o>.</span><span class=n>username</span><span class=si>}</span><span class=s2>, Email: </span><span class=si>{</span><span class=n>user</span><span class=o>.</span><span class=n>email</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># try:</span>
<span class=c1>#     user.username = &quot;ab&quot;  # Too short</span>
<span class=c1># except ValueError as e:</span>
<span class=c1>#     print(e)</span>

<span class=c1># 6. Read-Only Property</span>
<span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Circle with read-only radius.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>radius</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span> <span class=o>=</span> <span class=n>radius</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>radius</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Read-only radius.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>diameter</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span> <span class=o>*</span> <span class=mi>2</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>math</span>
        <span class=k>return</span> <span class=n>math</span><span class=o>.</span><span class=n>pi</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span> <span class=o>**</span> <span class=mi>2</span>

<span class=n>circle</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Radius: </span><span class=si>{</span><span class=n>circle</span><span class=o>.</span><span class=n>radius</span><span class=si>}</span><span class=s2>, Area: </span><span class=si>{</span><span class=n>circle</span><span class=o>.</span><span class=n>area</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=c1># circle.radius = 10  # AttributeError (no setter)</span>

<span class=c1># 7. Property with Caching</span>
<span class=k>class</span><span class=w> </span><span class=nc>ExpensiveComputation</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Property with result caching.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_result_cache</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>result</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Expensive computation with caching.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_result_cache</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Computing result...&quot;</span><span class=p>)</span>
            <span class=kn>import</span><span class=w> </span><span class=nn>time</span>
            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_result_cache</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>**</span> <span class=mi>2</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_result_cache</span>

    <span class=k>def</span><span class=w> </span><span class=nf>invalidate_cache</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Clear cache when value changes.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_result_cache</span> <span class=o>=</span> <span class=kc>None</span>

<span class=n>comp</span> <span class=o>=</span> <span class=n>ExpensiveComputation</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>comp</span><span class=o>.</span><span class=n>result</span><span class=p>)</span>  <span class=c1># Computes</span>
<span class=nb>print</span><span class=p>(</span><span class=n>comp</span><span class=o>.</span><span class=n>result</span><span class=p>)</span>  <span class=c1># Cached</span>
<span class=n>comp</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=mi>20</span>
<span class=n>comp</span><span class=o>.</span><span class=n>invalidate_cache</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>comp</span><span class=o>.</span><span class=n>result</span><span class=p>)</span>  <span class=c1># Recomputes</span>

<span class=c1># 8. Property with Type Checking</span>
<span class=k>class</span><span class=w> </span><span class=nc>TypedProperty</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Property with type checking.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>expected_type</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>expected_type</span> <span class=o>=</span> <span class=n>expected_type</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__set_name__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>owner</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>))</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>expected_type</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> must be </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>expected_type</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span>
            <span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>)]</span> <span class=o>=</span> <span class=n>value</span>

<span class=k>class</span><span class=w> </span><span class=nc>Product</span><span class=p>:</span>
    <span class=n>name</span> <span class=o>=</span> <span class=n>TypedProperty</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
    <span class=n>price</span> <span class=o>=</span> <span class=n>TypedProperty</span><span class=p>(</span><span class=nb>float</span><span class=p>)</span>
    <span class=n>quantity</span> <span class=o>=</span> <span class=n>TypedProperty</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>quantity</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>price</span> <span class=o>=</span> <span class=n>price</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>quantity</span> <span class=o>=</span> <span class=n>quantity</span>

<span class=n>product</span> <span class=o>=</span> <span class=n>Product</span><span class=p>(</span><span class=s2>&quot;Laptop&quot;</span><span class=p>,</span> <span class=mf>999.99</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
<span class=c1># product.price = &quot;expensive&quot;  # TypeError</span>

<span class=c1># 9. Property Chain</span>
<span class=k>class</span><span class=w> </span><span class=nc>Account</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Bank account with property chain.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>balance</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_balance</span> <span class=o>=</span> <span class=n>balance</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_transactions</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>balance</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_balance</span>

    <span class=nd>@balance</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>balance</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Balance cannot be negative&quot;</span><span class=p>)</span>
        <span class=n>old_balance</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_balance</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_balance</span> <span class=o>=</span> <span class=n>value</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_transactions</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
            <span class=s1>&#39;old&#39;</span><span class=p>:</span> <span class=n>old_balance</span><span class=p>,</span>
            <span class=s1>&#39;new&#39;</span><span class=p>:</span> <span class=n>value</span><span class=p>,</span>
            <span class=s1>&#39;change&#39;</span><span class=p>:</span> <span class=n>value</span> <span class=o>-</span> <span class=n>old_balance</span>
        <span class=p>})</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>transaction_history</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Read-only transaction history.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_transactions</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>

<span class=n>account</span> <span class=o>=</span> <span class=n>Account</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>
<span class=n>account</span><span class=o>.</span><span class=n>balance</span> <span class=o>=</span> <span class=mi>1500</span>
<span class=n>account</span><span class=o>.</span><span class=n>balance</span> <span class=o>=</span> <span class=mi>1200</span>
<span class=nb>print</span><span class=p>(</span><span class=n>account</span><span class=o>.</span><span class=n>transaction_history</span><span class=p>)</span>
</code></pre></div> <p><strong>Property vs Direct Access:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>Direct Attribute</th> <th>Property</th> </tr> </thead> <tbody> <tr> <td><strong>Validation</strong></td> <td>‚ùå No</td> <td>‚úÖ Yes</td> </tr> <tr> <td><strong>Computed</strong></td> <td>‚ùå No</td> <td>‚úÖ Yes</td> </tr> <tr> <td><strong>Lazy Loading</strong></td> <td>‚ùå No</td> <td>‚úÖ Yes</td> </tr> <tr> <td><strong>API Stability</strong></td> <td>‚ö†Ô∏è Breaking change</td> <td>‚úÖ Non-breaking</td> </tr> <tr> <td><strong>Overhead</strong></td> <td>None</td> <td>Minimal</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>@property</code>: managed attribute access"</li> <li>"Getter: <code>@property</code>, Setter: <code>@prop.setter</code>, Deleter: <code>@prop.deleter</code>"</li> <li>"Use for validation, computed values, lazy loading"</li> <li>"Maintains clean API (looks like attribute access)"</li> <li>"Can add validation without changing interface"</li> <li>"Read-only properties: no setter"</li> <li>"Cached properties: compute once, store result"</li> <li>"Better than Java-style getters/setters"</li> </ul> </div> </details> <hr> <h3 id=explain-abstract-base-classes-abc-google-meta-interview-question>Explain Abstract Base Classes (ABC) - Google, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>ABC</code>, <code>OOP</code>, <code>Interfaces</code> | <strong>Asked by:</strong> Google, Meta, Amazon, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>Abstract Base Classes (ABC)</strong> define interfaces that subclasses must implement. Use <code>abc</code> module to create abstract methods that force subclasses to provide implementations.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>abc</span><span class=w> </span><span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span>
<span class=kn>import</span><span class=w> </span><span class=nn>math</span>

<span class=c1># 1. Basic ABC</span>
<span class=k>class</span><span class=w> </span><span class=nc>Shape</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Abstract shape class.&quot;&quot;&quot;</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Calculate area (must be implemented).&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>perimeter</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Calculate perimeter (must be implemented).&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=nf>describe</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Concrete method (optional to override).&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>: area=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>area</span><span class=p>()</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>Rectangle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Concrete shape implementation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>width</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>height</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>width</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>height</span>

    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span>

    <span class=k>def</span><span class=w> </span><span class=nf>perimeter</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=k>return</span> <span class=mi>2</span> <span class=o>*</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Another concrete implementation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>radius</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>radius</span>

    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>math</span><span class=o>.</span><span class=n>pi</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>**</span> <span class=mi>2</span>

    <span class=k>def</span><span class=w> </span><span class=nf>perimeter</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=k>return</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>math</span><span class=o>.</span><span class=n>pi</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span>

<span class=c1># Cannot instantiate ABC</span>
<span class=c1># shape = Shape()  # TypeError</span>

<span class=n>rect</span> <span class=o>=</span> <span class=n>Rectangle</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>rect</span><span class=o>.</span><span class=n>describe</span><span class=p>())</span>

<span class=n>circle</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>circle</span><span class=o>.</span><span class=n>describe</span><span class=p>())</span>

<span class=c1># 2. Data Storage ABC</span>
<span class=k>class</span><span class=w> </span><span class=nc>DataStore</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Abstract data storage interface.&quot;&quot;&quot;</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Save data.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>load</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>any</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Load data.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Delete data.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>exists</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Check if key exists.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>MemoryStore</span><span class=p>(</span><span class=n>DataStore</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;In-memory implementation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_data</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_data</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=nf>load</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>any</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span><span class=p>:</span>
            <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>exists</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span>

<span class=k>class</span><span class=w> </span><span class=nc>FileStore</span><span class=p>(</span><span class=n>DataStore</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;File-based implementation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>directory</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>directory</span> <span class=o>=</span> <span class=n>directory</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>os</span>
        <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>directory</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_get_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>os</span>
        <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>directory</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>.txt&quot;</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_get_path</span><span class=p>(</span><span class=n>key</span><span class=p>),</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
            <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>

    <span class=k>def</span><span class=w> </span><span class=nf>load</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>any</span><span class=p>:</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_get_path</span><span class=p>(</span><span class=n>key</span><span class=p>),</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
                <span class=k>return</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
        <span class=k>except</span> <span class=ne>FileNotFoundError</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>delete</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>os</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_get_path</span><span class=p>(</span><span class=n>key</span><span class=p>))</span>
        <span class=k>except</span> <span class=ne>FileNotFoundError</span><span class=p>:</span>
            <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=nf>exists</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>os</span>
        <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_get_path</span><span class=p>(</span><span class=n>key</span><span class=p>))</span>

<span class=c1># Use polymorphically</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_store</span><span class=p>(</span><span class=n>store</span><span class=p>:</span> <span class=n>DataStore</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test any DataStore implementation.&quot;&quot;&quot;</span>
    <span class=n>store</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=s2>&quot;user:1&quot;</span><span class=p>,</span> <span class=s2>&quot;Alice&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Loaded: </span><span class=si>{</span><span class=n>store</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s1>&#39;user:1&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Exists: </span><span class=si>{</span><span class=n>store</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=s1>&#39;user:1&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=n>store</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=s2>&quot;user:1&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;After delete: </span><span class=si>{</span><span class=n>store</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=s1>&#39;user:1&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>memory</span> <span class=o>=</span> <span class=n>MemoryStore</span><span class=p>()</span>
<span class=n>test_store</span><span class=p>(</span><span class=n>memory</span><span class=p>)</span>

<span class=c1># 3. Abstract Properties</span>
<span class=k>class</span><span class=w> </span><span class=nc>Animal</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Animal with abstract properties.&quot;&quot;&quot;</span>

    <span class=nd>@property</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Animal name (must be implemented).&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@property</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>sound</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Animal sound (must be implemented).&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=nf>make_sound</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Concrete method using abstract property.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> says </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>sound</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>Dog</span><span class=p>(</span><span class=n>Animal</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Concrete animal.&quot;&quot;&quot;</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Dog&quot;</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>sound</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Woof&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>Cat</span><span class=p>(</span><span class=n>Animal</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Another concrete animal.&quot;&quot;&quot;</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Cat&quot;</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>sound</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Meow&quot;</span>

<span class=n>dog</span> <span class=o>=</span> <span class=n>Dog</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dog</span><span class=o>.</span><span class=n>make_sound</span><span class=p>())</span>

<span class=n>cat</span> <span class=o>=</span> <span class=n>Cat</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>cat</span><span class=o>.</span><span class=n>make_sound</span><span class=p>())</span>

<span class=c1># 4. Multiple Abstract Methods</span>
<span class=k>class</span><span class=w> </span><span class=nc>Serializer</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Abstract serializer.&quot;&quot;&quot;</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>serialize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Serialize to string.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>deserialize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Deserialize from string.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>file_extension</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;File extension for this format.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>JSONSerializer</span><span class=p>(</span><span class=n>Serializer</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;JSON serializer.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>serialize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>json</span>
        <span class=k>return</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>deserialize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>json</span>
        <span class=k>return</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>file_extension</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;.json&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>XMLSerializer</span><span class=p>(</span><span class=n>Serializer</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;XML serializer (simplified).&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>serialize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=c1># Simplified XML generation</span>
        <span class=n>items</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s2>&quot;&lt;</span><span class=si>{</span><span class=n>k</span><span class=si>}</span><span class=s2>&gt;</span><span class=si>{</span><span class=n>v</span><span class=si>}</span><span class=s2>&lt;/</span><span class=si>{</span><span class=n>k</span><span class=si>}</span><span class=s2>&gt;&quot;</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>()]</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;&lt;root&gt;</span><span class=si>{</span><span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>items</span><span class=p>)</span><span class=si>}</span><span class=s2>&lt;/root&gt;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>deserialize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
        <span class=c1># Simplified XML parsing (use xml.etree in production)</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>re</span>
        <span class=n>items</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;&lt;(\w+)&gt;([^&lt;]+)&lt;/\1&gt;&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
        <span class=k>return</span> <span class=nb>dict</span><span class=p>(</span><span class=n>items</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>file_extension</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;.xml&quot;</span>

<span class=k>def</span><span class=w> </span><span class=nf>save_data</span><span class=p>(</span><span class=n>serializer</span><span class=p>:</span> <span class=n>Serializer</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>filename</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Save using any serializer.&quot;&quot;&quot;</span>
    <span class=n>content</span> <span class=o>=</span> <span class=n>serializer</span><span class=o>.</span><span class=n>serialize</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
    <span class=n>full_name</span> <span class=o>=</span> <span class=n>filename</span> <span class=o>+</span> <span class=n>serializer</span><span class=o>.</span><span class=n>file_extension</span><span class=p>()</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>full_name</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
        <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>content</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Saved to </span><span class=si>{</span><span class=n>full_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>data</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=s2>&quot;30&quot;</span><span class=p>}</span>
<span class=c1># save_data(JSONSerializer(), data, &quot;user&quot;)</span>

<span class=c1># 5. Abstract Class Methods</span>
<span class=k>class</span><span class=w> </span><span class=nc>Parser</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Abstract parser with class method.&quot;&quot;&quot;</span>

    <span class=nd>@classmethod</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>can_parse</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>content</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Check if this parser can handle content.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>parse</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Parse content.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>CSVParser</span><span class=p>(</span><span class=n>Parser</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;CSV parser.&quot;&quot;&quot;</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>can_parse</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>content</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=s1>&#39;,&#39;</span> <span class=ow>in</span> <span class=n>content</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>parse</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
        <span class=n>lines</span> <span class=o>=</span> <span class=n>content</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=n>headers</span> <span class=o>=</span> <span class=n>lines</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span>
        <span class=n>rows</span> <span class=o>=</span> <span class=p>[</span><span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>[</span><span class=mi>1</span><span class=p>:]]</span>
        <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;headers&quot;</span><span class=p>:</span> <span class=n>headers</span><span class=p>,</span> <span class=s2>&quot;rows&quot;</span><span class=p>:</span> <span class=n>rows</span><span class=p>}</span>

<span class=k>class</span><span class=w> </span><span class=nc>TSVParser</span><span class=p>(</span><span class=n>Parser</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;TSV parser.&quot;&quot;&quot;</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>can_parse</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>content</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=s1>&#39;</span><span class=se>\t</span><span class=s1>&#39;</span> <span class=ow>in</span> <span class=n>content</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>parse</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
        <span class=n>lines</span> <span class=o>=</span> <span class=n>content</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=n>headers</span> <span class=o>=</span> <span class=n>lines</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\t</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=n>rows</span> <span class=o>=</span> <span class=p>[</span><span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\t</span><span class=s1>&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>[</span><span class=mi>1</span><span class=p>:]]</span>
        <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;headers&quot;</span><span class=p>:</span> <span class=n>headers</span><span class=p>,</span> <span class=s2>&quot;rows&quot;</span><span class=p>:</span> <span class=n>rows</span><span class=p>}</span>

<span class=c1># Auto-select parser</span>
<span class=n>parsers</span> <span class=o>=</span> <span class=p>[</span><span class=n>CSVParser</span><span class=p>,</span> <span class=n>TSVParser</span><span class=p>]</span>
<span class=n>content</span> <span class=o>=</span> <span class=s2>&quot;name,age</span><span class=se>\n</span><span class=s2>Alice,30</span><span class=se>\n</span><span class=s2>Bob,25&quot;</span>

<span class=k>for</span> <span class=n>parser_class</span> <span class=ow>in</span> <span class=n>parsers</span><span class=p>:</span>
    <span class=k>if</span> <span class=n>parser_class</span><span class=o>.</span><span class=n>can_parse</span><span class=p>(</span><span class=n>content</span><span class=p>):</span>
        <span class=n>parser</span> <span class=o>=</span> <span class=n>parser_class</span><span class=p>()</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>content</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Parsed with </span><span class=si>{</span><span class=n>parser_class</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>break</span>

<span class=c1># 6. ABC with __init_subclass__</span>
<span class=k>class</span><span class=w> </span><span class=nc>PluginBase</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Plugin system using ABC.&quot;&quot;&quot;</span>

    <span class=n>plugins</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__init_subclass__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>plugin_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>__init_subclass__</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=bp>cls</span><span class=o>.</span><span class=n>plugins</span><span class=p>[</span><span class=n>plugin_name</span><span class=p>]</span> <span class=o>=</span> <span class=bp>cls</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>execute</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>EmailPlugin</span><span class=p>(</span><span class=n>PluginBase</span><span class=p>,</span> <span class=n>plugin_name</span><span class=o>=</span><span class=s2>&quot;email&quot;</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>execute</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Sending email...&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>SMSPlugin</span><span class=p>(</span><span class=n>PluginBase</span><span class=p>,</span> <span class=n>plugin_name</span><span class=o>=</span><span class=s2>&quot;sms&quot;</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>execute</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Sending SMS...&quot;</span>

<span class=c1># Use plugin system</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Available plugins: </span><span class=si>{</span><span class=nb>list</span><span class=p>(</span><span class=n>PluginBase</span><span class=o>.</span><span class=n>plugins</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>plugin</span> <span class=o>=</span> <span class=n>PluginBase</span><span class=o>.</span><span class=n>plugins</span><span class=p>[</span><span class=s2>&quot;email&quot;</span><span class=p>]()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>plugin</span><span class=o>.</span><span class=n>execute</span><span class=p>())</span>

<span class=c1># 7. Template Method Pattern</span>
<span class=k>class</span><span class=w> </span><span class=nc>DataProcessor</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Template method pattern.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Template method (concrete).&quot;&quot;&quot;</span>
        <span class=n>validated</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>validate</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
        <span class=n>transformed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=n>validated</span><span class=p>)</span>
        <span class=n>filtered</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>transformed</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>filtered</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>validate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Validation step.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>transform</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Transformation step.&quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=nf>filter</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Optional filtering (default implementation).&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>data</span>

<span class=k>class</span><span class=w> </span><span class=nc>SquareProcessor</span><span class=p>(</span><span class=n>DataProcessor</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Square and filter positives.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>validate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
        <span class=c1># Remove None values</span>
        <span class=k>return</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span> <span class=k>if</span> <span class=n>x</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>transform</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
        <span class=c1># Square all values</span>
        <span class=k>return</span> <span class=p>[</span><span class=n>x</span> <span class=o>**</span> <span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>filter</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
        <span class=c1># Keep only values &gt; 10</span>
        <span class=k>return</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span> <span class=k>if</span> <span class=n>x</span> <span class=o>&gt;</span> <span class=mi>10</span><span class=p>]</span>

<span class=n>processor</span> <span class=o>=</span> <span class=n>SquareProcessor</span><span class=p>()</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>processor</span><span class=o>.</span><span class=n>process</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Processed: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 8. ABC with Multiple Inheritance</span>
<span class=k>class</span><span class=w> </span><span class=nc>Drawable</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Abstract drawable interface.&quot;&quot;&quot;</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>Clickable</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Abstract clickable interface.&quot;&quot;&quot;</span>

    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>on_click</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>Button</span><span class=p>(</span><span class=n>Drawable</span><span class=p>,</span> <span class=n>Clickable</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Button implements both interfaces.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>label</span> <span class=o>=</span> <span class=n>label</span>

    <span class=k>def</span><span class=w> </span><span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;[</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>label</span><span class=si>}</span><span class=s2>]&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>on_click</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Button &#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>label</span><span class=si>}</span><span class=s2>&#39; clicked&quot;</span>

<span class=n>button</span> <span class=o>=</span> <span class=n>Button</span><span class=p>(</span><span class=s2>&quot;Submit&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>button</span><span class=o>.</span><span class=n>draw</span><span class=p>())</span>
<span class=nb>print</span><span class=p>(</span><span class=n>button</span><span class=o>.</span><span class=n>on_click</span><span class=p>())</span>
</code></pre></div> <p><strong>ABC Features:</strong></p> <table> <thead> <tr> <th>Feature</th> <th>Purpose</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>@abstractmethod</strong></td> <td>Force implementation</td> <td><code>def method(self)</code></td> </tr> <tr> <td><strong>Abstract property</strong></td> <td>Force property</td> <td><code>@property @abstractmethod</code></td> </tr> <tr> <td><strong>Abstract classmethod</strong></td> <td>Force class method</td> <td><code>@classmethod @abstractmethod</code></td> </tr> <tr> <td><strong>Concrete methods</strong></td> <td>Optional override</td> <td><code>def method(self): ...</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"ABC: define interface that subclasses must implement"</li> <li>"<code>@abstractmethod</code>: force subclass implementation"</li> <li>"Cannot instantiate ABC directly"</li> <li>"Use for polymorphism and design contracts"</li> <li>"Abstract properties: <code>@property @abstractmethod</code>"</li> <li>"Multiple inheritance: implement multiple ABCs"</li> <li>"Template Method pattern: concrete method calls abstract"</li> <li>"Ensures consistent interface across implementations"</li> </ul> </div> </details> <hr> <h3 id=explain-concurrentfutures-module-netflix-meta-interview-question>Explain concurrent.futures Module - Netflix, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Concurrency</code>, <code>Threading</code>, <code>Multiprocessing</code> | <strong>Asked by:</strong> Netflix, Meta, Amazon, Google</p> <details class=success> <summary>View Answer</summary> <p><strong><code>concurrent.futures</code></strong> provides high-level interface for asynchronous execution using <code>ThreadPoolExecutor</code> (threads) and <code>ProcessPoolExecutor</code> (processes).</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>concurrent.futures</span><span class=w> </span><span class=kn>import</span> <span class=n>ThreadPoolExecutor</span><span class=p>,</span> <span class=n>ProcessPoolExecutor</span><span class=p>,</span> <span class=n>as_completed</span><span class=p>,</span> <span class=n>wait</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>
<span class=kn>import</span><span class=w> </span><span class=nn>requests</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span>

<span class=c1># 1. ThreadPoolExecutor Basic</span>
<span class=k>def</span><span class=w> </span><span class=nf>download_url</span><span class=p>(</span><span class=n>url</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simulate downloading URL.&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Downloaded </span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=n>urls</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s2>&quot;http://example.com/page</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span>

<span class=c1># Sequential</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[</span><span class=n>download_url</span><span class=p>(</span><span class=n>url</span><span class=p>)</span> <span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>urls</span><span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Sequential: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># Concurrent with ThreadPoolExecutor</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>download_url</span><span class=p>,</span> <span class=n>urls</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Concurrent: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>results</span><span class=p>)</span>

<span class=c1># 2. ProcessPoolExecutor for CPU-bound</span>
<span class=k>def</span><span class=w> </span><span class=nf>cpu_intensive</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;CPU-intensive computation.&quot;&quot;&quot;</span>
    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
        <span class=n>count</span> <span class=o>+=</span> <span class=n>i</span> <span class=o>**</span> <span class=mi>2</span>
    <span class=k>return</span> <span class=n>count</span>

<span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>5_000_000</span><span class=p>]</span> <span class=o>*</span> <span class=mi>4</span>

<span class=c1># Sequential</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>results</span> <span class=o>=</span> <span class=p>[</span><span class=n>cpu_intensive</span><span class=p>(</span><span class=n>n</span><span class=p>)</span> <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=n>numbers</span><span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>CPU Sequential: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># Parallel with ProcessPoolExecutor</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=k>with</span> <span class=n>ProcessPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>cpu_intensive</span><span class=p>,</span> <span class=n>numbers</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;CPU Parallel: </span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>start</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># 3. submit() and Future Objects</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_item</span><span class=p>(</span><span class=n>item</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process single item.&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>item</span> <span class=o>*</span> <span class=mi>2</span>

<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=c1># Submit tasks and get Future objects</span>
    <span class=n>futures</span> <span class=o>=</span> <span class=p>[</span><span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>process_item</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span>

    <span class=c1># Get results from futures</span>
    <span class=k>for</span> <span class=n>future</span> <span class=ow>in</span> <span class=n>futures</span><span class=p>:</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>future</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>  <span class=c1># Blocks until complete</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Result: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 4. as_completed() for Immediate Results</span>
<span class=k>def</span><span class=w> </span><span class=nf>slow_function</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Function with varying execution time.&quot;&quot;&quot;</span>
    <span class=n>delay</span> <span class=o>=</span> <span class=n>n</span> <span class=o>*</span> <span class=mf>0.1</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>delay</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>n</span><span class=p>,</span> <span class=n>delay</span>

<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>futures</span> <span class=o>=</span> <span class=p>[</span><span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>slow_function</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)]</span>

    <span class=c1># Process results as they complete (not in submission order)</span>
    <span class=k>for</span> <span class=n>future</span> <span class=ow>in</span> <span class=n>as_completed</span><span class=p>(</span><span class=n>futures</span><span class=p>):</span>
        <span class=n>n</span><span class=p>,</span> <span class=n>delay</span> <span class=o>=</span> <span class=n>future</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Task </span><span class=si>{</span><span class=n>n</span><span class=si>}</span><span class=s2> completed after </span><span class=si>{</span><span class=n>delay</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># 5. Future Exception Handling</span>
<span class=k>def</span><span class=w> </span><span class=nf>risky_operation</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Operation that might fail.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Cannot divide by zero&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=mi>10</span> <span class=o>/</span> <span class=n>n</span>

<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>futures</span> <span class=o>=</span> <span class=p>[</span><span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>risky_operation</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)]</span>

    <span class=k>for</span> <span class=n>future</span> <span class=ow>in</span> <span class=n>as_completed</span><span class=p>(</span><span class=n>futures</span><span class=p>):</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>result</span> <span class=o>=</span> <span class=n>future</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Success: </span><span class=si>{</span><span class=n>result</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 6. Timeout Handling</span>
<span class=k>def</span><span class=w> </span><span class=nf>long_running_task</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Task that might exceed timeout.&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Completed </span><span class=si>{</span><span class=n>n</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>futures</span> <span class=o>=</span> <span class=p>[</span><span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>long_running_task</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=p>[</span><span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>]]</span>

    <span class=k>for</span> <span class=n>future</span> <span class=ow>in</span> <span class=n>as_completed</span><span class=p>(</span><span class=n>futures</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mf>1.0</span><span class=p>):</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>result</span> <span class=o>=</span> <span class=n>future</span><span class=o>.</span><span class=n>result</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mf>1.0</span><span class=p>)</span>
            <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
        <span class=k>except</span> <span class=ne>TimeoutError</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Task timed out&quot;</span><span class=p>)</span>

<span class=c1># 7. Batch Processing</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_batch</span><span class=p>(</span><span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process batch of items.&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.2</span><span class=p>)</span>
    <span class=k>return</span> <span class=p>[</span><span class=n>item</span> <span class=o>*</span> <span class=mi>2</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>items</span><span class=p>]</span>

<span class=c1># Split data into batches</span>
<span class=n>data</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>
<span class=n>batch_size</span> <span class=o>=</span> <span class=mi>10</span>
<span class=n>batches</span> <span class=o>=</span> <span class=p>[</span><span class=n>data</span><span class=p>[</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=o>+</span><span class=n>batch_size</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>),</span> <span class=n>batch_size</span><span class=p>)]</span>

<span class=k>with</span> <span class=n>ProcessPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>results</span> <span class=o>=</span> <span class=n>executor</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>process_batch</span><span class=p>,</span> <span class=n>batches</span><span class=p>)</span>
    <span class=n>flattened</span> <span class=o>=</span> <span class=p>[</span><span class=n>item</span> <span class=k>for</span> <span class=n>batch</span> <span class=ow>in</span> <span class=n>results</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>batch</span><span class=p>]</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Processed </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>flattened</span><span class=p>)</span><span class=si>}</span><span class=s2> items in batches&quot;</span><span class=p>)</span>

<span class=c1># 8. wait() for Fine Control</span>
<span class=k>def</span><span class=w> </span><span class=nf>task_with_priority</span><span class=p>(</span><span class=n>priority</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Task with priority.&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>priority</span> <span class=o>*</span> <span class=mf>0.1</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>priority</span><span class=p>,</span> <span class=n>data</span>

<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>futures</span> <span class=o>=</span> <span class=p>{</span>
        <span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>task_with_priority</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;data</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>):</span> <span class=n>i</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
    <span class=p>}</span>

    <span class=c1># Wait for first task to complete</span>
    <span class=n>done</span><span class=p>,</span> <span class=n>pending</span> <span class=o>=</span> <span class=n>wait</span><span class=p>(</span><span class=n>futures</span><span class=p>,</span> <span class=n>return_when</span><span class=o>=</span><span class=s1>&#39;FIRST_COMPLETED&#39;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;First task done, </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>pending</span><span class=p>)</span><span class=si>}</span><span class=s2> pending&quot;</span><span class=p>)</span>

    <span class=c1># Wait for all tasks</span>
    <span class=n>done</span><span class=p>,</span> <span class=n>pending</span> <span class=o>=</span> <span class=n>wait</span><span class=p>(</span><span class=n>futures</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;All </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>done</span><span class=p>)</span><span class=si>}</span><span class=s2> tasks done&quot;</span><span class=p>)</span>

<span class=c1># 9. Real-World Example: Web Scraping</span>
<span class=k>def</span><span class=w> </span><span class=nf>fetch_page</span><span class=p>(</span><span class=n>url</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Fetch page with error handling.&quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># Simulate network delay</span>
        <span class=c1># In real code: response = requests.get(url, timeout=5)</span>
        <span class=k>return</span> <span class=p>{</span>
            <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=n>url</span><span class=p>,</span>
            <span class=s2>&quot;status&quot;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span>
            <span class=s2>&quot;content_length&quot;</span><span class=p>:</span> <span class=mi>1024</span>
        <span class=p>}</span>
    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
        <span class=k>return</span> <span class=p>{</span>
            <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=n>url</span><span class=p>,</span>
            <span class=s2>&quot;status&quot;</span><span class=p>:</span> <span class=s2>&quot;error&quot;</span><span class=p>,</span>
            <span class=s2>&quot;error&quot;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
        <span class=p>}</span>

<span class=n>urls</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s2>&quot;http://example.com/page</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>)]</span>

<span class=n>successful</span> <span class=o>=</span> <span class=mi>0</span>
<span class=n>failed</span> <span class=o>=</span> <span class=mi>0</span>

<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=n>future_to_url</span> <span class=o>=</span> <span class=p>{</span><span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>fetch_page</span><span class=p>,</span> <span class=n>url</span><span class=p>):</span> <span class=n>url</span> <span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>urls</span><span class=p>}</span>

    <span class=k>for</span> <span class=n>future</span> <span class=ow>in</span> <span class=n>as_completed</span><span class=p>(</span><span class=n>future_to_url</span><span class=p>):</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>future</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>result</span><span class=p>[</span><span class=s2>&quot;status&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
            <span class=n>successful</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>failed</span> <span class=o>+=</span> <span class=mi>1</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Fetched: </span><span class=si>{</span><span class=n>successful</span><span class=si>}</span><span class=s2> successful, </span><span class=si>{</span><span class=n>failed</span><span class=si>}</span><span class=s2> failed&quot;</span><span class=p>)</span>

<span class=c1># 10. Callback Functions</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_data</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process data.&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>n</span> <span class=o>*</span> <span class=mi>2</span>

<span class=k>def</span><span class=w> </span><span class=nf>on_complete</span><span class=p>(</span><span class=n>future</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Callback when future completes.&quot;&quot;&quot;</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>future</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Callback: processed </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
        <span class=n>future</span> <span class=o>=</span> <span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>process_data</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span>
        <span class=n>future</span><span class=o>.</span><span class=n>add_done_callback</span><span class=p>(</span><span class=n>on_complete</span><span class=p>)</span>

<span class=c1># 11. Context Manager Benefits</span>
<span class=c1># Automatic shutdown and cleanup</span>
<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=c1># Executor automatically waits for all tasks and shuts down</span>
    <span class=n>futures</span> <span class=o>=</span> <span class=p>[</span><span class=n>executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>process_item</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=c1># All tasks complete before this line</span>

<span class=c1># 12. Executor Configuration</span>
<span class=c1># Control thread/process pool size</span>
<span class=kn>import</span><span class=w> </span><span class=nn>os</span>

<span class=c1># Default: min(32, os.cpu_count() + 4) for ThreadPool</span>
<span class=c1># Default: os.cpu_count() for ProcessPool</span>

<span class=n>optimal_workers</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>cpu_count</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;CPU count: </span><span class=si>{</span><span class=n>optimal_workers</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># For I/O-bound: more workers than CPUs</span>
<span class=k>with</span> <span class=n>ThreadPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=n>optimal_workers</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=k>pass</span>

<span class=c1># For CPU-bound: workers = CPUs</span>
<span class=k>with</span> <span class=n>ProcessPoolExecutor</span><span class=p>(</span><span class=n>max_workers</span><span class=o>=</span><span class=n>optimal_workers</span><span class=p>)</span> <span class=k>as</span> <span class=n>executor</span><span class=p>:</span>
    <span class=k>pass</span>
</code></pre></div> <p><strong>Comparison:</strong></p> <table> <thead> <tr> <th>Executor</th> <th>Use Case</th> <th>Parallelism</th> <th>Overhead</th> <th>Sharing</th> </tr> </thead> <tbody> <tr> <td><strong>ThreadPoolExecutor</strong></td> <td>I/O-bound</td> <td>No (GIL)</td> <td>Low</td> <td>Easy (shared memory)</td> </tr> <tr> <td><strong>ProcessPoolExecutor</strong></td> <td>CPU-bound</td> <td>Yes</td> <td>High</td> <td>Complex (IPC)</td> </tr> </tbody> </table> <p><strong>Common Methods:</strong></p> <table> <thead> <tr> <th>Method</th> <th>Purpose</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>submit()</strong></td> <td>Submit single task</td> <td><code>executor.submit(func, arg)</code></td> </tr> <tr> <td><strong>map()</strong></td> <td>Submit multiple tasks</td> <td><code>executor.map(func, iterable)</code></td> </tr> <tr> <td><strong>result()</strong></td> <td>Get future result</td> <td><code>future.result(timeout=5)</code></td> </tr> <tr> <td><strong>as_completed()</strong></td> <td>Process as done</td> <td><code>for f in as_completed(futures)</code></td> </tr> <tr> <td><strong>wait()</strong></td> <td>Wait for completion</td> <td><code>done, pending = wait(futures)</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"ThreadPoolExecutor: I/O-bound tasks"</li> <li>"ProcessPoolExecutor: CPU-bound tasks"</li> <li>"<code>submit()</code>: returns Future object"</li> <li>"<code>map()</code>: parallel map operation"</li> <li>"<code>as_completed()</code>: process results as they finish"</li> <li>"Context manager: automatic cleanup"</li> <li>"Exception handling: <code>future.result()</code> raises exceptions"</li> <li>"Timeout support: <code>result(timeout=5)</code>"</li> <li>"Callbacks: <code>future.add_done_callback()</code>"</li> </ul> </div> </details> <hr> <h3 id=explain-pythons-logging-module-amazon-microsoft-interview-question>Explain Python's Logging Module - Amazon, Microsoft Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Logging</code>, <code>Debugging</code>, <code>Best Practices</code> | <strong>Asked by:</strong> Amazon, Microsoft, Google, Dropbox</p> <details class=success> <summary>View Answer</summary> <p><strong><code>logging</code></strong> module provides flexible logging for applications with configurable levels, formats, and outputs (console, file, network).</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>logging</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>
<span class=kn>from</span><span class=w> </span><span class=nn>logging.handlers</span><span class=w> </span><span class=kn>import</span> <span class=n>RotatingFileHandler</span><span class=p>,</span> <span class=n>TimedRotatingFileHandler</span>

<span class=c1># 1. Basic Logging</span>
<span class=n>logging</span><span class=o>.</span><span class=n>basicConfig</span><span class=p>(</span><span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>

<span class=n>logging</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Debug message&quot;</span><span class=p>)</span>
<span class=n>logging</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Info message&quot;</span><span class=p>)</span>
<span class=n>logging</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Warning message&quot;</span><span class=p>)</span>
<span class=n>logging</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;Error message&quot;</span><span class=p>)</span>
<span class=n>logging</span><span class=o>.</span><span class=n>critical</span><span class=p>(</span><span class=s2>&quot;Critical message&quot;</span><span class=p>)</span>

<span class=c1># 2. Custom Logger</span>
<span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
<span class=n>logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>

<span class=c1># Console handler</span>
<span class=n>console_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>StreamHandler</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>stdout</span><span class=p>)</span>
<span class=n>console_handler</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>

<span class=c1># File handler</span>
<span class=n>file_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>FileHandler</span><span class=p>(</span><span class=s1>&#39;app.log&#39;</span><span class=p>)</span>
<span class=n>file_handler</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>

<span class=c1># Format</span>
<span class=n>formatter</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>Formatter</span><span class=p>(</span>
    <span class=s1>&#39;</span><span class=si>%(asctime)s</span><span class=s1> - </span><span class=si>%(name)s</span><span class=s1> - </span><span class=si>%(levelname)s</span><span class=s1> - </span><span class=si>%(message)s</span><span class=s1>&#39;</span><span class=p>,</span>
    <span class=n>datefmt</span><span class=o>=</span><span class=s1>&#39;%Y-%m-</span><span class=si>%d</span><span class=s1> %H:%M:%S&#39;</span>
<span class=p>)</span>
<span class=n>console_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>formatter</span><span class=p>)</span>
<span class=n>file_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>formatter</span><span class=p>)</span>

<span class=n>logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>console_handler</span><span class=p>)</span>
<span class=n>logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>file_handler</span><span class=p>)</span>

<span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Debug to file only&quot;</span><span class=p>)</span>
<span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Info to both&quot;</span><span class=p>)</span>
<span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;Error to both&quot;</span><span class=p>)</span>

<span class=c1># 3. Logging with Context</span>
<span class=k>def</span><span class=w> </span><span class=nf>divide</span><span class=p>(</span><span class=n>a</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Division with logging.&quot;&quot;&quot;</span>
    <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Dividing </span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2> by </span><span class=si>{</span><span class=n>b</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>a</span> <span class=o>/</span> <span class=n>b</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Result: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>except</span> <span class=ne>ZeroDivisionError</span><span class=p>:</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Division by zero: </span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2> / </span><span class=si>{</span><span class=n>b</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>exc_info</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
        <span class=k>raise</span>

<span class=c1># divide(10, 2)</span>
<span class=c1># divide(10, 0)</span>

<span class=c1># 4. Structured Logging</span>
<span class=k>class</span><span class=w> </span><span class=nc>StructuredLogger</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Logger with structured output.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>log_request</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>method</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>status</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>duration</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Log HTTP request.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
            <span class=s2>&quot;HTTP Request&quot;</span><span class=p>,</span>
            <span class=n>extra</span><span class=o>=</span><span class=p>{</span>
                <span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=n>method</span><span class=p>,</span>
                <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>path</span><span class=p>,</span>
                <span class=s2>&quot;status&quot;</span><span class=p>:</span> <span class=n>status</span><span class=p>,</span>
                <span class=s2>&quot;duration_ms&quot;</span><span class=p>:</span> <span class=n>duration</span> <span class=o>*</span> <span class=mi>1000</span>
            <span class=p>}</span>
        <span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>log_database_query</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>query</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>rows</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>duration</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Log database query.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
            <span class=s2>&quot;Database Query&quot;</span><span class=p>,</span>
            <span class=n>extra</span><span class=o>=</span><span class=p>{</span>
                <span class=s2>&quot;query&quot;</span><span class=p>:</span> <span class=n>query</span><span class=p>,</span>
                <span class=s2>&quot;rows_affected&quot;</span><span class=p>:</span> <span class=n>rows</span><span class=p>,</span>
                <span class=s2>&quot;duration_ms&quot;</span><span class=p>:</span> <span class=n>duration</span> <span class=o>*</span> <span class=mi>1000</span>
            <span class=p>}</span>
        <span class=p>)</span>

<span class=n>structured</span> <span class=o>=</span> <span class=n>StructuredLogger</span><span class=p>(</span><span class=s2>&quot;api&quot;</span><span class=p>)</span>
<span class=n>structured</span><span class=o>.</span><span class=n>log_request</span><span class=p>(</span><span class=s2>&quot;GET&quot;</span><span class=p>,</span> <span class=s2>&quot;/users&quot;</span><span class=p>,</span> <span class=mi>200</span><span class=p>,</span> <span class=mf>0.045</span><span class=p>)</span>
<span class=n>structured</span><span class=o>.</span><span class=n>log_database_query</span><span class=p>(</span><span class=s2>&quot;SELECT * FROM users&quot;</span><span class=p>,</span> <span class=mi>42</span><span class=p>,</span> <span class=mf>0.023</span><span class=p>)</span>

<span class=c1># 5. Rotating File Handler</span>
<span class=n>rotating_handler</span> <span class=o>=</span> <span class=n>RotatingFileHandler</span><span class=p>(</span>
    <span class=s1>&#39;app_rotating.log&#39;</span><span class=p>,</span>
    <span class=n>maxBytes</span><span class=o>=</span><span class=mi>1024</span> <span class=o>*</span> <span class=mi>1024</span><span class=p>,</span>  <span class=c1># 1 MB</span>
    <span class=n>backupCount</span><span class=o>=</span><span class=mi>5</span>           <span class=c1># Keep 5 old files</span>
<span class=p>)</span>
<span class=n>rotating_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>formatter</span><span class=p>)</span>

<span class=n>rotating_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;rotating&#39;</span><span class=p>)</span>
<span class=n>rotating_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>rotating_handler</span><span class=p>)</span>
<span class=n>rotating_logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>

<span class=c1># Logs automatically rotate when size limit reached</span>
<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000</span><span class=p>):</span>
    <span class=n>rotating_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Message </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>: &quot;</span> <span class=o>+</span> <span class=s2>&quot;x&quot;</span> <span class=o>*</span> <span class=mi>100</span><span class=p>)</span>

<span class=c1># 6. Time-Based Rotating Handler</span>
<span class=n>timed_handler</span> <span class=o>=</span> <span class=n>TimedRotatingFileHandler</span><span class=p>(</span>
    <span class=s1>&#39;app_timed.log&#39;</span><span class=p>,</span>
    <span class=n>when</span><span class=o>=</span><span class=s1>&#39;midnight&#39;</span><span class=p>,</span>  <span class=c1># Rotate at midnight</span>
    <span class=n>interval</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>       <span class=c1># Every 1 day</span>
    <span class=n>backupCount</span><span class=o>=</span><span class=mi>7</span>     <span class=c1># Keep 7 days</span>
<span class=p>)</span>
<span class=n>timed_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>formatter</span><span class=p>)</span>

<span class=n>timed_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;timed&#39;</span><span class=p>)</span>
<span class=n>timed_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>timed_handler</span><span class=p>)</span>

<span class=c1># 7. Custom Formatter</span>
<span class=k>class</span><span class=w> </span><span class=nc>ColoredFormatter</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>Formatter</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Colored console output.&quot;&quot;&quot;</span>

    <span class=n>COLORS</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s1>&#39;DEBUG&#39;</span><span class=p>:</span> <span class=s1>&#39;</span><span class=se>\033</span><span class=s1>[36m&#39;</span><span class=p>,</span>      <span class=c1># Cyan</span>
        <span class=s1>&#39;INFO&#39;</span><span class=p>:</span> <span class=s1>&#39;</span><span class=se>\033</span><span class=s1>[32m&#39;</span><span class=p>,</span>       <span class=c1># Green</span>
        <span class=s1>&#39;WARNING&#39;</span><span class=p>:</span> <span class=s1>&#39;</span><span class=se>\033</span><span class=s1>[33m&#39;</span><span class=p>,</span>    <span class=c1># Yellow</span>
        <span class=s1>&#39;ERROR&#39;</span><span class=p>:</span> <span class=s1>&#39;</span><span class=se>\033</span><span class=s1>[31m&#39;</span><span class=p>,</span>      <span class=c1># Red</span>
        <span class=s1>&#39;CRITICAL&#39;</span><span class=p>:</span> <span class=s1>&#39;</span><span class=se>\033</span><span class=s1>[35m&#39;</span><span class=p>,</span>   <span class=c1># Magenta</span>
    <span class=p>}</span>
    <span class=n>RESET</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=se>\033</span><span class=s1>[0m&#39;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>format</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>record</span><span class=p>):</span>
        <span class=n>color</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>COLORS</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>record</span><span class=o>.</span><span class=n>levelname</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>RESET</span><span class=p>)</span>
        <span class=n>record</span><span class=o>.</span><span class=n>levelname</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>color</span><span class=si>}{</span><span class=n>record</span><span class=o>.</span><span class=n>levelname</span><span class=si>}{</span><span class=bp>self</span><span class=o>.</span><span class=n>RESET</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>record</span><span class=p>)</span>

<span class=n>colored_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>StreamHandler</span><span class=p>()</span>
<span class=n>colored_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>ColoredFormatter</span><span class=p>(</span>
    <span class=s1>&#39;</span><span class=si>%(levelname)s</span><span class=s1> - </span><span class=si>%(message)s</span><span class=s1>&#39;</span>
<span class=p>))</span>

<span class=n>colored_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;colored&#39;</span><span class=p>)</span>
<span class=n>colored_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>colored_handler</span><span class=p>)</span>
<span class=n>colored_logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>

<span class=c1># colored_logger.debug(&quot;Debug message&quot;)</span>
<span class=c1># colored_logger.info(&quot;Info message&quot;)</span>
<span class=c1># colored_logger.warning(&quot;Warning message&quot;)</span>

<span class=c1># 8. JSON Logging</span>
<span class=kn>import</span><span class=w> </span><span class=nn>json</span>

<span class=k>class</span><span class=w> </span><span class=nc>JSONFormatter</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>Formatter</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Format logs as JSON.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>format</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>record</span><span class=p>):</span>
        <span class=n>log_data</span> <span class=o>=</span> <span class=p>{</span>
            <span class=s2>&quot;timestamp&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>formatTime</span><span class=p>(</span><span class=n>record</span><span class=p>),</span>
            <span class=s2>&quot;level&quot;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>levelname</span><span class=p>,</span>
            <span class=s2>&quot;logger&quot;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>getMessage</span><span class=p>(),</span>
            <span class=s2>&quot;module&quot;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>module</span><span class=p>,</span>
            <span class=s2>&quot;function&quot;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>funcName</span><span class=p>,</span>
            <span class=s2>&quot;line&quot;</span><span class=p>:</span> <span class=n>record</span><span class=o>.</span><span class=n>lineno</span>
        <span class=p>}</span>

        <span class=c1># Add extra fields</span>
        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>record</span><span class=p>,</span> <span class=s1>&#39;user_id&#39;</span><span class=p>):</span>
            <span class=n>log_data</span><span class=p>[</span><span class=s1>&#39;user_id&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>record</span><span class=o>.</span><span class=n>user_id</span>

        <span class=k>return</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>log_data</span><span class=p>)</span>

<span class=n>json_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>FileHandler</span><span class=p>(</span><span class=s1>&#39;app.json.log&#39;</span><span class=p>)</span>
<span class=n>json_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>JSONFormatter</span><span class=p>())</span>

<span class=n>json_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;json&#39;</span><span class=p>)</span>
<span class=n>json_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>json_handler</span><span class=p>)</span>

<span class=n>json_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;User login&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;user_id&quot;</span><span class=p>:</span> <span class=mi>12345</span><span class=p>})</span>

<span class=c1># 9. Filtering Logs</span>
<span class=k>class</span><span class=w> </span><span class=nc>SensitiveDataFilter</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>Filter</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Filter out sensitive data.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>filter</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>record</span><span class=p>):</span>
        <span class=c1># Redact credit card numbers</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>re</span>
        <span class=n>message</span> <span class=o>=</span> <span class=n>record</span><span class=o>.</span><span class=n>getMessage</span><span class=p>()</span>
        <span class=n>record</span><span class=o>.</span><span class=n>msg</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span>
            <span class=sa>r</span><span class=s1>&#39;\b\d</span><span class=si>{4}</span><span class=s1>[\s-]?\d</span><span class=si>{4}</span><span class=s1>[\s-]?\d</span><span class=si>{4}</span><span class=s1>[\s-]?\d</span><span class=si>{4}</span><span class=s1>\b&#39;</span><span class=p>,</span>
            <span class=s1>&#39;XXXX-XXXX-XXXX-XXXX&#39;</span><span class=p>,</span>
            <span class=nb>str</span><span class=p>(</span><span class=n>record</span><span class=o>.</span><span class=n>msg</span><span class=p>)</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=kc>True</span>

<span class=n>filtered_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;filtered&#39;</span><span class=p>)</span>
<span class=n>filtered_logger</span><span class=o>.</span><span class=n>addFilter</span><span class=p>(</span><span class=n>SensitiveDataFilter</span><span class=p>())</span>
<span class=n>handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>StreamHandler</span><span class=p>()</span>
<span class=n>filtered_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>

<span class=c1># filtered_logger.info(&quot;Payment with card 1234-5678-9012-3456&quot;)</span>

<span class=c1># 10. Performance Logging</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>
<span class=kn>import</span><span class=w> </span><span class=nn>functools</span>

<span class=k>def</span><span class=w> </span><span class=nf>log_execution_time</span><span class=p>(</span><span class=n>logger</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator to log function execution time.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
            <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Starting </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=k>try</span><span class=p>:</span>
                <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
                <span class=n>duration</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
                <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s2>&quot;Finished </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> in </span><span class=si>{</span><span class=n>duration</span><span class=si>:</span><span class=s2>.3f</span><span class=si>}</span><span class=s2>s&quot;</span>
                <span class=p>)</span>
                <span class=k>return</span> <span class=n>result</span>
            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
                <span class=n>duration</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
                <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s2>&quot;Failed </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> after </span><span class=si>{</span><span class=n>duration</span><span class=si>:</span><span class=s2>.3f</span><span class=si>}</span><span class=s2>s: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
                    <span class=n>exc_info</span><span class=o>=</span><span class=kc>True</span>
                <span class=p>)</span>
                <span class=k>raise</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=n>perf_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;performance&#39;</span><span class=p>)</span>

<span class=nd>@log_execution_time</span><span class=p>(</span><span class=n>perf_logger</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>slow_function</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>n</span> <span class=o>*</span> <span class=mf>0.1</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>n</span> <span class=o>*</span> <span class=mi>2</span>

<span class=c1># slow_function(5)</span>

<span class=c1># 11. Module-Level Loggers</span>
<span class=c1># In each module, create logger with module name</span>
<span class=n>module_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>

<span class=c1># This creates hierarchical loggers:</span>
<span class=c1># myapp.models.user</span>
<span class=c1># myapp.views.api</span>
<span class=c1># myapp.utils.helpers</span>

<span class=c1># 12. Production Configuration</span>
<span class=k>def</span><span class=w> </span><span class=nf>setup_production_logging</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Setup logging for production.&quot;&quot;&quot;</span>
    <span class=c1># Root logger</span>
    <span class=n>root_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>()</span>
    <span class=n>root_logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>

    <span class=c1># Remove default handlers</span>
    <span class=n>root_logger</span><span class=o>.</span><span class=n>handlers</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=c1># Console: errors only</span>
    <span class=n>console</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>StreamHandler</span><span class=p>()</span>
    <span class=n>console</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>ERROR</span><span class=p>)</span>
    <span class=n>console</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>Formatter</span><span class=p>(</span>
        <span class=s1>&#39;</span><span class=si>%(asctime)s</span><span class=s1> - </span><span class=si>%(name)s</span><span class=s1> - </span><span class=si>%(levelname)s</span><span class=s1> - </span><span class=si>%(message)s</span><span class=s1>&#39;</span>
    <span class=p>))</span>
    <span class=n>root_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>console</span><span class=p>)</span>

    <span class=c1># File: all logs with rotation</span>
    <span class=n>file_handler</span> <span class=o>=</span> <span class=n>RotatingFileHandler</span><span class=p>(</span>
        <span class=s1>&#39;production.log&#39;</span><span class=p>,</span>
        <span class=n>maxBytes</span><span class=o>=</span><span class=mi>10</span> <span class=o>*</span> <span class=mi>1024</span> <span class=o>*</span> <span class=mi>1024</span><span class=p>,</span>  <span class=c1># 10 MB</span>
        <span class=n>backupCount</span><span class=o>=</span><span class=mi>10</span>
    <span class=p>)</span>
    <span class=n>file_handler</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>
    <span class=n>file_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>Formatter</span><span class=p>(</span>
        <span class=s1>&#39;</span><span class=si>%(asctime)s</span><span class=s1> - </span><span class=si>%(name)s</span><span class=s1> - </span><span class=si>%(levelname)s</span><span class=s1> - </span><span class=si>%(funcName)s</span><span class=s1>:</span><span class=si>%(lineno)d</span><span class=s1> - </span><span class=si>%(message)s</span><span class=s1>&#39;</span>
    <span class=p>))</span>
    <span class=n>root_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>file_handler</span><span class=p>)</span>

    <span class=c1># Separate error file</span>
    <span class=n>error_handler</span> <span class=o>=</span> <span class=n>RotatingFileHandler</span><span class=p>(</span>
        <span class=s1>&#39;errors.log&#39;</span><span class=p>,</span>
        <span class=n>maxBytes</span><span class=o>=</span><span class=mi>10</span> <span class=o>*</span> <span class=mi>1024</span> <span class=o>*</span> <span class=mi>1024</span><span class=p>,</span>
        <span class=n>backupCount</span><span class=o>=</span><span class=mi>10</span>
    <span class=p>)</span>
    <span class=n>error_handler</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>ERROR</span><span class=p>)</span>
    <span class=n>error_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>Formatter</span><span class=p>(</span>
        <span class=s1>&#39;</span><span class=si>%(asctime)s</span><span class=s1> - </span><span class=si>%(name)s</span><span class=s1> - </span><span class=si>%(levelname)s</span><span class=s1> - </span><span class=si>%(message)s</span><span class=se>\n</span><span class=si>%(pathname)s</span><span class=s1>:</span><span class=si>%(lineno)d</span><span class=se>\n</span><span class=si>%(exc_info)s</span><span class=s1>&#39;</span>
    <span class=p>))</span>
    <span class=n>root_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>error_handler</span><span class=p>)</span>

<span class=c1># setup_production_logging()</span>
</code></pre></div> <p><strong>Log Levels:</strong></p> <table> <thead> <tr> <th>Level</th> <th>Numeric</th> <th>Purpose</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>DEBUG</strong></td> <td>10</td> <td>Detailed info</td> <td>Variable values</td> </tr> <tr> <td><strong>INFO</strong></td> <td>20</td> <td>General info</td> <td>Request started</td> </tr> <tr> <td><strong>WARNING</strong></td> <td>30</td> <td>Warning</td> <td>Deprecated API</td> </tr> <tr> <td><strong>ERROR</strong></td> <td>40</td> <td>Error</td> <td>Failed request</td> </tr> <tr> <td><strong>CRITICAL</strong></td> <td>50</td> <td>Critical</td> <td>System crash</td> </tr> </tbody> </table> <p><strong>Best Practices:</strong></p> <table> <thead> <tr> <th>Practice</th> <th>Reason</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Use <code>__name__</code></strong></td> <td>Hierarchical loggers</td> <td><code>logging.getLogger(__name__)</code></td> </tr> <tr> <td><strong>Lazy formatting</strong></td> <td>Performance</td> <td><code>logger.info("Value: %s", value)</code></td> </tr> <tr> <td><strong>exc_info=True</strong></td> <td>Full traceback</td> <td><code>logger.error("Error", exc_info=True)</code></td> </tr> <tr> <td><strong>Rotate logs</strong></td> <td>Prevent disk full</td> <td><code>RotatingFileHandler</code></td> </tr> <tr> <td><strong>JSON for production</strong></td> <td>Structured parsing</td> <td><code>JSONFormatter</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Five levels: DEBUG, INFO, WARNING, ERROR, CRITICAL"</li> <li>"<code>logging.getLogger(__name__)</code>: module-level logger"</li> <li>"Handlers: console, file, rotating, network"</li> <li>"Formatters: customize log output"</li> <li>"Filters: exclude/modify log records"</li> <li>"<code>exc_info=True</code>: include full traceback"</li> <li>"Lazy formatting: <code>logger.info('x=%s', x)</code>"</li> <li>"Production: rotate logs, separate error file"</li> </ul> </div> </details> <hr> <h3 id=explain-pythons-pathlib-module-google-dropbox-interview-question>Explain Python's pathlib Module - Google, Dropbox Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Files</code>, <code>Paths</code>, <code>Modern Python</code> | <strong>Asked by:</strong> Google, Dropbox, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong><code>pathlib</code></strong> provides object-oriented filesystem paths. It's more intuitive than <code>os.path</code> with better cross-platform support.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
<span class=kn>import</span><span class=w> </span><span class=nn>os</span>

<span class=c1># 1. Basic Path Creation</span>
<span class=c1># Current directory</span>
<span class=n>cwd</span> <span class=o>=</span> <span class=n>Path</span><span class=o>.</span><span class=n>cwd</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Current: </span><span class=si>{</span><span class=n>cwd</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Home directory</span>
<span class=n>home</span> <span class=o>=</span> <span class=n>Path</span><span class=o>.</span><span class=n>home</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Home: </span><span class=si>{</span><span class=n>home</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Create path from string</span>
<span class=n>path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;/usr/local/bin/python&#39;</span><span class=p>)</span>

<span class=c1># Join paths with /</span>
<span class=n>config_path</span> <span class=o>=</span> <span class=n>Path</span><span class=o>.</span><span class=n>home</span><span class=p>()</span> <span class=o>/</span> <span class=s1>&#39;.config&#39;</span> <span class=o>/</span> <span class=s1>&#39;app&#39;</span> <span class=o>/</span> <span class=s1>&#39;settings.json&#39;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>

<span class=c1># 2. Path Properties</span>
<span class=n>path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;/Users/alice/documents/report.pdf&#39;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Name: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>              <span class=c1># report.pdf</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Stem: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>stem</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>              <span class=c1># report</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Suffix: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>suffix</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>          <span class=c1># .pdf</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Parent: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>parent</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>          <span class=c1># /Users/alice/documents</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Parents: </span><span class=si>{</span><span class=nb>list</span><span class=p>(</span><span class=n>path</span><span class=o>.</span><span class=n>parents</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># All parents</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Anchor: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>anchor</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>          <span class=c1># /</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Parts: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>parts</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>            <span class=c1># Tuple of parts</span>

<span class=c1># 3. Path Manipulation</span>
<span class=c1># Change extension</span>
<span class=n>new_path</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=s1>&#39;.txt&#39;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>new_path</span><span class=p>)</span>  <span class=c1># /Users/alice/documents/report.txt</span>

<span class=c1># Change name</span>
<span class=n>new_path</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>with_name</span><span class=p>(</span><span class=s1>&#39;summary.pdf&#39;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>new_path</span><span class=p>)</span>  <span class=c1># /Users/alice/documents/summary.pdf</span>

<span class=c1># Change stem (keep extension)</span>
<span class=n>new_path</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>with_stem</span><span class=p>(</span><span class=s1>&#39;final_report&#39;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>new_path</span><span class=p>)</span>  <span class=c1># /Users/alice/documents/final_report.pdf</span>

<span class=c1># Absolute path</span>
<span class=n>relative</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;docs/file.txt&#39;</span><span class=p>)</span>
<span class=n>absolute</span> <span class=o>=</span> <span class=n>relative</span><span class=o>.</span><span class=n>resolve</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>absolute</span><span class=p>)</span>

<span class=c1># 4. File Operations</span>
<span class=c1># Create file</span>
<span class=n>file_path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;temp_file.txt&#39;</span><span class=p>)</span>
<span class=n>file_path</span><span class=o>.</span><span class=n>touch</span><span class=p>()</span>  <span class=c1># Create empty file</span>

<span class=c1># Write text</span>
<span class=n>file_path</span><span class=o>.</span><span class=n>write_text</span><span class=p>(</span><span class=s1>&#39;Hello, World!</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>

<span class=c1># Read text</span>
<span class=n>content</span> <span class=o>=</span> <span class=n>file_path</span><span class=o>.</span><span class=n>read_text</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>content</span><span class=p>)</span>

<span class=c1># Write bytes</span>
<span class=n>file_path</span><span class=o>.</span><span class=n>write_bytes</span><span class=p>(</span><span class=sa>b</span><span class=s1>&#39;</span><span class=se>\x00\x01\x02</span><span class=s1>&#39;</span><span class=p>)</span>

<span class=c1># Read bytes</span>
<span class=n>data</span> <span class=o>=</span> <span class=n>file_path</span><span class=o>.</span><span class=n>read_bytes</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

<span class=c1># Append text</span>
<span class=k>with</span> <span class=n>file_path</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;Appended line</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>

<span class=c1># Delete file</span>
<span class=n>file_path</span><span class=o>.</span><span class=n>unlink</span><span class=p>()</span>

<span class=c1># 5. Directory Operations</span>
<span class=c1># Create directory</span>
<span class=n>dir_path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;my_dir&#39;</span><span class=p>)</span>
<span class=n>dir_path</span><span class=o>.</span><span class=n>mkdir</span><span class=p>(</span><span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

<span class=c1># Create parent directories</span>
<span class=n>nested</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;a/b/c/d&#39;</span><span class=p>)</span>
<span class=n>nested</span><span class=o>.</span><span class=n>mkdir</span><span class=p>(</span><span class=n>parents</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

<span class=c1># Remove directory</span>
<span class=n>dir_path</span><span class=o>.</span><span class=n>rmdir</span><span class=p>()</span>  <span class=c1># Only if empty</span>

<span class=c1># Remove recursively</span>
<span class=kn>import</span><span class=w> </span><span class=nn>shutil</span>
<span class=n>shutil</span><span class=o>.</span><span class=n>rmtree</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span>

<span class=c1># 6. Checking Existence and Type</span>
<span class=n>path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;example.txt&#39;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Exists: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Is file: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Is dir: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>is_dir</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Is symlink: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>is_symlink</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Is absolute: </span><span class=si>{</span><span class=n>path</span><span class=o>.</span><span class=n>is_absolute</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 7. Listing Directory Contents</span>
<span class=c1># List all items</span>
<span class=n>directory</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
<span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>directory</span><span class=o>.</span><span class=n>iterdir</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>

<span class=c1># Glob patterns</span>
<span class=c1># Find all Python files</span>
<span class=k>for</span> <span class=n>py_file</span> <span class=ow>in</span> <span class=n>directory</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*.py&#39;</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>py_file</span><span class=p>)</span>

<span class=c1># Recursive glob</span>
<span class=k>for</span> <span class=n>py_file</span> <span class=ow>in</span> <span class=n>directory</span><span class=o>.</span><span class=n>rglob</span><span class=p>(</span><span class=s1>&#39;*.py&#39;</span><span class=p>):</span>  <span class=c1># ** equivalent</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>py_file</span><span class=p>)</span>

<span class=c1># Multiple patterns</span>
<span class=n>patterns</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;*.py&#39;</span><span class=p>,</span> <span class=s1>&#39;*.txt&#39;</span><span class=p>,</span> <span class=s1>&#39;*.md&#39;</span><span class=p>]</span>
<span class=k>for</span> <span class=n>pattern</span> <span class=ow>in</span> <span class=n>patterns</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>file</span> <span class=ow>in</span> <span class=n>directory</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=n>pattern</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=n>file</span><span class=p>)</span>

<span class=c1># 8. File Information</span>
<span class=n>path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;example.txt&#39;</span><span class=p>)</span>
<span class=k>if</span> <span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
    <span class=n>stat</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>stat</span><span class=p>()</span>

    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Size: </span><span class=si>{</span><span class=n>stat</span><span class=o>.</span><span class=n>st_size</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Modified: </span><span class=si>{</span><span class=n>stat</span><span class=o>.</span><span class=n>st_mtime</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Created: </span><span class=si>{</span><span class=n>stat</span><span class=o>.</span><span class=n>st_ctime</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Permissions: </span><span class=si>{</span><span class=nb>oct</span><span class=p>(</span><span class=n>stat</span><span class=o>.</span><span class=n>st_mode</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Human-readable size</span>
<span class=k>def</span><span class=w> </span><span class=nf>human_size</span><span class=p>(</span><span class=n>size</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert bytes to human-readable format.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>unit</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;B&#39;</span><span class=p>,</span> <span class=s1>&#39;KB&#39;</span><span class=p>,</span> <span class=s1>&#39;MB&#39;</span><span class=p>,</span> <span class=s1>&#39;GB&#39;</span><span class=p>,</span> <span class=s1>&#39;TB&#39;</span><span class=p>]:</span>
        <span class=k>if</span> <span class=n>size</span> <span class=o>&lt;</span> <span class=mi>1024</span><span class=p>:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>size</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>unit</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=n>size</span> <span class=o>/=</span> <span class=mi>1024</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>size</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2> PB&quot;</span>

<span class=k>if</span> <span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Size: </span><span class=si>{</span><span class=n>human_size</span><span class=p>(</span><span class=n>path</span><span class=o>.</span><span class=n>stat</span><span class=p>()</span><span class=o>.</span><span class=n>st_size</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 9. Finding Files</span>
<span class=k>def</span><span class=w> </span><span class=nf>find_files</span><span class=p>(</span><span class=n>directory</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>pattern</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>max_size</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Find files matching pattern and size constraint.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>file</span> <span class=ow>in</span> <span class=n>directory</span><span class=o>.</span><span class=n>rglob</span><span class=p>(</span><span class=n>pattern</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>file</span><span class=o>.</span><span class=n>is_file</span><span class=p>():</span>
            <span class=k>if</span> <span class=n>max_size</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>file</span><span class=o>.</span><span class=n>stat</span><span class=p>()</span><span class=o>.</span><span class=n>st_size</span> <span class=o>&lt;=</span> <span class=n>max_size</span><span class=p>:</span>
                <span class=k>yield</span> <span class=n>file</span>

<span class=c1># Find all small Python files (&lt; 1 KB)</span>
<span class=n>small_files</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>find_files</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>),</span> <span class=s1>&#39;*.py&#39;</span><span class=p>,</span> <span class=n>max_size</span><span class=o>=</span><span class=mi>1024</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>small_files</span><span class=p>)</span><span class=si>}</span><span class=s2> small Python files&quot;</span><span class=p>)</span>

<span class=c1># 10. Working with Multiple Extensions</span>
<span class=n>path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;archive.tar.gz&#39;</span><span class=p>)</span>

<span class=c1># Get all extensions</span>
<span class=n>suffixes</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>suffixes</span>  <span class=c1># [&#39;.tar&#39;, &#39;.gz&#39;]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>suffixes</span><span class=p>)</span>

<span class=c1># Remove all extensions</span>
<span class=n>stem</span> <span class=o>=</span> <span class=n>path</span>
<span class=k>while</span> <span class=n>stem</span><span class=o>.</span><span class=n>suffix</span><span class=p>:</span>
    <span class=n>stem</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>stem</span><span class=o>.</span><span class=n>stem</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>stem</span><span class=p>)</span>  <span class=c1># archive</span>

<span class=c1># 11. Temporary Files</span>
<span class=kn>import</span><span class=w> </span><span class=nn>tempfile</span>

<span class=c1># Temporary directory</span>
<span class=k>with</span> <span class=n>tempfile</span><span class=o>.</span><span class=n>TemporaryDirectory</span><span class=p>()</span> <span class=k>as</span> <span class=n>tmpdir</span><span class=p>:</span>
    <span class=n>tmp_path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>tmpdir</span><span class=p>)</span>

    <span class=c1># Create files in temp directory</span>
    <span class=n>file1</span> <span class=o>=</span> <span class=n>tmp_path</span> <span class=o>/</span> <span class=s1>&#39;file1.txt&#39;</span>
    <span class=n>file1</span><span class=o>.</span><span class=n>write_text</span><span class=p>(</span><span class=s1>&#39;Temporary content&#39;</span><span class=p>)</span>

    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Created: </span><span class=si>{</span><span class=n>file1</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Exists: </span><span class=si>{</span><span class=n>file1</span><span class=o>.</span><span class=n>exists</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=c1># Directory auto-deleted</span>

<span class=c1># 12. Path Comparison</span>
<span class=n>path1</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;/usr/local/bin&#39;</span><span class=p>)</span>
<span class=n>path2</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;/usr/local/bin&#39;</span><span class=p>)</span>
<span class=n>path3</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;/usr/local/lib&#39;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Equal: </span><span class=si>{</span><span class=n>path1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>path2</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Not equal: </span><span class=si>{</span><span class=n>path1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>path3</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Relative to</span>
<span class=n>base</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;/usr/local&#39;</span><span class=p>)</span>
<span class=n>full_path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s1>&#39;/usr/local/bin/python&#39;</span><span class=p>)</span>
<span class=n>relative</span> <span class=o>=</span> <span class=n>full_path</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>base</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>relative</span><span class=p>)</span>  <span class=c1># bin/python</span>

<span class=c1># 13. Real-World Example: Project Structure</span>
<span class=k>def</span><span class=w> </span><span class=nf>create_project_structure</span><span class=p>(</span><span class=n>project_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create Python project structure.&quot;&quot;&quot;</span>
    <span class=n>base</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>project_name</span><span class=p>)</span>

    <span class=c1># Create directories</span>
    <span class=n>directories</span> <span class=o>=</span> <span class=p>[</span>
        <span class=n>base</span><span class=p>,</span>
        <span class=n>base</span> <span class=o>/</span> <span class=s1>&#39;src&#39;</span> <span class=o>/</span> <span class=n>project_name</span><span class=p>,</span>
        <span class=n>base</span> <span class=o>/</span> <span class=s1>&#39;tests&#39;</span><span class=p>,</span>
        <span class=n>base</span> <span class=o>/</span> <span class=s1>&#39;docs&#39;</span><span class=p>,</span>
        <span class=n>base</span> <span class=o>/</span> <span class=s1>&#39;scripts&#39;</span>
    <span class=p>]</span>

    <span class=k>for</span> <span class=n>directory</span> <span class=ow>in</span> <span class=n>directories</span><span class=p>:</span>
        <span class=n>directory</span><span class=o>.</span><span class=n>mkdir</span><span class=p>(</span><span class=n>parents</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

    <span class=c1># Create files</span>
    <span class=p>(</span><span class=n>base</span> <span class=o>/</span> <span class=s1>&#39;README.md&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>write_text</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;# </span><span class=si>{</span><span class=n>project_name</span><span class=si>}</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
    <span class=p>(</span><span class=n>base</span> <span class=o>/</span> <span class=s1>&#39;requirements.txt&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>write_text</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
    <span class=p>(</span><span class=n>base</span> <span class=o>/</span> <span class=s1>&#39;.gitignore&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>write_text</span><span class=p>(</span><span class=s1>&#39;__pycache__/</span><span class=se>\n</span><span class=s1>*.pyc</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
    <span class=p>(</span><span class=n>base</span> <span class=o>/</span> <span class=s1>&#39;src&#39;</span> <span class=o>/</span> <span class=n>project_name</span> <span class=o>/</span> <span class=s1>&#39;__init__.py&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>write_text</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
    <span class=p>(</span><span class=n>base</span> <span class=o>/</span> <span class=s1>&#39;tests&#39;</span> <span class=o>/</span> <span class=s1>&#39;__init__.py&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>write_text</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>)</span>

    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Created project: </span><span class=si>{</span><span class=n>base</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># create_project_structure(&#39;my_project&#39;)</span>

<span class=c1># 14. Path vs os.path Comparison</span>
<span class=c1># Old way (os.path)</span>
<span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<span class=n>old_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>expanduser</span><span class=p>(</span><span class=s1>&#39;~&#39;</span><span class=p>),</span> <span class=s1>&#39;documents&#39;</span><span class=p>,</span> <span class=s1>&#39;file.txt&#39;</span><span class=p>)</span>
<span class=n>old_exists</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>old_path</span><span class=p>)</span>
<span class=n>old_basename</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>old_path</span><span class=p>)</span>

<span class=c1># New way (pathlib)</span>
<span class=n>new_path</span> <span class=o>=</span> <span class=n>Path</span><span class=o>.</span><span class=n>home</span><span class=p>()</span> <span class=o>/</span> <span class=s1>&#39;documents&#39;</span> <span class=o>/</span> <span class=s1>&#39;file.txt&#39;</span>
<span class=n>new_exists</span> <span class=o>=</span> <span class=n>new_path</span><span class=o>.</span><span class=n>exists</span><span class=p>()</span>
<span class=n>new_basename</span> <span class=o>=</span> <span class=n>new_path</span><span class=o>.</span><span class=n>name</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Old: </span><span class=si>{</span><span class=n>old_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;New: </span><span class=si>{</span><span class=n>new_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <p><strong>pathlib vs os.path:</strong></p> <table> <thead> <tr> <th>Operation</th> <th>os.path</th> <th>pathlib</th> </tr> </thead> <tbody> <tr> <td><strong>Join paths</strong></td> <td><code>os.path.join(a, b)</code></td> <td><code>Path(a) / b</code></td> </tr> <tr> <td><strong>Home dir</strong></td> <td><code>os.path.expanduser('~')</code></td> <td><code>Path.home()</code></td> </tr> <tr> <td><strong>Check exists</strong></td> <td><code>os.path.exists(p)</code></td> <td><code>Path(p).exists()</code></td> </tr> <tr> <td><strong>Read file</strong></td> <td><code>open(p).read()</code></td> <td><code>Path(p).read_text()</code></td> </tr> <tr> <td><strong>Basename</strong></td> <td><code>os.path.basename(p)</code></td> <td><code>Path(p).name</code></td> </tr> <tr> <td><strong>Extension</strong></td> <td><code>os.path.splitext(p)[1]</code></td> <td><code>Path(p).suffix</code></td> </tr> <tr> <td><strong>Absolute</strong></td> <td><code>os.path.abspath(p)</code></td> <td><code>Path(p).resolve()</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>pathlib</code>: object-oriented paths"</li> <li>"Join paths: <code>Path.home() / 'dir' / 'file.txt'</code>"</li> <li>"Properties: <code>.name</code>, <code>.stem</code>, <code>.suffix</code>, <code>.parent</code>"</li> <li>"Quick read/write: <code>.read_text()</code>, <code>.write_text()</code>"</li> <li>"Glob patterns: <code>.glob('*.py')</code>, <code>.rglob('**/*.py')</code>"</li> <li>"Create dirs: <code>.mkdir(parents=True, exist_ok=True)</code>"</li> <li>"Better than <code>os.path</code> for modern Python"</li> <li>"Cross-platform: handles Windows/Unix differences"</li> </ul> </div> </details> <hr> <h3 id=explain-testing-with-pytest-meta-dropbox-interview-question>Explain Testing with pytest - Meta, Dropbox Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Testing</code>, <code>pytest</code>, <code>TDD</code> | <strong>Asked by:</strong> Meta, Dropbox, Google, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong>pytest</strong> is a powerful testing framework with fixtures, parametrization, plugins, and clear assertion output.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>pytest</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span>

<span class=c1># 1. Basic Test Functions</span>
<span class=k>def</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=n>a</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Add two numbers.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_add</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test add function.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span>
    <span class=k>assert</span> <span class=n>add</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span>
    <span class=k>assert</span> <span class=n>add</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_add_negative</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test add with negatives.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=n>add</span><span class=p>(</span><span class=o>-</span><span class=mi>5</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>)</span> <span class=o>==</span> <span class=o>-</span><span class=mi>8</span>

<span class=c1># Run: pytest test_file.py</span>

<span class=c1># 2. Test Classes</span>
<span class=k>class</span><span class=w> </span><span class=nc>Calculator</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple calculator.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>

    <span class=k>def</span><span class=w> </span><span class=nf>divide</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>b</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Division by zero&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>a</span> <span class=o>/</span> <span class=n>b</span>

<span class=k>class</span><span class=w> </span><span class=nc>TestCalculator</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test calculator.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>test_add</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>calc</span> <span class=o>=</span> <span class=n>Calculator</span><span class=p>()</span>
        <span class=k>assert</span> <span class=n>calc</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span>

    <span class=k>def</span><span class=w> </span><span class=nf>test_divide</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>calc</span> <span class=o>=</span> <span class=n>Calculator</span><span class=p>()</span>
        <span class=k>assert</span> <span class=n>calc</span><span class=o>.</span><span class=n>divide</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span>

    <span class=k>def</span><span class=w> </span><span class=nf>test_divide_by_zero</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>calc</span> <span class=o>=</span> <span class=n>Calculator</span><span class=p>()</span>
        <span class=k>with</span> <span class=n>pytest</span><span class=o>.</span><span class=n>raises</span><span class=p>(</span><span class=ne>ValueError</span><span class=p>,</span> <span class=n>match</span><span class=o>=</span><span class=s2>&quot;Division by zero&quot;</span><span class=p>):</span>
            <span class=n>calc</span><span class=o>.</span><span class=n>divide</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

<span class=c1># 3. Fixtures</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span>
<span class=k>def</span><span class=w> </span><span class=nf>calculator</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Provide calculator instance.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>Calculator</span><span class=p>()</span>

<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span>
<span class=k>def</span><span class=w> </span><span class=nf>sample_data</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Provide sample data.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_with_fixture</span><span class=p>(</span><span class=n>calculator</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test using fixture.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=n>calculator</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_data_fixture</span><span class=p>(</span><span class=n>sample_data</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test with data fixture.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>sample_data</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span>
    <span class=k>assert</span> <span class=nb>sum</span><span class=p>(</span><span class=n>sample_data</span><span class=p>)</span> <span class=o>==</span> <span class=mi>15</span>

<span class=c1># 4. Fixture Scopes</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span><span class=p>(</span><span class=n>scope</span><span class=o>=</span><span class=s2>&quot;function&quot;</span><span class=p>)</span>  <span class=c1># Default: per test</span>
<span class=k>def</span><span class=w> </span><span class=nf>function_fixture</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Function setup&quot;</span><span class=p>)</span>
    <span class=k>yield</span> <span class=s2>&quot;function&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Function teardown&quot;</span><span class=p>)</span>

<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span><span class=p>(</span><span class=n>scope</span><span class=o>=</span><span class=s2>&quot;module&quot;</span><span class=p>)</span>  <span class=c1># Once per module</span>
<span class=k>def</span><span class=w> </span><span class=nf>module_fixture</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Module setup&quot;</span><span class=p>)</span>
    <span class=k>yield</span> <span class=s2>&quot;module&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Module teardown&quot;</span><span class=p>)</span>

<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span><span class=p>(</span><span class=n>scope</span><span class=o>=</span><span class=s2>&quot;session&quot;</span><span class=p>)</span>  <span class=c1># Once per session</span>
<span class=k>def</span><span class=w> </span><span class=nf>session_fixture</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Session setup&quot;</span><span class=p>)</span>
    <span class=k>yield</span> <span class=s2>&quot;session&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Session teardown&quot;</span><span class=p>)</span>

<span class=c1># 5. Parametrized Tests</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>mark</span><span class=o>.</span><span class=n>parametrize</span><span class=p>(</span><span class=s2>&quot;a,b,expected&quot;</span><span class=p>,</span> <span class=p>[</span>
    <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>
    <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
    <span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
    <span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=o>-</span><span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>
<span class=p>])</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_add_parametrized</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>expected</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test add with multiple inputs.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=n>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span> <span class=o>==</span> <span class=n>expected</span>

<span class=nd>@pytest</span><span class=o>.</span><span class=n>mark</span><span class=o>.</span><span class=n>parametrize</span><span class=p>(</span><span class=s2>&quot;input,expected&quot;</span><span class=p>,</span> <span class=p>[</span>
    <span class=p>(</span><span class=s2>&quot;hello&quot;</span><span class=p>,</span> <span class=s2>&quot;HELLO&quot;</span><span class=p>),</span>
    <span class=p>(</span><span class=s2>&quot;World&quot;</span><span class=p>,</span> <span class=s2>&quot;WORLD&quot;</span><span class=p>),</span>
    <span class=p>(</span><span class=s2>&quot;123&quot;</span><span class=p>,</span> <span class=s2>&quot;123&quot;</span><span class=p>),</span>
    <span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>),</span>
<span class=p>])</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_upper</span><span class=p>(</span><span class=nb>input</span><span class=p>,</span> <span class=n>expected</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test string upper.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=nb>input</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=o>==</span> <span class=n>expected</span>

<span class=c1># 6. Multiple Parameters</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>mark</span><span class=o>.</span><span class=n>parametrize</span><span class=p>(</span><span class=s2>&quot;x&quot;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>mark</span><span class=o>.</span><span class=n>parametrize</span><span class=p>(</span><span class=s2>&quot;y&quot;</span><span class=p>,</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>])</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_multiple_params</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test with multiple parameter sets.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span> <span class=o>&gt;</span> <span class=mi>0</span>
<span class=c1># Runs 6 tests (3 * 2 combinations)</span>

<span class=c1># 7. Marks (Tags)</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>mark</span><span class=o>.</span><span class=n>slow</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_slow_operation</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Slow test.&quot;&quot;&quot;</span>
    <span class=kn>import</span><span class=w> </span><span class=nn>time</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
    <span class=k>assert</span> <span class=kc>True</span>

<span class=nd>@pytest</span><span class=o>.</span><span class=n>mark</span><span class=o>.</span><span class=n>skip</span><span class=p>(</span><span class=n>reason</span><span class=o>=</span><span class=s2>&quot;Not implemented yet&quot;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_not_implemented</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Skipped test.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=kc>False</span>

<span class=nd>@pytest</span><span class=o>.</span><span class=n>mark</span><span class=o>.</span><span class=n>skipif</span><span class=p>(</span>
    <span class=n>pytest</span><span class=o>.</span><span class=n>__version__</span> <span class=o>&lt;</span> <span class=s2>&quot;7.0&quot;</span><span class=p>,</span>
    <span class=n>reason</span><span class=o>=</span><span class=s2>&quot;Requires pytest 7.0+&quot;</span>
<span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_new_feature</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Conditional skip.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=kc>True</span>

<span class=nd>@pytest</span><span class=o>.</span><span class=n>mark</span><span class=o>.</span><span class=n>xfail</span><span class=p>(</span><span class=n>reason</span><span class=o>=</span><span class=s2>&quot;Known bug&quot;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_expected_failure</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Expected to fail.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=mi>1</span> <span class=o>==</span> <span class=mi>2</span>

<span class=c1># Run: pytest -m slow  # Only slow tests</span>
<span class=c1># Run: pytest -m &quot;not slow&quot;  # Skip slow tests</span>

<span class=c1># 8. Fixtures with Setup/Teardown</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span>
<span class=k>def</span><span class=w> </span><span class=nf>database_connection</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Database fixture with cleanup.&quot;&quot;&quot;</span>
    <span class=c1># Setup</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Connecting to database...&quot;</span><span class=p>)</span>
    <span class=n>connection</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;connected&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=p>[]}</span>

    <span class=k>yield</span> <span class=n>connection</span>

    <span class=c1># Teardown</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Closing database connection...&quot;</span><span class=p>)</span>
    <span class=n>connection</span><span class=p>[</span><span class=s2>&quot;connected&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_database_insert</span><span class=p>(</span><span class=n>database_connection</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test database operations.&quot;&quot;&quot;</span>
    <span class=n>database_connection</span><span class=p>[</span><span class=s2>&quot;data&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;item1&quot;</span><span class=p>)</span>
    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>database_connection</span><span class=p>[</span><span class=s2>&quot;data&quot;</span><span class=p>])</span> <span class=o>==</span> <span class=mi>1</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_database_query</span><span class=p>(</span><span class=n>database_connection</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Another database test.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=n>database_connection</span><span class=p>[</span><span class=s2>&quot;connected&quot;</span><span class=p>]</span> <span class=ow>is</span> <span class=kc>True</span>

<span class=c1># 9. Mocking with pytest-mock</span>
<span class=k>def</span><span class=w> </span><span class=nf>fetch_user_data</span><span class=p>(</span><span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Fetch user from API (not implemented).&quot;&quot;&quot;</span>
    <span class=kn>import</span><span class=w> </span><span class=nn>requests</span>
    <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;https://api.example.com/users/</span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_fetch_user_data</span><span class=p>(</span><span class=n>mocker</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test with mocked API call.&quot;&quot;&quot;</span>
    <span class=c1># Mock requests.get</span>
    <span class=n>mock_response</span> <span class=o>=</span> <span class=n>mocker</span><span class=o>.</span><span class=n>Mock</span><span class=p>()</span>
    <span class=n>mock_response</span><span class=o>.</span><span class=n>json</span><span class=o>.</span><span class=n>return_value</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>}</span>

    <span class=n>mocker</span><span class=o>.</span><span class=n>patch</span><span class=p>(</span><span class=s1>&#39;requests.get&#39;</span><span class=p>,</span> <span class=n>return_value</span><span class=o>=</span><span class=n>mock_response</span><span class=p>)</span>

    <span class=n>result</span> <span class=o>=</span> <span class=n>fetch_user_data</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
    <span class=k>assert</span> <span class=n>result</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;Alice&quot;</span>

<span class=c1># 10. Testing Exceptions</span>
<span class=k>def</span><span class=w> </span><span class=nf>validate_age</span><span class=p>(</span><span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate age.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>age</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Age cannot be negative&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>age</span> <span class=o>&gt;</span> <span class=mi>150</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Age too high&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=kc>True</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_validate_age</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test age validation.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=n>validate_age</span><span class=p>(</span><span class=mi>25</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>True</span>

    <span class=k>with</span> <span class=n>pytest</span><span class=o>.</span><span class=n>raises</span><span class=p>(</span><span class=ne>ValueError</span><span class=p>)</span> <span class=k>as</span> <span class=n>exc_info</span><span class=p>:</span>
        <span class=n>validate_age</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
    <span class=k>assert</span> <span class=s2>&quot;negative&quot;</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>exc_info</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>

    <span class=k>with</span> <span class=n>pytest</span><span class=o>.</span><span class=n>raises</span><span class=p>(</span><span class=ne>ValueError</span><span class=p>,</span> <span class=n>match</span><span class=o>=</span><span class=s2>&quot;too high&quot;</span><span class=p>):</span>
        <span class=n>validate_age</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>

<span class=c1># 11. Fixture Dependencies</span>
<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span>
<span class=k>def</span><span class=w> </span><span class=nf>user_data</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User data fixture.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>}</span>

<span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span>
<span class=k>def</span><span class=w> </span><span class=nf>user_with_posts</span><span class=p>(</span><span class=n>user_data</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User with posts (depends on user_data).&quot;&quot;&quot;</span>
    <span class=n>user_data</span><span class=p>[</span><span class=s2>&quot;posts&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
        <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Post 1&quot;</span><span class=p>},</span>
        <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Post 2&quot;</span><span class=p>}</span>
    <span class=p>]</span>
    <span class=k>return</span> <span class=n>user_data</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_user_posts</span><span class=p>(</span><span class=n>user_with_posts</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test user with posts.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>user_with_posts</span><span class=p>[</span><span class=s2>&quot;posts&quot;</span><span class=p>])</span> <span class=o>==</span> <span class=mi>2</span>
    <span class=k>assert</span> <span class=n>user_with_posts</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;Alice&quot;</span>

<span class=c1># 12. Temporary Files/Directories</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_with_temp_file</span><span class=p>(</span><span class=n>tmp_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test using temporary directory.&quot;&quot;&quot;</span>
    <span class=c1># tmp_path is pytest fixture</span>
    <span class=n>test_file</span> <span class=o>=</span> <span class=n>tmp_path</span> <span class=o>/</span> <span class=s2>&quot;test.txt&quot;</span>
    <span class=n>test_file</span><span class=o>.</span><span class=n>write_text</span><span class=p>(</span><span class=s2>&quot;Hello, World!&quot;</span><span class=p>)</span>

    <span class=n>content</span> <span class=o>=</span> <span class=n>test_file</span><span class=o>.</span><span class=n>read_text</span><span class=p>()</span>
    <span class=k>assert</span> <span class=n>content</span> <span class=o>==</span> <span class=s2>&quot;Hello, World!&quot;</span>
    <span class=c1># tmp_path auto-deleted after test</span>

<span class=c1># 13. Capturing Output</span>
<span class=k>def</span><span class=w> </span><span class=nf>print_message</span><span class=p>(</span><span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Print message.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Message: </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_print_message</span><span class=p>(</span><span class=n>capsys</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test captured output.&quot;&quot;&quot;</span>
    <span class=n>print_message</span><span class=p>(</span><span class=s2>&quot;Hello&quot;</span><span class=p>)</span>

    <span class=n>captured</span> <span class=o>=</span> <span class=n>capsys</span><span class=o>.</span><span class=n>readouterr</span><span class=p>()</span>
    <span class=k>assert</span> <span class=s2>&quot;Hello&quot;</span> <span class=ow>in</span> <span class=n>captured</span><span class=o>.</span><span class=n>out</span>

<span class=c1># 14. Monkeypatching</span>
<span class=k>def</span><span class=w> </span><span class=nf>get_username</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get username from environment.&quot;&quot;&quot;</span>
    <span class=kn>import</span><span class=w> </span><span class=nn>os</span>
    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;USERNAME&quot;</span><span class=p>,</span> <span class=s2>&quot;unknown&quot;</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>test_get_username</span><span class=p>(</span><span class=n>monkeypatch</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test with monkeypatched environment.&quot;&quot;&quot;</span>
    <span class=n>monkeypatch</span><span class=o>.</span><span class=n>setenv</span><span class=p>(</span><span class=s2>&quot;USERNAME&quot;</span><span class=p>,</span> <span class=s2>&quot;alice&quot;</span><span class=p>)</span>
    <span class=k>assert</span> <span class=n>get_username</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;alice&quot;</span>

    <span class=n>monkeypatch</span><span class=o>.</span><span class=n>delenv</span><span class=p>(</span><span class=s2>&quot;USERNAME&quot;</span><span class=p>,</span> <span class=n>raising</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
    <span class=k>assert</span> <span class=n>get_username</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;unknown&quot;</span>

<span class=c1># 15. Conftest.py for Shared Fixtures</span>
<span class=c1># In conftest.py:</span>
<span class=c1># @pytest.fixture(scope=&quot;session&quot;)</span>
<span class=c1># def app_config():</span>
<span class=c1>#     return {&quot;debug&quot;: True, &quot;database&quot;: &quot;test.db&quot;}</span>

<span class=c1># 16. Custom Markers</span>
<span class=c1># In pytest.ini:</span>
<span class=c1># [pytest]</span>
<span class=c1># markers =</span>
<span class=c1>#     slow: marks tests as slow</span>
<span class=c1>#     integration: marks tests as integration tests</span>
<span class=c1>#     unit: marks tests as unit tests</span>

<span class=c1># 17. Approximate Comparisons</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_approximate</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test floating point with approximation.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=mf>0.1</span> <span class=o>+</span> <span class=mf>0.2</span> <span class=o>==</span> <span class=n>pytest</span><span class=o>.</span><span class=n>approx</span><span class=p>(</span><span class=mf>0.3</span><span class=p>)</span>
    <span class=k>assert</span> <span class=p>[</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>]</span> <span class=o>==</span> <span class=n>pytest</span><span class=o>.</span><span class=n>approx</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>])</span>
</code></pre></div> <p><strong>pytest Features:</strong></p> <table> <thead> <tr> <th>Feature</th> <th>Purpose</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Fixtures</strong></td> <td>Reusable setup</td> <td><code>@pytest.fixture</code></td> </tr> <tr> <td><strong>Parametrize</strong></td> <td>Multiple inputs</td> <td><code>@pytest.mark.parametrize</code></td> </tr> <tr> <td><strong>Marks</strong></td> <td>Tag tests</td> <td><code>@pytest.mark.slow</code></td> </tr> <tr> <td><strong>Mocking</strong></td> <td>Fake dependencies</td> <td><code>mocker.patch()</code></td> </tr> <tr> <td><strong>Monkeypatch</strong></td> <td>Modify environment</td> <td><code>monkeypatch.setenv()</code></td> </tr> </tbody> </table> <p><strong>Common Commands:</strong></p> <div class=highlight><pre><span></span><code>pytest<span class=w>                          </span><span class=c1># Run all tests</span>
pytest<span class=w> </span>test_file.py<span class=w>             </span><span class=c1># Run specific file</span>
pytest<span class=w> </span>-k<span class=w> </span><span class=s2>&quot;test_add&quot;</span><span class=w>            </span><span class=c1># Run tests matching pattern</span>
pytest<span class=w> </span>-m<span class=w> </span>slow<span class=w>                  </span><span class=c1># Run tests with marker</span>
pytest<span class=w> </span>-v<span class=w>                       </span><span class=c1># Verbose output</span>
pytest<span class=w> </span>-s<span class=w>                       </span><span class=c1># Show print statements</span>
pytest<span class=w> </span>--cov<span class=o>=</span>myapp<span class=w>              </span><span class=c1># Coverage report</span>
pytest<span class=w> </span>-x<span class=w>                       </span><span class=c1># Stop on first failure</span>
pytest<span class=w> </span>--lf<span class=w>                     </span><span class=c1># Run last failed</span>
pytest<span class=w> </span>--ff<span class=w>                     </span><span class=c1># Failed first, then others</span>
</code></pre></div> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Fixtures: reusable setup/teardown"</li> <li>"<code>@pytest.mark.parametrize</code>: test multiple inputs"</li> <li>"<code>pytest.raises</code>: test exceptions"</li> <li>"Mocking: isolate dependencies"</li> <li>"<code>tmp_path</code>: temporary files/directories"</li> <li>"<code>monkeypatch</code>: modify environment"</li> <li>"Scopes: function, class, module, session"</li> <li>"Markers: tag and filter tests"</li> </ul> </div> </details> <hr> <h3 id=explain-f-string-advanced-features-amazon-google-interview-question>Explain F-string Advanced Features - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Strings</code>, <code>Formatting</code>, <code>Python 3.6+</code> | <strong>Asked by:</strong> Amazon, Google, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>F-strings</strong> (formatted string literals) provide concise, readable string formatting with expressions, format specifiers, and debugging features (Python 3.6+).</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic F-strings</span>
<span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;Alice&quot;</span>
<span class=n>age</span> <span class=o>=</span> <span class=mi>30</span>

<span class=n>message</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Hello, </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>! You are </span><span class=si>{</span><span class=n>age</span><span class=si>}</span><span class=s2> years old.&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>

<span class=c1># Expressions</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Next year: </span><span class=si>{</span><span class=n>age</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Uppercase: </span><span class=si>{</span><span class=n>name</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 2. Format Specifiers</span>
<span class=c1># Numbers</span>
<span class=n>pi</span> <span class=o>=</span> <span class=mf>3.14159265359</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Pi: </span><span class=si>{</span><span class=n>pi</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>        <span class=c1># 3.14 (2 decimals)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Pi: </span><span class=si>{</span><span class=n>pi</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>        <span class=c1># 3.1416 (4 decimals)</span>

<span class=c1># Integers</span>
<span class=n>number</span> <span class=o>=</span> <span class=mi>42</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Binary: </span><span class=si>{</span><span class=n>number</span><span class=si>:</span><span class=s2>b</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>   <span class=c1># 101010</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Hex: </span><span class=si>{</span><span class=n>number</span><span class=si>:</span><span class=s2>x</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>      <span class=c1># 2a</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Hex: </span><span class=si>{</span><span class=n>number</span><span class=si>:</span><span class=s2>X</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>      <span class=c1># 2A</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Octal: </span><span class=si>{</span><span class=n>number</span><span class=si>:</span><span class=s2>o</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>    <span class=c1># 52</span>

<span class=c1># Padding</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Padded: </span><span class=si>{</span><span class=n>number</span><span class=si>:</span><span class=s2>05d</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 00042</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Padded: </span><span class=si>{</span><span class=n>number</span><span class=si>:</span><span class=s2>&gt;10</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># &quot;        42&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Padded: </span><span class=si>{</span><span class=n>number</span><span class=si>:</span><span class=s2>&lt;10</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># &quot;42        &quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Padded: </span><span class=si>{</span><span class=n>number</span><span class=si>:</span><span class=s2>^10</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># &quot;    42    &quot;</span>

<span class=c1># 3. Thousands Separator</span>
<span class=n>large_number</span> <span class=o>=</span> <span class=mi>1000000</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Formatted: </span><span class=si>{</span><span class=n>large_number</span><span class=si>:</span><span class=s2>,</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>     <span class=c1># 1,000,000</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Formatted: </span><span class=si>{</span><span class=n>large_number</span><span class=si>:</span><span class=s2>_</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>     <span class=c1># 1_000_000</span>

<span class=n>price</span> <span class=o>=</span> <span class=mf>1234.56</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Price: $</span><span class=si>{</span><span class=n>price</span><span class=si>:</span><span class=s2>,.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>            <span class=c1># $1,234.56</span>

<span class=c1># 4. Percentage</span>
<span class=n>ratio</span> <span class=o>=</span> <span class=mf>0.85</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Success rate: </span><span class=si>{</span><span class=n>ratio</span><span class=si>:</span><span class=s2>.1%</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>       <span class=c1># 85.0%</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Success rate: </span><span class=si>{</span><span class=n>ratio</span><span class=si>:</span><span class=s2>.2%</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>       <span class=c1># 85.00%</span>

<span class=c1># 5. Date and Time Formatting</span>
<span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>datetime</span>

<span class=n>now</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Date: </span><span class=si>{</span><span class=n>now</span><span class=si>:</span><span class=s2>%Y-%m-%d</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>           <span class=c1># 2024-01-15</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Time: </span><span class=si>{</span><span class=n>now</span><span class=si>:</span><span class=s2>%H:%M:%S</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>           <span class=c1># 14:30:45</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Full: </span><span class=si>{</span><span class=n>now</span><span class=si>:</span><span class=s2>%Y-%m-%d %H:%M:%S</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 2024-01-15 14:30:45</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Month: </span><span class=si>{</span><span class=n>now</span><span class=si>:</span><span class=s2>%B</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>                <span class=c1># January</span>

<span class=c1># 6. Debugging with = (Python 3.8+)</span>
<span class=n>x</span> <span class=o>=</span> <span class=mi>10</span>
<span class=n>y</span> <span class=o>=</span> <span class=mi>20</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>x</span><span class=si>=}</span><span class=s2>&quot;</span><span class=p>)</span>              <span class=c1># x=10</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>y</span><span class=si>=}</span><span class=s2>&quot;</span><span class=p>)</span>              <span class=c1># y=20</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>result</span><span class=si>=}</span><span class=s2>&quot;</span><span class=p>)</span>         <span class=c1># result=30</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>x</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>y</span><span class=si>=}</span><span class=s2>&quot;</span><span class=p>)</span>          <span class=c1># x + y=30</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=nb>len</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>])</span><span class=si>=}</span><span class=s2>&quot;</span><span class=p>)</span>   <span class=c1># len([1,2,3])=3</span>

<span class=c1># With format specifier</span>
<span class=n>pi</span> <span class=o>=</span> <span class=mf>3.14159</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>pi</span><span class=si>=:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>         <span class=c1># pi=3.14</span>

<span class=c1># 7. Nested F-strings</span>
<span class=n>precision</span> <span class=o>=</span> <span class=mi>2</span>
<span class=n>value</span> <span class=o>=</span> <span class=mf>3.14159</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Value: </span><span class=si>{</span><span class=n>value</span><span class=si>:</span><span class=s2>.</span><span class=si>{</span><span class=n>precision</span><span class=si>}</span><span class=s2>f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># Value: 3.14</span>

<span class=c1># Dynamic formatting</span>
<span class=n>width</span> <span class=o>=</span> <span class=mi>10</span>
<span class=n>text</span> <span class=o>=</span> <span class=s2>&quot;Hello&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>text</span><span class=si>:</span><span class=s2>&gt;</span><span class=si>{</span><span class=n>width</span><span class=si>}}</span><span class=s2>&quot;</span><span class=p>)</span>    <span class=c1># &quot;     Hello&quot;</span>

<span class=c1># 8. Multiline F-strings</span>
<span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;Alice&quot;</span>
<span class=n>age</span> <span class=o>=</span> <span class=mi>30</span>
<span class=n>city</span> <span class=o>=</span> <span class=s2>&quot;New York&quot;</span>

<span class=n>message</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;&quot;&quot;</span>
<span class=s2>Name: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span>
<span class=s2>Age: </span><span class=si>{</span><span class=n>age</span><span class=si>}</span>
<span class=s2>City: </span><span class=si>{</span><span class=n>city</span><span class=si>}</span>
<span class=s2>&quot;&quot;&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>

<span class=c1># 9. Dictionary and Object Access</span>
<span class=n>user</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Bob&quot;</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=mi>25</span><span class=p>}</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;User: </span><span class=si>{</span><span class=n>user</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>, Age: </span><span class=si>{</span><span class=n>user</span><span class=p>[</span><span class=s1>&#39;age&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>

<span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Charlie&quot;</span><span class=p>,</span> <span class=mi>35</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Person: </span><span class=si>{</span><span class=n>person</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>, Age: </span><span class=si>{</span><span class=n>person</span><span class=o>.</span><span class=n>age</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 10. Alignment and Width</span>
<span class=n>items</span> <span class=o>=</span> <span class=p>[</span>
    <span class=p>(</span><span class=s2>&quot;Apple&quot;</span><span class=p>,</span> <span class=mf>1.20</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>
    <span class=p>(</span><span class=s2>&quot;Banana&quot;</span><span class=p>,</span> <span class=mf>0.50</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span>
    <span class=p>(</span><span class=s2>&quot;Orange&quot;</span><span class=p>,</span> <span class=mf>0.80</span><span class=p>,</span> <span class=mi>7</span><span class=p>),</span>
<span class=p>]</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=s1>&#39;Item&#39;</span><span class=si>:</span><span class=s2>&lt;15</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=s1>&#39;Price&#39;</span><span class=si>:</span><span class=s2>&gt;8</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=s1>&#39;Qty&#39;</span><span class=si>:</span><span class=s2>&gt;5</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;-&quot;</span> <span class=o>*</span> <span class=mi>30</span><span class=p>)</span>
<span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>qty</span> <span class=ow>in</span> <span class=n>items</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>:</span><span class=s2>&lt;15</span><span class=si>}</span><span class=s2> $</span><span class=si>{</span><span class=n>price</span><span class=si>:</span><span class=s2>&gt;7.2f</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>qty</span><span class=si>:</span><span class=s2>&gt;5</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Output:</span>
<span class=c1># Item            Price   Qty</span>
<span class=c1># ------------------------------</span>
<span class=c1># Apple           $  1.20     5</span>
<span class=c1># Banana          $  0.50    10</span>
<span class=c1># Orange          $  0.80     7</span>

<span class=c1># 11. Scientific Notation</span>
<span class=n>big_num</span> <span class=o>=</span> <span class=mi>1234567890</span>
<span class=n>small_num</span> <span class=o>=</span> <span class=mf>0.00000123</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Scientific: </span><span class=si>{</span><span class=n>big_num</span><span class=si>:</span><span class=s2>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>    <span class=c1># 1.234568e+09</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Scientific: </span><span class=si>{</span><span class=n>small_num</span><span class=si>:</span><span class=s2>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 1.230000e-06</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Scientific: </span><span class=si>{</span><span class=n>big_num</span><span class=si>:</span><span class=s2>.2e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 1.23e+09</span>

<span class=c1># 12. Sign Display</span>
<span class=n>positive</span> <span class=o>=</span> <span class=mi>42</span>
<span class=n>negative</span> <span class=o>=</span> <span class=o>-</span><span class=mi>42</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>positive</span><span class=si>:</span><span class=s2>+d</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>   <span class=c1># +42 (always show sign)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>negative</span><span class=si>:</span><span class=s2>+d</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>   <span class=c1># -42</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>positive</span><span class=si>:</span><span class=s2> d</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>   <span class=c1># &quot; 42&quot; (space for positive)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>negative</span><span class=si>:</span><span class=s2> d</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>   <span class=c1># -42</span>

<span class=c1># 13. Type Conversion</span>
<span class=n>value</span> <span class=o>=</span> <span class=mi>42</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;String: </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=si>!r}</span><span class=s2>&quot;</span><span class=p>)</span>    <span class=c1># &#39;String: &#39;42&#39;&#39;</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Repr: </span><span class=si>{</span><span class=n>value</span><span class=si>!r}</span><span class=s2>&quot;</span><span class=p>)</span>           <span class=c1># 42</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;ASCII: </span><span class=si>{</span><span class=n>value</span><span class=si>!a}</span><span class=s2>&quot;</span><span class=p>)</span>          <span class=c1># 42</span>

<span class=n>text</span> <span class=o>=</span> <span class=s2>&quot;Hello</span><span class=se>\n</span><span class=s2>World&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Repr: </span><span class=si>{</span><span class=n>text</span><span class=si>!r}</span><span class=s2>&quot;</span><span class=p>)</span>            <span class=c1># &#39;Hello\nWorld&#39;</span>

<span class=c1># 14. Custom __format__ Method</span>
<span class=k>class</span><span class=w> </span><span class=nc>Point</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__format__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>format_spec</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>format_spec</span> <span class=o>==</span> <span class=s1>&#39;polar&#39;</span><span class=p>:</span>
            <span class=kn>import</span><span class=w> </span><span class=nn>math</span>
            <span class=n>r</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span><span class=o>**</span><span class=mi>2</span><span class=p>)</span>
            <span class=n>theta</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>atan2</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>y</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>x</span><span class=p>)</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;(r=</span><span class=si>{</span><span class=n>r</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>, Œ∏=</span><span class=si>{</span><span class=n>theta</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>)&quot;</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;(</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>y</span><span class=si>}</span><span class=s2>)&quot;</span>

<span class=n>point</span> <span class=o>=</span> <span class=n>Point</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cartesian: </span><span class=si>{</span><span class=n>point</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>        <span class=c1># (3, 4)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Polar: </span><span class=si>{</span><span class=n>point</span><span class=si>:</span><span class=s2>polar</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>      <span class=c1># (r=5.00, Œ∏=0.93)</span>

<span class=c1># 15. Performance Comparison</span>
<span class=kn>import</span><span class=w> </span><span class=nn>timeit</span>

<span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;Alice&quot;</span>
<span class=n>age</span> <span class=o>=</span> <span class=mi>30</span>

<span class=c1># F-string</span>
<span class=n>f_time</span> <span class=o>=</span> <span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span>
    <span class=k>lambda</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;Name: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>, Age: </span><span class=si>{</span><span class=n>age</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
    <span class=n>number</span><span class=o>=</span><span class=mi>100000</span>
<span class=p>)</span>

<span class=c1># format()</span>
<span class=n>format_time</span> <span class=o>=</span> <span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span>
    <span class=k>lambda</span><span class=p>:</span> <span class=s2>&quot;Name: </span><span class=si>{}</span><span class=s2>, Age: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>),</span>
    <span class=n>number</span><span class=o>=</span><span class=mi>100000</span>
<span class=p>)</span>

<span class=c1># % formatting</span>
<span class=n>percent_time</span> <span class=o>=</span> <span class=n>timeit</span><span class=o>.</span><span class=n>timeit</span><span class=p>(</span>
    <span class=k>lambda</span><span class=p>:</span> <span class=s2>&quot;Name: </span><span class=si>%s</span><span class=s2>, Age: </span><span class=si>%d</span><span class=s2>&quot;</span> <span class=o>%</span> <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>),</span>
    <span class=n>number</span><span class=o>=</span><span class=mi>100000</span>
<span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;F-string: </span><span class=si>{</span><span class=n>f_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;format(): </span><span class=si>{</span><span class=n>format_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;% format: </span><span class=si>{</span><span class=n>percent_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
<span class=c1># F-strings are fastest!</span>

<span class=c1># 16. Real-World Examples</span>
<span class=k>def</span><span class=w> </span><span class=nf>format_currency</span><span class=p>(</span><span class=n>amount</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>currency</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;USD&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Format amount as currency.&quot;&quot;&quot;</span>
    <span class=n>symbols</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;USD&quot;</span><span class=p>:</span> <span class=s2>&quot;$&quot;</span><span class=p>,</span> <span class=s2>&quot;EUR&quot;</span><span class=p>:</span> <span class=s2>&quot;‚Ç¨&quot;</span><span class=p>,</span> <span class=s2>&quot;GBP&quot;</span><span class=p>:</span> <span class=s2>&quot;¬£&quot;</span><span class=p>}</span>
    <span class=n>symbol</span> <span class=o>=</span> <span class=n>symbols</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>currency</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>symbol</span><span class=si>}{</span><span class=n>amount</span><span class=si>:</span><span class=s2>,.2f</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>format_currency</span><span class=p>(</span><span class=mf>1234.56</span><span class=p>))</span>        <span class=c1># $1,234.56</span>
<span class=nb>print</span><span class=p>(</span><span class=n>format_currency</span><span class=p>(</span><span class=mf>9999.99</span><span class=p>,</span> <span class=s2>&quot;EUR&quot;</span><span class=p>))</span> <span class=c1># ‚Ç¨9,999.99</span>

<span class=k>def</span><span class=w> </span><span class=nf>format_duration</span><span class=p>(</span><span class=n>seconds</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Format duration.&quot;&quot;&quot;</span>
    <span class=n>hours</span> <span class=o>=</span> <span class=n>seconds</span> <span class=o>//</span> <span class=mi>3600</span>
    <span class=n>minutes</span> <span class=o>=</span> <span class=p>(</span><span class=n>seconds</span> <span class=o>%</span> <span class=mi>3600</span><span class=p>)</span> <span class=o>//</span> <span class=mi>60</span>
    <span class=n>secs</span> <span class=o>=</span> <span class=n>seconds</span> <span class=o>%</span> <span class=mi>60</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>hours</span><span class=si>:</span><span class=s2>02d</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>minutes</span><span class=si>:</span><span class=s2>02d</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>secs</span><span class=si>:</span><span class=s2>02d</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>format_duration</span><span class=p>(</span><span class=mi>3665</span><span class=p>))</span>  <span class=c1># 01:01:05</span>

<span class=k>def</span><span class=w> </span><span class=nf>format_file_size</span><span class=p>(</span><span class=nb>bytes</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Format file size.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>unit</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;B&#39;</span><span class=p>,</span> <span class=s1>&#39;KB&#39;</span><span class=p>,</span> <span class=s1>&#39;MB&#39;</span><span class=p>,</span> <span class=s1>&#39;GB&#39;</span><span class=p>,</span> <span class=s1>&#39;TB&#39;</span><span class=p>]:</span>
        <span class=k>if</span> <span class=nb>bytes</span> <span class=o>&lt;</span> <span class=mi>1024</span><span class=p>:</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=nb>bytes</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>unit</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=nb>bytes</span> <span class=o>/=</span> <span class=mi>1024</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=nb>bytes</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2> PB&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=n>format_file_size</span><span class=p>(</span><span class=mi>1536</span><span class=p>))</span>      <span class=c1># 1.5 KB</span>
<span class=nb>print</span><span class=p>(</span><span class=n>format_file_size</span><span class=p>(</span><span class=mi>1048576</span><span class=p>))</span>   <span class=c1># 1.0 MB</span>
</code></pre></div> <p><strong>Format Specifiers:</strong></p> <table> <thead> <tr> <th>Specifier</th> <th>Purpose</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>:.2f</strong></td> <td>2 decimal places</td> <td><code>{3.14159:.2f}</code> ‚Üí <code>3.14</code></td> </tr> <tr> <td><strong>:05d</strong></td> <td>Pad with zeros</td> <td><code>{42:05d}</code> ‚Üí <code>00042</code></td> </tr> <tr> <td><strong>:,</strong></td> <td>Thousands separator</td> <td><code>{1000:,}</code> ‚Üí <code>1,000</code></td> </tr> <tr> <td><strong>:.1%</strong></td> <td>Percentage</td> <td><code>{0.85:.1%}</code> ‚Üí <code>85.0%</code></td> </tr> <tr> <td><strong>:&gt;10</strong></td> <td>Right align</td> <td><code>{42:&gt;10}</code> ‚Üí <code>" 42"</code></td> </tr> <tr> <td><strong>:^10</strong></td> <td>Center align</td> <td><code>{42:^10}</code> ‚Üí <code>" 42 "</code></td> </tr> <tr> <td><strong>:x</strong></td> <td>Hexadecimal</td> <td><code>{255:x}</code> ‚Üí <code>ff</code></td> </tr> <tr> <td><strong>:e</strong></td> <td>Scientific</td> <td><code>{1000:e}</code> ‚Üí <code>1.0e+03</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"F-strings: fastest, most readable formatting"</li> <li>"Format specifiers: <code>:.2f</code>, <code>:05d</code>, <code>:,</code>"</li> <li>"Debugging: <code>{var=}</code> (Python 3.8+)"</li> <li>"Alignment: <code>:&lt;</code>, <code>:&gt;</code>, <code>:^</code>"</li> <li>"Date formatting: <code>{now:%Y-%m-%d}</code>"</li> <li>"Dynamic precision: <code>{value:.{precision}f}</code>"</li> <li>"Better than <code>%</code> or <code>.format()</code>"</li> <li>"Can embed expressions: <code>{x + y}</code>"</li> </ul> </div> </details> <hr> <h3 id=explain-protocol-classes-structural-subtyping-meta-google-interview-question>Explain Protocol Classes (Structural Subtyping) - Meta, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Typing</code>, <code>Duck Typing</code>, <code>Protocol</code> | <strong>Asked by:</strong> Meta, Google, Dropbox, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong>Protocol</strong> classes define structural subtyping (duck typing) - any class matching the protocol's interface is compatible, without explicit inheritance.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Protocol</span><span class=p>,</span> <span class=n>runtime_checkable</span>
<span class=kn>from</span><span class=w> </span><span class=nn>abc</span><span class=w> </span><span class=kn>import</span> <span class=n>abstractmethod</span>

<span class=c1># 1. Basic Protocol</span>
<span class=k>class</span><span class=w> </span><span class=nc>Drawable</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Any class with draw() method is Drawable.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Implicitly implements Drawable (no inheritance).&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Drawing circle&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>Square</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Also implements Drawable.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>draw</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Drawing square&quot;</span>

<span class=k>def</span><span class=w> </span><span class=nf>render</span><span class=p>(</span><span class=n>shape</span><span class=p>:</span> <span class=n>Drawable</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Render any drawable object.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>shape</span><span class=o>.</span><span class=n>draw</span><span class=p>())</span>

<span class=c1># No inheritance needed!</span>
<span class=n>render</span><span class=p>(</span><span class=n>Circle</span><span class=p>())</span>
<span class=n>render</span><span class=p>(</span><span class=n>Square</span><span class=p>())</span>

<span class=c1># 2. Protocol with Multiple Methods</span>
<span class=k>class</span><span class=w> </span><span class=nc>Closeable</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Protocol for closeable resources.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=o>...</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_closed</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>FileHandler</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;File that matches Closeable protocol.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filename</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_closed</span> <span class=o>=</span> <span class=kc>False</span>

    <span class=k>def</span><span class=w> </span><span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_closed</span> <span class=o>=</span> <span class=kc>True</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_closed</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_closed</span>

<span class=k>class</span><span class=w> </span><span class=nc>DatabaseConnection</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Database that also matches protocol.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_closed</span> <span class=o>=</span> <span class=kc>False</span>

    <span class=k>def</span><span class=w> </span><span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Closing database&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_closed</span> <span class=o>=</span> <span class=kc>True</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_closed</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_closed</span>

<span class=k>def</span><span class=w> </span><span class=nf>cleanup_resource</span><span class=p>(</span><span class=n>resource</span><span class=p>:</span> <span class=n>Closeable</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Cleanup any closeable resource.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>resource</span><span class=o>.</span><span class=n>is_closed</span><span class=p>():</span>
        <span class=n>resource</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

<span class=n>file</span> <span class=o>=</span> <span class=n>FileHandler</span><span class=p>(</span><span class=s2>&quot;data.txt&quot;</span><span class=p>)</span>
<span class=n>db</span> <span class=o>=</span> <span class=n>DatabaseConnection</span><span class=p>()</span>
<span class=n>cleanup_resource</span><span class=p>(</span><span class=n>file</span><span class=p>)</span>
<span class=n>cleanup_resource</span><span class=p>(</span><span class=n>db</span><span class=p>)</span>

<span class=c1># 3. Runtime Checkable Protocol</span>
<span class=nd>@runtime_checkable</span>
<span class=k>class</span><span class=w> </span><span class=nc>Sized</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Protocol for objects with __len__.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>MyList</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom list implementation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>items</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=o>=</span> <span class=n>items</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

<span class=n>my_list</span> <span class=o>=</span> <span class=n>MyList</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>

<span class=c1># Runtime check</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>my_list</span><span class=p>,</span> <span class=n>Sized</span><span class=p>))</span>  <span class=c1># True</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=n>Sized</span><span class=p>))</span>  <span class=c1># True</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=mi>42</span><span class=p>,</span> <span class=n>Sized</span><span class=p>))</span>  <span class=c1># False</span>

<span class=c1># 4. Protocol with Properties</span>
<span class=k>class</span><span class=w> </span><span class=nc>Named</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Protocol for objects with name property.&quot;&quot;&quot;</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User with name.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span>

<span class=k>class</span><span class=w> </span><span class=nc>Product</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Product with name.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span>

<span class=k>def</span><span class=w> </span><span class=nf>print_name</span><span class=p>(</span><span class=n>obj</span><span class=p>:</span> <span class=n>Named</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Print name of any named object.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Name: </span><span class=si>{</span><span class=n>obj</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>print_name</span><span class=p>(</span><span class=n>User</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>))</span>
<span class=n>print_name</span><span class=p>(</span><span class=n>Product</span><span class=p>(</span><span class=s2>&quot;Laptop&quot;</span><span class=p>))</span>

<span class=c1># 5. Iterator Protocol</span>
<span class=nd>@runtime_checkable</span>
<span class=k>class</span><span class=w> </span><span class=nc>SupportsIter</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Protocol for iterable objects.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=o>...</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__next__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>Countdown</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Countdown iterator.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>start</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>=</span> <span class=n>start</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__next__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>StopIteration</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>-=</span> <span class=mi>1</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>+</span> <span class=mi>1</span>

<span class=n>countdown</span> <span class=o>=</span> <span class=n>Countdown</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>countdown</span><span class=p>,</span> <span class=n>SupportsIter</span><span class=p>))</span>  <span class=c1># True</span>

<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>countdown</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>  <span class=c1># 3, 2, 1</span>

<span class=c1># 6. Comparison Protocol</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>Any</span>

<span class=k>class</span><span class=w> </span><span class=nc>Comparable</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Protocol for comparable objects.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=o>...</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__le__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Person comparable by age.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=s1>&#39;Person&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>&lt;</span> <span class=n>other</span><span class=o>.</span><span class=n>age</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__le__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=s1>&#39;Person&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>&lt;=</span> <span class=n>other</span><span class=o>.</span><span class=n>age</span>

<span class=k>def</span><span class=w> </span><span class=nf>get_younger</span><span class=p>(</span><span class=n>a</span><span class=p>:</span> <span class=n>Comparable</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=n>Comparable</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Comparable</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get younger person.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>a</span> <span class=k>if</span> <span class=n>a</span> <span class=o>&lt;</span> <span class=n>b</span> <span class=k>else</span> <span class=n>b</span>

<span class=n>alice</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>
<span class=n>bob</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Bob&quot;</span><span class=p>,</span> <span class=mi>25</span><span class=p>)</span>
<span class=n>younger</span> <span class=o>=</span> <span class=n>get_younger</span><span class=p>(</span><span class=n>alice</span><span class=p>,</span> <span class=n>bob</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Younger: </span><span class=si>{</span><span class=n>younger</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 7. Container Protocol</span>
<span class=k>class</span><span class=w> </span><span class=nc>Container</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Protocol for container objects.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__contains__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=o>...</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>WordSet</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Set of words.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>words</span><span class=p>:</span> <span class=nb>list</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>words</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>words</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__contains__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>word</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>word</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>words</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>words</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>count_matches</span><span class=p>(</span><span class=n>container</span><span class=p>:</span> <span class=n>Container</span><span class=p>,</span> <span class=n>items</span><span class=p>:</span> <span class=nb>list</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Count how many items are in container.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=mi>1</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>items</span> <span class=k>if</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>container</span><span class=p>)</span>

<span class=n>words</span> <span class=o>=</span> <span class=n>WordSet</span><span class=p>([</span><span class=s2>&quot;hello&quot;</span><span class=p>,</span> <span class=s2>&quot;world&quot;</span><span class=p>,</span> <span class=s2>&quot;python&quot;</span><span class=p>])</span>
<span class=n>count</span> <span class=o>=</span> <span class=n>count_matches</span><span class=p>(</span><span class=n>words</span><span class=p>,</span> <span class=p>[</span><span class=s2>&quot;hello&quot;</span><span class=p>,</span> <span class=s2>&quot;foo&quot;</span><span class=p>,</span> <span class=s2>&quot;python&quot;</span><span class=p>,</span> <span class=s2>&quot;bar&quot;</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Matches: </span><span class=si>{</span><span class=n>count</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 2</span>

<span class=c1># 8. Callable Protocol</span>
<span class=k>class</span><span class=w> </span><span class=nc>Validator</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Protocol for validation functions.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>EmailValidator</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Email validator class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=s1>&#39;@&#39;</span> <span class=ow>in</span> <span class=n>email</span> <span class=ow>and</span> <span class=s1>&#39;.&#39;</span> <span class=ow>in</span> <span class=n>email</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;@&#39;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

<span class=k>def</span><span class=w> </span><span class=nf>validate_input</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>validator</span><span class=p>:</span> <span class=n>Validator</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate input using validator.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>validator</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>

<span class=n>email_validator</span> <span class=o>=</span> <span class=n>EmailValidator</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>validate_input</span><span class=p>(</span><span class=s2>&quot;alice@example.com&quot;</span><span class=p>,</span> <span class=n>email_validator</span><span class=p>))</span>  <span class=c1># True</span>
<span class=nb>print</span><span class=p>(</span><span class=n>validate_input</span><span class=p>(</span><span class=s2>&quot;invalid&quot;</span><span class=p>,</span> <span class=n>email_validator</span><span class=p>))</span>  <span class=c1># False</span>

<span class=c1># Also works with functions</span>
<span class=k>def</span><span class=w> </span><span class=nf>length_validator</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
    <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=mi>3</span>

<span class=nb>print</span><span class=p>(</span><span class=n>validate_input</span><span class=p>(</span><span class=s2>&quot;ab&quot;</span><span class=p>,</span> <span class=n>length_validator</span><span class=p>))</span>  <span class=c1># False</span>

<span class=c1># 9. Protocol vs ABC</span>
<span class=kn>from</span><span class=w> </span><span class=nn>abc</span><span class=w> </span><span class=kn>import</span> <span class=n>ABC</span><span class=p>,</span> <span class=n>abstractmethod</span>

<span class=c1># ABC: requires explicit inheritance</span>
<span class=k>class</span><span class=w> </span><span class=nc>ShapeABC</span><span class=p>(</span><span class=n>ABC</span><span class=p>):</span>
    <span class=nd>@abstractmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>RectangleABC</span><span class=p>(</span><span class=n>ShapeABC</span><span class=p>):</span>  <span class=c1># Must inherit</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>width</span><span class=p>,</span> <span class=n>height</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>width</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>height</span>

    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span>

<span class=c1># Protocol: structural typing</span>
<span class=k>class</span><span class=w> </span><span class=nc>ShapeProtocol</span><span class=p>(</span><span class=n>Protocol</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>CircleProtocol</span><span class=p>:</span>  <span class=c1># No inheritance needed!</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>radius</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>radius</span>

    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>math</span>
        <span class=k>return</span> <span class=n>math</span><span class=o>.</span><span class=n>pi</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>**</span> <span class=mi>2</span>

<span class=k>def</span><span class=w> </span><span class=nf>print_area</span><span class=p>(</span><span class=n>shape</span><span class=p>:</span> <span class=n>ShapeProtocol</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Area: </span><span class=si>{</span><span class=n>shape</span><span class=o>.</span><span class=n>area</span><span class=p>()</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>print_area</span><span class=p>(</span><span class=n>CircleProtocol</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>

<span class=c1># 10. Generic Protocol</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>TypeVar</span>

<span class=n>T</span> <span class=o>=</span> <span class=n>TypeVar</span><span class=p>(</span><span class=s1>&#39;T&#39;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Stack</span><span class=p>(</span><span class=n>Protocol</span><span class=p>[</span><span class=n>T</span><span class=p>]):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Protocol for stack data structure.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>push</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>:</span> <span class=n>T</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
        <span class=o>...</span>

    <span class=k>def</span><span class=w> </span><span class=nf>pop</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>T</span><span class=p>:</span>
        <span class=o>...</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_empty</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=o>...</span>

<span class=k>class</span><span class=w> </span><span class=nc>ListStack</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Stack using list.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>push</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>pop</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_empty</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span>

<span class=k>def</span><span class=w> </span><span class=nf>process_stack</span><span class=p>(</span><span class=n>stack</span><span class=p>:</span> <span class=n>Stack</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process integer stack.&quot;&quot;&quot;</span>
    <span class=n>total</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>while</span> <span class=ow>not</span> <span class=n>stack</span><span class=o>.</span><span class=n>is_empty</span><span class=p>():</span>
        <span class=n>total</span> <span class=o>+=</span> <span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>total</span>

<span class=n>stack</span> <span class=o>=</span> <span class=n>ListStack</span><span class=p>()</span>
<span class=n>stack</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=n>stack</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=n>stack</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Total: </span><span class=si>{</span><span class=n>process_stack</span><span class=p>(</span><span class=n>stack</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <p><strong>Protocol vs ABC:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>ABC</th> <th>Protocol</th> </tr> </thead> <tbody> <tr> <td><strong>Inheritance</strong></td> <td>Required</td> <td>Not required</td> </tr> <tr> <td><strong>Type Checking</strong></td> <td>Nominal</td> <td>Structural</td> </tr> <tr> <td><strong>Runtime Check</strong></td> <td>Always</td> <td>With <code>@runtime_checkable</code></td> </tr> <tr> <td><strong>Duck Typing</strong></td> <td>‚ùå No</td> <td>‚úÖ Yes</td> </tr> <tr> <td><strong>Flexibility</strong></td> <td>Less</td> <td>More</td> </tr> </tbody> </table> <p><strong>When to Use:</strong></p> <table> <thead> <tr> <th>Use Case</th> <th>Choice</th> <th>Reason</th> </tr> </thead> <tbody> <tr> <td><strong>Your code</strong></td> <td>ABC</td> <td>Control implementations</td> </tr> <tr> <td><strong>Third-party</strong></td> <td>Protocol</td> <td>No inheritance needed</td> </tr> <tr> <td><strong>Duck typing</strong></td> <td>Protocol</td> <td>Pythonic flexibility</td> </tr> <tr> <td><strong>Strict contract</strong></td> <td>ABC</td> <td>Enforce implementation</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Protocol: structural subtyping (duck typing)"</li> <li>"No inheritance required"</li> <li>"<code>@runtime_checkable</code>: enable isinstance() checks"</li> <li>"More flexible than ABC"</li> <li>"Works with third-party classes"</li> <li>"Type hints: <code>def func(obj: Protocol)</code>"</li> <li>"Can define properties, methods, magic methods"</li> <li>"Pythonic: 'looks like a duck, quacks like a duck'"</li> </ul> </div> </details> <hr> <h3 id=explain-operator-overloading-amazon-microsoft-interview-question>Explain Operator Overloading - Amazon, Microsoft Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Magic Methods</code>, <code>OOP</code>, <code>Operators</code> | <strong>Asked by:</strong> Amazon, Microsoft, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>Operator overloading</strong> lets you define custom behavior for operators (<code>+</code>, <code>-</code>, <code>*</code>, etc.) by implementing special methods (<code>__add__</code>, <code>__sub__</code>, etc.).</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Vector Class with Operators</span>
<span class=k>class</span><span class=w> </span><span class=nc>Vector</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;2D vector with operator overloading.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=n>y</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__add__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Add vectors: v1 + v2&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>Vector</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>+</span> <span class=n>other</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>+</span> <span class=n>other</span><span class=o>.</span><span class=n>y</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__sub__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Subtract vectors: v1 - v2&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>Vector</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>-</span> <span class=n>other</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>-</span> <span class=n>other</span><span class=o>.</span><span class=n>y</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__mul__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>scalar</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Multiply by scalar: v * 3&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>Vector</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>scalar</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>scalar</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__rmul__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>scalar</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Right multiply: 3 * v&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=fm>__mul__</span><span class=p>(</span><span class=n>scalar</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__truediv__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>scalar</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Divide by scalar: v / 2&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>Vector</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>/</span> <span class=n>scalar</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>/</span> <span class=n>scalar</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__neg__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Negate: -v&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>Vector</span><span class=p>(</span><span class=o>-</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=o>-</span><span class=bp>self</span><span class=o>.</span><span class=n>y</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__abs__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Magnitude: abs(v)&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>**</span> <span class=mi>2</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>**</span> <span class=mi>2</span><span class=p>)</span> <span class=o>**</span> <span class=mf>0.5</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Equality: v1 == v2&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>x</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>y</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;String representation.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Vector(</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>y</span><span class=si>}</span><span class=s2>)&quot;</span>

<span class=n>v1</span> <span class=o>=</span> <span class=n>Vector</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>v2</span> <span class=o>=</span> <span class=n>Vector</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>v1</span> <span class=o>+</span> <span class=n>v2</span><span class=p>)</span>      <span class=c1># Vector(4, 6)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>v1</span> <span class=o>-</span> <span class=n>v2</span><span class=p>)</span>      <span class=c1># Vector(-2, -2)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>v1</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span>       <span class=c1># Vector(3, 6)</span>
<span class=nb>print</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=n>v1</span><span class=p>)</span>       <span class=c1># Vector(3, 6)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>v1</span> <span class=o>/</span> <span class=mi>2</span><span class=p>)</span>       <span class=c1># Vector(0.5, 1.0)</span>
<span class=nb>print</span><span class=p>(</span><span class=o>-</span><span class=n>v1</span><span class=p>)</span>          <span class=c1># Vector(-1, -2)</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>abs</span><span class=p>(</span><span class=n>v1</span><span class=p>))</span>      <span class=c1># 2.236...</span>
<span class=nb>print</span><span class=p>(</span><span class=n>v1</span> <span class=o>==</span> <span class=n>v2</span><span class=p>)</span>     <span class=c1># False</span>

<span class=c1># 2. Fraction Class</span>
<span class=kn>from</span><span class=w> </span><span class=nn>math</span><span class=w> </span><span class=kn>import</span> <span class=n>gcd</span>

<span class=k>class</span><span class=w> </span><span class=nc>Fraction</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Fraction with operator overloading.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>numerator</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>denominator</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>denominator</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Denominator cannot be zero&quot;</span><span class=p>)</span>

        <span class=c1># Simplify</span>
        <span class=n>g</span> <span class=o>=</span> <span class=n>gcd</span><span class=p>(</span><span class=nb>abs</span><span class=p>(</span><span class=n>numerator</span><span class=p>),</span> <span class=nb>abs</span><span class=p>(</span><span class=n>denominator</span><span class=p>))</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>=</span> <span class=n>numerator</span> <span class=o>//</span> <span class=n>g</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>den</span> <span class=o>=</span> <span class=n>denominator</span> <span class=o>//</span> <span class=n>g</span>

        <span class=c1># Handle negative</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>=</span> <span class=o>-</span><span class=bp>self</span><span class=o>.</span><span class=n>num</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>den</span> <span class=o>=</span> <span class=o>-</span><span class=bp>self</span><span class=o>.</span><span class=n>den</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__add__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Add fractions.&quot;&quot;&quot;</span>
        <span class=n>num</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>den</span> <span class=o>+</span> <span class=n>other</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span>
        <span class=n>den</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>den</span>
        <span class=k>return</span> <span class=n>Fraction</span><span class=p>(</span><span class=n>num</span><span class=p>,</span> <span class=n>den</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__sub__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Subtract fractions.&quot;&quot;&quot;</span>
        <span class=n>num</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>den</span> <span class=o>-</span> <span class=n>other</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span>
        <span class=n>den</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>den</span>
        <span class=k>return</span> <span class=n>Fraction</span><span class=p>(</span><span class=n>num</span><span class=p>,</span> <span class=n>den</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__mul__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Multiply fractions.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>Fraction</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>num</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>den</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__truediv__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Divide fractions.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>Fraction</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>den</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>num</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Less than comparison.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>den</span> <span class=o>&lt;</span> <span class=n>other</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__le__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Less than or equal.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=n>other</span><span class=o>.</span><span class=n>den</span> <span class=o>&lt;=</span> <span class=n>other</span><span class=o>.</span><span class=n>num</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Equality.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>num</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>den</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__float__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert to float.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>num</span> <span class=o>/</span> <span class=bp>self</span><span class=o>.</span><span class=n>den</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Fraction(</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>num</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>den</span><span class=si>}</span><span class=s2>)&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>num</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>den</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=n>f1</span> <span class=o>=</span> <span class=n>Fraction</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>f2</span> <span class=o>=</span> <span class=n>Fraction</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>f1</span> <span class=o>+</span> <span class=n>f2</span><span class=p>)</span>    <span class=c1># 5/6</span>
<span class=nb>print</span><span class=p>(</span><span class=n>f1</span> <span class=o>-</span> <span class=n>f2</span><span class=p>)</span>    <span class=c1># 1/6</span>
<span class=nb>print</span><span class=p>(</span><span class=n>f1</span> <span class=o>*</span> <span class=n>f2</span><span class=p>)</span>    <span class=c1># 1/6</span>
<span class=nb>print</span><span class=p>(</span><span class=n>f1</span> <span class=o>/</span> <span class=n>f2</span><span class=p>)</span>    <span class=c1># 3/2</span>
<span class=nb>print</span><span class=p>(</span><span class=n>f1</span> <span class=o>&lt;</span> <span class=n>f2</span><span class=p>)</span>    <span class=c1># False</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>float</span><span class=p>(</span><span class=n>f1</span><span class=p>))</span>  <span class=c1># 0.5</span>

<span class=c1># 3. Matrix Class</span>
<span class=k>class</span><span class=w> </span><span class=nc>Matrix</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple matrix with operators.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>list</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>rows</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cols</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Access: m[i][j]&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__setitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Set: m[i][j] = value&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__add__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Matrix addition.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>rows</span> <span class=o>!=</span> <span class=n>other</span><span class=o>.</span><span class=n>rows</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>cols</span> <span class=o>!=</span> <span class=n>other</span><span class=o>.</span><span class=n>cols</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Matrix dimensions must match&quot;</span><span class=p>)</span>

        <span class=n>result</span> <span class=o>=</span> <span class=p>[</span>
            <span class=p>[</span><span class=bp>self</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>+</span> <span class=n>other</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cols</span><span class=p>)]</span>
            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>)</span>
        <span class=p>]</span>
        <span class=k>return</span> <span class=n>Matrix</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__mul__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Matrix multiplication or scalar multiplication.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>float</span><span class=p>)):</span>
            <span class=c1># Scalar multiplication</span>
            <span class=n>result</span> <span class=o>=</span> <span class=p>[</span>
                <span class=p>[</span><span class=bp>self</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>*</span> <span class=n>other</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cols</span><span class=p>)]</span>
                <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>)</span>
            <span class=p>]</span>
            <span class=k>return</span> <span class=n>Matrix</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=c1># Matrix multiplication</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>cols</span> <span class=o>!=</span> <span class=n>other</span><span class=o>.</span><span class=n>rows</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid dimensions for multiplication&quot;</span><span class=p>)</span>

            <span class=n>result</span> <span class=o>=</span> <span class=p>[</span>
                <span class=p>[</span>
                    <span class=nb>sum</span><span class=p>(</span><span class=bp>self</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>k</span><span class=p>]</span> <span class=o>*</span> <span class=n>other</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cols</span><span class=p>))</span>
                    <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>other</span><span class=o>.</span><span class=n>cols</span><span class=p>)</span>
                <span class=p>]</span>
                <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>)</span>
            <span class=p>]</span>
            <span class=k>return</span> <span class=n>Matrix</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Matrix(</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=si>}</span><span class=s2>)&quot;</span>

<span class=n>m1</span> <span class=o>=</span> <span class=n>Matrix</span><span class=p>([[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]])</span>
<span class=n>m2</span> <span class=o>=</span> <span class=n>Matrix</span><span class=p>([[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]])</span>

<span class=n>m3</span> <span class=o>=</span> <span class=n>m1</span> <span class=o>+</span> <span class=n>m2</span>
<span class=nb>print</span><span class=p>(</span><span class=n>m3</span><span class=p>)</span>  <span class=c1># [[6, 8], [10, 12]]</span>

<span class=n>m4</span> <span class=o>=</span> <span class=n>m1</span> <span class=o>*</span> <span class=mi>2</span>
<span class=nb>print</span><span class=p>(</span><span class=n>m4</span><span class=p>)</span>  <span class=c1># [[2, 4], [6, 8]]</span>

<span class=c1># 4. Custom Container</span>
<span class=k>class</span><span class=w> </span><span class=nc>MyList</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom list with operators.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>items</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=o>=</span> <span class=n>items</span> <span class=ow>or</span> <span class=p>[]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Length: len(mylist)&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Access: mylist[i]&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__setitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Set: mylist[i] = value&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__delitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Delete: del mylist[i]&quot;&quot;&quot;</span>
        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__contains__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Membership: item in mylist&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>item</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>items</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Iteration: for x in mylist&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>iter</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__add__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Concatenation: mylist + other&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>MyList</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=o>+</span> <span class=n>other</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__mul__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Repetition: mylist * 3&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>MyList</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=o>*</span> <span class=n>n</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;MyList(</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=si>}</span><span class=s2>)&quot;</span>

<span class=n>ml</span> <span class=o>=</span> <span class=n>MyList</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>ml</span><span class=p>))</span>      <span class=c1># 3</span>
<span class=nb>print</span><span class=p>(</span><span class=n>ml</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>        <span class=c1># 1</span>
<span class=nb>print</span><span class=p>(</span><span class=mi>2</span> <span class=ow>in</span> <span class=n>ml</span><span class=p>)</span>      <span class=c1># True</span>
<span class=nb>print</span><span class=p>(</span><span class=n>ml</span> <span class=o>+</span> <span class=n>ml</span><span class=p>)</span>      <span class=c1># MyList([1, 2, 3, 1, 2, 3])</span>
<span class=nb>print</span><span class=p>(</span><span class=n>ml</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span>       <span class=c1># MyList([1, 2, 3, 1, 2, 3])</span>

<span class=c1># 5. Comparison Operators</span>
<span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>total_ordering</span>

<span class=nd>@total_ordering</span>
<span class=k>class</span><span class=w> </span><span class=nc>Grade</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Grade with full comparison operators.&quot;&quot;&quot;</span>

    <span class=n>GRADES</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;A&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s1>&#39;B&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;C&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;D&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;F&#39;</span><span class=p>:</span> <span class=mi>0</span><span class=p>}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>letter</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>letter</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>GRADES</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid grade: </span><span class=si>{</span><span class=n>letter</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>letter</span> <span class=o>=</span> <span class=n>letter</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>GRADES</span><span class=p>[</span><span class=n>letter</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Equality.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Less than.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>&lt;</span> <span class=n>other</span><span class=o>.</span><span class=n>value</span>

    <span class=c1># @total_ordering generates: &gt;, &gt;=, &lt;=, !=</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Grade(&#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>letter</span><span class=si>}</span><span class=s2>&#39;)&quot;</span>

<span class=n>grades</span> <span class=o>=</span> <span class=p>[</span><span class=n>Grade</span><span class=p>(</span><span class=s1>&#39;B&#39;</span><span class=p>),</span> <span class=n>Grade</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>),</span> <span class=n>Grade</span><span class=p>(</span><span class=s1>&#39;C&#39;</span><span class=p>),</span> <span class=n>Grade</span><span class=p>(</span><span class=s1>&#39;D&#39;</span><span class=p>)]</span>
<span class=n>sorted_grades</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>grades</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>sorted_grades</span><span class=p>)</span>  <span class=c1># [D, C, B, A]</span>

<span class=nb>print</span><span class=p>(</span><span class=n>Grade</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>)</span> <span class=o>&gt;</span> <span class=n>Grade</span><span class=p>(</span><span class=s1>&#39;B&#39;</span><span class=p>))</span>   <span class=c1># True</span>
<span class=nb>print</span><span class=p>(</span><span class=n>Grade</span><span class=p>(</span><span class=s1>&#39;C&#39;</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=n>Grade</span><span class=p>(</span><span class=s1>&#39;B&#39;</span><span class=p>))</span>  <span class=c1># True</span>

<span class=c1># 6. Context Manager</span>
<span class=k>class</span><span class=w> </span><span class=nc>Timer</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Timer using enter/exit operators.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__enter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Start timing.&quot;&quot;&quot;</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>time</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__exit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Stop timing.&quot;&quot;&quot;</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>time</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>duration</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>end</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>start</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Duration: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>duration</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>

<span class=k>with</span> <span class=n>Timer</span><span class=p>():</span>
    <span class=c1># Code to time</span>
    <span class=nb>sum</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>1000000</span><span class=p>))</span>

<span class=c1># 7. Callable Object</span>
<span class=k>class</span><span class=w> </span><span class=nc>Multiplier</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Callable object.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>factor</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>factor</span> <span class=o>=</span> <span class=n>factor</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Make object callable.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>x</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>factor</span>

<span class=n>double</span> <span class=o>=</span> <span class=n>Multiplier</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=n>triple</span> <span class=o>=</span> <span class=n>Multiplier</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>double</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>  <span class=c1># 10</span>
<span class=nb>print</span><span class=p>(</span><span class=n>triple</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>  <span class=c1># 15</span>
</code></pre></div> <p><strong>Common Magic Methods:</strong></p> <table> <thead> <tr> <th>Operator</th> <th>Method</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><code>+</code></td> <td><code>__add__</code></td> <td><code>a + b</code></td> </tr> <tr> <td><code>-</code></td> <td><code>__sub__</code></td> <td><code>a - b</code></td> </tr> <tr> <td><code>*</code></td> <td><code>__mul__</code></td> <td><code>a * b</code></td> </tr> <tr> <td><code>/</code></td> <td><code>__truediv__</code></td> <td><code>a / b</code></td> </tr> <tr> <td><code>//</code></td> <td><code>__floordiv__</code></td> <td><code>a // b</code></td> </tr> <tr> <td><code>%</code></td> <td><code>__mod__</code></td> <td><code>a % b</code></td> </tr> <tr> <td><code>**</code></td> <td><code>__pow__</code></td> <td><code>a ** b</code></td> </tr> <tr> <td><code>==</code></td> <td><code>__eq__</code></td> <td><code>a == b</code></td> </tr> <tr> <td><code>&lt;</code></td> <td><code>__lt__</code></td> <td><code>a &lt; b</code></td> </tr> <tr> <td><code>&lt;=</code></td> <td><code>__le__</code></td> <td><code>a &lt;= b</code></td> </tr> <tr> <td><code>[]</code></td> <td><code>__getitem__</code></td> <td><code>a[i]</code></td> </tr> <tr> <td><code>len()</code></td> <td><code>__len__</code></td> <td><code>len(a)</code></td> </tr> <tr> <td><code>str()</code></td> <td><code>__str__</code></td> <td><code>str(a)</code></td> </tr> <tr> <td><code>repr()</code></td> <td><code>__repr__</code></td> <td><code>repr(a)</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Magic methods: <code>__add__</code>, <code>__sub__</code>, <code>__mul__</code>, etc."</li> <li>"<code>__eq__</code>, <code>__lt__</code>: comparison operators"</li> <li>"<code>__getitem__</code>, <code>__setitem__</code>: indexing"</li> <li>"<code>__len__</code>, <code>__contains__</code>: container methods"</li> <li>"<code>__str__</code>, <code>__repr__</code>: string representation"</li> <li>"<code>__call__</code>: make object callable"</li> <li>"<code>@total_ordering</code>: auto-generate comparisons"</li> <li>"Use for domain objects (Vector, Fraction, etc.)"</li> </ul> </div> </details> <hr> <h3 id=explain-classmethod-vs-staticmethod-google-amazon-interview-question>Explain classmethod vs staticmethod - Google, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>OOP</code>, <code>Methods</code>, <code>Decorators</code> | <strong>Asked by:</strong> Google, Amazon, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong><code>@classmethod</code></strong> receives the class as first argument (<code>cls</code>), while <strong><code>@staticmethod</code></strong> receives no implicit first argument. <strong>Instance methods</strong> receive <code>self</code>.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>datetime</span>

<span class=c1># 1. Basic Comparison</span>
<span class=k>class</span><span class=w> </span><span class=nc>Example</span><span class=p>:</span>
    <span class=n>class_var</span> <span class=o>=</span> <span class=s2>&quot;shared&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>instance_method</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Regular method: receives self.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Instance: </span><span class=si>{</span><span class=bp>self</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>class_method</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Class method: receives cls.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Class: </span><span class=si>{</span><span class=bp>cls</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>static_method</span><span class=p>():</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Static method: no implicit argument.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=s2>&quot;Static: no self/cls&quot;</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>Example</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>instance_method</span><span class=p>())</span>   <span class=c1># Instance: &lt;Example object&gt;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>Example</span><span class=o>.</span><span class=n>class_method</span><span class=p>())</span>  <span class=c1># Class: Example</span>
<span class=nb>print</span><span class=p>(</span><span class=n>Example</span><span class=o>.</span><span class=n>static_method</span><span class=p>())</span> <span class=c1># Static: no self/cls</span>

<span class=c1># 2. Alternative Constructors with @classmethod</span>
<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Person with alternative constructors.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>from_birth_year</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>birth_year</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Create from birth year.&quot;&quot;&quot;</span>
        <span class=n>age</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>year</span> <span class=o>-</span> <span class=n>birth_year</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>)</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>from_string</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>person_str</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Create from &#39;Name,Age&#39; string.&quot;&quot;&quot;</span>
        <span class=n>name</span><span class=p>,</span> <span class=n>age</span> <span class=o>=</span> <span class=n>person_str</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=nb>int</span><span class=p>(</span><span class=n>age</span><span class=p>))</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Person(&#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&#39;, </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=si>}</span><span class=s2>)&quot;</span>

<span class=c1># Regular constructor</span>
<span class=n>p1</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>

<span class=c1># Alternative constructors</span>
<span class=n>p2</span> <span class=o>=</span> <span class=n>Person</span><span class=o>.</span><span class=n>from_birth_year</span><span class=p>(</span><span class=s2>&quot;Bob&quot;</span><span class=p>,</span> <span class=mi>1990</span><span class=p>)</span>
<span class=n>p3</span> <span class=o>=</span> <span class=n>Person</span><span class=o>.</span><span class=n>from_string</span><span class=p>(</span><span class=s2>&quot;Charlie,25&quot;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>p1</span><span class=p>,</span> <span class=n>p2</span><span class=p>,</span> <span class=n>p3</span><span class=p>)</span>

<span class=c1># 3. Factory Pattern with @classmethod</span>
<span class=k>class</span><span class=w> </span><span class=nc>Shape</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Base shape class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>shape_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>shape_type</span> <span class=o>=</span> <span class=n>shape_type</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>create_circle</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>radius</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Factory for circle.&quot;&quot;&quot;</span>
        <span class=n>obj</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span><span class=s2>&quot;circle&quot;</span><span class=p>)</span>
        <span class=n>obj</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>radius</span>
        <span class=k>return</span> <span class=n>obj</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>create_rectangle</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>width</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>height</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Factory for rectangle.&quot;&quot;&quot;</span>
        <span class=n>obj</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span><span class=s2>&quot;rectangle&quot;</span><span class=p>)</span>
        <span class=n>obj</span><span class=o>.</span><span class=n>width</span> <span class=o>=</span> <span class=n>width</span>
        <span class=n>obj</span><span class=o>.</span><span class=n>height</span> <span class=o>=</span> <span class=n>height</span>
        <span class=k>return</span> <span class=n>obj</span>

    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Calculate area.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>shape_type</span> <span class=o>==</span> <span class=s2>&quot;circle&quot;</span><span class=p>:</span>
            <span class=kn>import</span><span class=w> </span><span class=nn>math</span>
            <span class=k>return</span> <span class=n>math</span><span class=o>.</span><span class=n>pi</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>**</span> <span class=mi>2</span>
        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>shape_type</span> <span class=o>==</span> <span class=s2>&quot;rectangle&quot;</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>width</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>height</span>
        <span class=k>return</span> <span class=mi>0</span>

<span class=n>circle</span> <span class=o>=</span> <span class=n>Shape</span><span class=o>.</span><span class=n>create_circle</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=n>rect</span> <span class=o>=</span> <span class=n>Shape</span><span class=o>.</span><span class=n>create_rectangle</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Circle area: </span><span class=si>{</span><span class=n>circle</span><span class=o>.</span><span class=n>area</span><span class=p>()</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Rectangle area: </span><span class=si>{</span><span class=n>rect</span><span class=o>.</span><span class=n>area</span><span class=p>()</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 4. Validation with @staticmethod</span>
<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User with validation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>username</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_valid_username</span><span class=p>(</span><span class=n>username</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid username&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_valid_email</span><span class=p>(</span><span class=n>email</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid email&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_valid_age</span><span class=p>(</span><span class=n>age</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid age&quot;</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>username</span> <span class=o>=</span> <span class=n>username</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=n>email</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>is_valid_username</span><span class=p>(</span><span class=n>username</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate username (no self/cls needed).&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>username</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=mi>3</span> <span class=ow>and</span> <span class=n>username</span><span class=o>.</span><span class=n>isalnum</span><span class=p>()</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>is_valid_email</span><span class=p>(</span><span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate email.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=s1>&#39;@&#39;</span> <span class=ow>in</span> <span class=n>email</span> <span class=ow>and</span> <span class=s1>&#39;.&#39;</span> <span class=ow>in</span> <span class=n>email</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;@&#39;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>is_valid_age</span><span class=p>(</span><span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate age.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>age</span> <span class=o>&lt;=</span> <span class=mi>150</span>

<span class=c1># Use validation before creating object</span>
<span class=k>if</span> <span class=n>User</span><span class=o>.</span><span class=n>is_valid_username</span><span class=p>(</span><span class=s2>&quot;alice123&quot;</span><span class=p>):</span>
    <span class=n>user</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span><span class=s2>&quot;alice123&quot;</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>

<span class=c1># 5. Counting Instances with @classmethod</span>
<span class=k>class</span><span class=w> </span><span class=nc>Counter</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Track number of instances.&quot;&quot;&quot;</span>

    <span class=n>_count</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=n>Counter</span><span class=o>.</span><span class=n>_count</span> <span class=o>+=</span> <span class=mi>1</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>get_count</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get instance count.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_count</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>reset_count</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Reset counter.&quot;&quot;&quot;</span>
        <span class=bp>cls</span><span class=o>.</span><span class=n>_count</span> <span class=o>=</span> <span class=mi>0</span>

<span class=n>c1</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=s2>&quot;first&quot;</span><span class=p>)</span>
<span class=n>c2</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=s2>&quot;second&quot;</span><span class=p>)</span>
<span class=n>c3</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span><span class=s2>&quot;third&quot;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Instances created: </span><span class=si>{</span><span class=n>Counter</span><span class=o>.</span><span class=n>get_count</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 3</span>

<span class=n>Counter</span><span class=o>.</span><span class=n>reset_count</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;After reset: </span><span class=si>{</span><span class=n>Counter</span><span class=o>.</span><span class=n>get_count</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 0</span>

<span class=c1># 6. Configuration with @classmethod</span>
<span class=k>class</span><span class=w> </span><span class=nc>Database</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Database with configuration.&quot;&quot;&quot;</span>

    <span class=n>_connection</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>_config</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>configure</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>host</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>port</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>database</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Configure database connection.&quot;&quot;&quot;</span>
        <span class=bp>cls</span><span class=o>.</span><span class=n>_config</span> <span class=o>=</span> <span class=p>{</span>
            <span class=s2>&quot;host&quot;</span><span class=p>:</span> <span class=n>host</span><span class=p>,</span>
            <span class=s2>&quot;port&quot;</span><span class=p>:</span> <span class=n>port</span><span class=p>,</span>
            <span class=s2>&quot;database&quot;</span><span class=p>:</span> <span class=n>database</span>
        <span class=p>}</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>connect</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Create connection using config.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_connection</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>cls</span><span class=o>.</span><span class=n>_connection</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Connected to </span><span class=si>{</span><span class=bp>cls</span><span class=o>.</span><span class=n>_config</span><span class=p>[</span><span class=s1>&#39;host&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_connection</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>validate_query</span><span class=p>(</span><span class=n>query</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate SQL query (utility function).&quot;&quot;&quot;</span>
        <span class=n>dangerous</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;DROP&#39;</span><span class=p>,</span> <span class=s1>&#39;DELETE&#39;</span><span class=p>,</span> <span class=s1>&#39;TRUNCATE&#39;</span><span class=p>]</span>
        <span class=k>return</span> <span class=ow>not</span> <span class=nb>any</span><span class=p>(</span><span class=n>word</span> <span class=ow>in</span> <span class=n>query</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>dangerous</span><span class=p>)</span>

<span class=n>Database</span><span class=o>.</span><span class=n>configure</span><span class=p>(</span><span class=s2>&quot;localhost&quot;</span><span class=p>,</span> <span class=mi>5432</span><span class=p>,</span> <span class=s2>&quot;mydb&quot;</span><span class=p>)</span>
<span class=n>connection</span> <span class=o>=</span> <span class=n>Database</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>connection</span><span class=p>)</span>

<span class=k>if</span> <span class=n>Database</span><span class=o>.</span><span class=n>validate_query</span><span class=p>(</span><span class=s2>&quot;SELECT * FROM users&quot;</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Safe query&quot;</span><span class=p>)</span>

<span class=c1># 7. Inheritance Behavior</span>
<span class=k>class</span><span class=w> </span><span class=nc>Parent</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Parent class.&quot;&quot;&quot;</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>identify</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Identify class.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;I am </span><span class=si>{</span><span class=bp>cls</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>utility</span><span class=p>():</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Static utility.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=s2>&quot;Utility function&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>Child</span><span class=p>(</span><span class=n>Parent</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Child class.&quot;&quot;&quot;</span>
    <span class=k>pass</span>

<span class=c1># @classmethod uses actual class</span>
<span class=nb>print</span><span class=p>(</span><span class=n>Parent</span><span class=o>.</span><span class=n>identify</span><span class=p>())</span>  <span class=c1># I am Parent</span>
<span class=nb>print</span><span class=p>(</span><span class=n>Child</span><span class=o>.</span><span class=n>identify</span><span class=p>())</span>   <span class=c1># I am Child (different!)</span>

<span class=c1># @staticmethod is the same</span>
<span class=nb>print</span><span class=p>(</span><span class=n>Parent</span><span class=o>.</span><span class=n>utility</span><span class=p>())</span>   <span class=c1># Utility function</span>
<span class=nb>print</span><span class=p>(</span><span class=n>Child</span><span class=o>.</span><span class=n>utility</span><span class=p>())</span>    <span class=c1># Utility function (same)</span>

<span class=c1># 8. Date Parser Example</span>
<span class=k>class</span><span class=w> </span><span class=nc>DateParser</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Parse dates in various formats.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>date</span><span class=p>:</span> <span class=n>datetime</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>date</span> <span class=o>=</span> <span class=n>date</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>from_iso</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>iso_string</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Parse ISO format: 2024-01-15.&quot;&quot;&quot;</span>
        <span class=n>date</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>iso_string</span><span class=p>,</span> <span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=n>date</span><span class=p>)</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>from_us</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>us_string</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Parse US format: 01/15/2024.&quot;&quot;&quot;</span>
        <span class=n>date</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>us_string</span><span class=p>,</span> <span class=s2>&quot;%m/</span><span class=si>%d</span><span class=s2>/%Y&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=n>date</span><span class=p>)</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>from_timestamp</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>timestamp</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Parse Unix timestamp.&quot;&quot;&quot;</span>
        <span class=n>date</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>fromtimestamp</span><span class=p>(</span><span class=n>timestamp</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=p>(</span><span class=n>date</span><span class=p>)</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>is_valid_iso</span><span class=p>(</span><span class=n>date_string</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Check if string is valid ISO date.&quot;&quot;&quot;</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>date_string</span><span class=p>,</span> <span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=k>return</span> <span class=kc>True</span>
        <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>False</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;DateParser(</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>date</span><span class=si>}</span><span class=s2>)&quot;</span>

<span class=n>d1</span> <span class=o>=</span> <span class=n>DateParser</span><span class=o>.</span><span class=n>from_iso</span><span class=p>(</span><span class=s2>&quot;2024-01-15&quot;</span><span class=p>)</span>
<span class=n>d2</span> <span class=o>=</span> <span class=n>DateParser</span><span class=o>.</span><span class=n>from_us</span><span class=p>(</span><span class=s2>&quot;01/15/2024&quot;</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>DateParser</span><span class=o>.</span><span class=n>is_valid_iso</span><span class=p>(</span><span class=s2>&quot;2024-01-15&quot;</span><span class=p>))</span>  <span class=c1># True</span>
<span class=nb>print</span><span class=p>(</span><span class=n>DateParser</span><span class=o>.</span><span class=n>is_valid_iso</span><span class=p>(</span><span class=s2>&quot;invalid&quot;</span><span class=p>))</span>     <span class=c1># False</span>
</code></pre></div> <p><strong>Comparison:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>Instance Method</th> <th>@classmethod</th> <th>@staticmethod</th> </tr> </thead> <tbody> <tr> <td><strong>First arg</strong></td> <td><code>self</code> (instance)</td> <td><code>cls</code> (class)</td> <td>None</td> </tr> <tr> <td><strong>Access instance</strong></td> <td>‚úÖ Yes</td> <td>‚ùå No</td> <td>‚ùå No</td> </tr> <tr> <td><strong>Access class</strong></td> <td>‚úÖ Yes</td> <td>‚úÖ Yes</td> <td>‚ùå No</td> </tr> <tr> <td><strong>Inheritance</strong></td> <td>Polymorphic</td> <td>Polymorphic</td> <td>Not polymorphic</td> </tr> <tr> <td><strong>Use case</strong></td> <td>Instance data</td> <td>Alternative constructors</td> <td>Utilities</td> </tr> </tbody> </table> <p><strong>When to Use:</strong></p> <table> <thead> <tr> <th>Method Type</th> <th>Use Case</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Instance</strong></td> <td>Needs instance data</td> <td><code>obj.calculate()</code></td> </tr> <tr> <td><strong>@classmethod</strong></td> <td>Alternative constructors</td> <td><code>Person.from_birth_year()</code></td> </tr> <tr> <td><strong>@classmethod</strong></td> <td>Factory methods</td> <td><code>Shape.create_circle()</code></td> </tr> <tr> <td><strong>@staticmethod</strong></td> <td>Utility functions</td> <td><code>User.is_valid_email()</code></td> </tr> <tr> <td><strong>@staticmethod</strong></td> <td>No class/instance data</td> <td><code>Math.calculate_distance()</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Instance method: receives <code>self</code>, accesses instance"</li> <li>"<code>@classmethod</code>: receives <code>cls</code>, alternative constructors"</li> <li>"<code>@staticmethod</code>: no implicit argument, utility functions"</li> <li>"@classmethod polymorphic with inheritance"</li> <li>"@staticmethod same across inheritance"</li> <li>"Use @classmethod for factory methods"</li> <li>"Use @staticmethod for pure utility functions"</li> <li>"Can call all three from instance or class"</li> </ul> </div> </details> <hr> <h3 id=explain-pythons-import-system-dropbox-amazon-interview-question>Explain Python's Import System - Dropbox, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Modules</code>, <code>Packages</code>, <code>Imports</code> | <strong>Asked by:</strong> Dropbox, Amazon, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>Import system</strong> loads modules/packages. Supports absolute imports (<code>import package.module</code>), relative imports (<code>from . import module</code>), and <code>importlib</code> for dynamic imports.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Imports</span>
<span class=c1># Absolute import</span>
<span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>
<span class=kn>import</span><span class=w> </span><span class=nn>json</span>

<span class=c1># From import</span>
<span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
<span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Dict</span>

<span class=c1># Import with alias</span>
<span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<span class=kn>import</span><span class=w> </span><span class=nn>pandas</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>pd</span>

<span class=c1># Import all (avoid in production)</span>
<span class=c1># from math import *</span>

<span class=c1># 2. Relative Imports (in package)</span>
<span class=c1># mypackage/</span>
<span class=c1>#   __init__.py</span>
<span class=c1>#   module1.py</span>
<span class=c1>#   module2.py</span>
<span class=c1>#   sub/</span>
<span class=c1>#     __init__.py</span>
<span class=c1>#     module3.py</span>

<span class=c1># In module2.py:</span>
<span class=c1># from . import module1              # Same level</span>
<span class=c1># from .module1 import function      # Import from same level</span>
<span class=c1># from .. import module1             # Parent level</span>
<span class=c1># from ..sub import module3          # Sibling package</span>

<span class=c1># 3. __init__.py for Package Initialization</span>
<span class=c1># mypackage/__init__.py:</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd># Initialize package</span>
<span class=sd>from .module1 import function1</span>
<span class=sd>from .module2 import function2</span>

<span class=sd>__all__ = [&#39;function1&#39;, &#39;function2&#39;]</span>
<span class=sd>__version__ = &#39;1.0.0&#39;</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># Now can use:</span>
<span class=c1># from mypackage import function1</span>

<span class=c1># 4. Dynamic Imports with importlib</span>
<span class=kn>import</span><span class=w> </span><span class=nn>importlib</span>

<span class=c1># Import module by name</span>
<span class=n>module_name</span> <span class=o>=</span> <span class=s2>&quot;math&quot;</span>
<span class=n>math_module</span> <span class=o>=</span> <span class=n>importlib</span><span class=o>.</span><span class=n>import_module</span><span class=p>(</span><span class=n>module_name</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>math_module</span><span class=o>.</span><span class=n>pi</span><span class=p>)</span>  <span class=c1># 3.14159...</span>

<span class=c1># Import from package</span>
<span class=n>json_module</span> <span class=o>=</span> <span class=n>importlib</span><span class=o>.</span><span class=n>import_module</span><span class=p>(</span><span class=s2>&quot;json&quot;</span><span class=p>)</span>
<span class=n>data</span> <span class=o>=</span> <span class=n>json_module</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span><span class=s2>&quot;key&quot;</span><span class=p>:</span> <span class=s2>&quot;value&quot;</span><span class=p>})</span>

<span class=c1># Reload module (useful for development)</span>
<span class=n>importlib</span><span class=o>.</span><span class=n>reload</span><span class=p>(</span><span class=n>math_module</span><span class=p>)</span>

<span class=c1># 5. __import__ Built-in</span>
<span class=c1># Dynamic import (importlib preferred)</span>
<span class=n>os_module</span> <span class=o>=</span> <span class=nb>__import__</span><span class=p>(</span><span class=s1>&#39;os&#39;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>os_module</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>

<span class=c1># Import from package</span>
<span class=n>path_module</span> <span class=o>=</span> <span class=nb>__import__</span><span class=p>(</span><span class=s1>&#39;os.path&#39;</span><span class=p>,</span> <span class=n>fromlist</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;join&#39;</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=n>path_module</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s1>&#39;/usr&#39;</span><span class=p>,</span> <span class=s1>&#39;local&#39;</span><span class=p>))</span>

<span class=c1># 6. sys.modules (Module Cache)</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>

<span class=c1># Check if module loaded</span>
<span class=k>if</span> <span class=s1>&#39;math&#39;</span> <span class=ow>in</span> <span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;math already loaded&quot;</span><span class=p>)</span>

<span class=c1># Get loaded module</span>
<span class=n>math_module</span> <span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;math&#39;</span><span class=p>)</span>

<span class=c1># Remove from cache (force reload)</span>
<span class=k>if</span> <span class=s1>&#39;mymodule&#39;</span> <span class=ow>in</span> <span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=p>:</span>
    <span class=k>del</span> <span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=p>[</span><span class=s1>&#39;mymodule&#39;</span><span class=p>]</span>

<span class=c1># 7. sys.path (Module Search Path)</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>

<span class=c1># View search paths</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Module search paths:&quot;</span><span class=p>)</span>
<span class=k>for</span> <span class=n>path</span> <span class=ow>in</span> <span class=n>sys</span><span class=o>.</span><span class=n>path</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Add custom path</span>
<span class=n>sys</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;/custom/module/path&#39;</span><span class=p>)</span>
<span class=n>sys</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;/priority/path&#39;</span><span class=p>)</span>  <span class=c1># Higher priority</span>

<span class=c1># 8. Custom Module Loader</span>
<span class=kn>import</span><span class=w> </span><span class=nn>importlib.util</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>

<span class=k>def</span><span class=w> </span><span class=nf>load_module_from_file</span><span class=p>(</span><span class=n>module_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>file_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Load module from specific file.&quot;&quot;&quot;</span>
    <span class=n>spec</span> <span class=o>=</span> <span class=n>importlib</span><span class=o>.</span><span class=n>util</span><span class=o>.</span><span class=n>spec_from_file_location</span><span class=p>(</span><span class=n>module_name</span><span class=p>,</span> <span class=n>file_path</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>spec</span> <span class=ow>and</span> <span class=n>spec</span><span class=o>.</span><span class=n>loader</span><span class=p>:</span>
        <span class=n>module</span> <span class=o>=</span> <span class=n>importlib</span><span class=o>.</span><span class=n>util</span><span class=o>.</span><span class=n>module_from_spec</span><span class=p>(</span><span class=n>spec</span><span class=p>)</span>
        <span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=p>[</span><span class=n>module_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>module</span>
        <span class=n>spec</span><span class=o>.</span><span class=n>loader</span><span class=o>.</span><span class=n>exec_module</span><span class=p>(</span><span class=n>module</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>module</span>
    <span class=k>return</span> <span class=kc>None</span>

<span class=c1># my_module = load_module_from_file(&#39;mymod&#39;, &#39;/path/to/module.py&#39;)</span>

<span class=c1># 9. Lazy Imports</span>
<span class=k>class</span><span class=w> </span><span class=nc>LazyImport</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Lazy import wrapper.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>module_name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>module_name</span> <span class=o>=</span> <span class=n>module_name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_module</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__getattr__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_module</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Loading </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>module_name</span><span class=si>}</span><span class=s2>...&quot;</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_module</span> <span class=o>=</span> <span class=n>importlib</span><span class=o>.</span><span class=n>import_module</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>module_name</span><span class=p>)</span>
        <span class=k>return</span> <span class=nb>getattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_module</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>

<span class=c1># Lazy load numpy</span>
<span class=n>np_lazy</span> <span class=o>=</span> <span class=n>LazyImport</span><span class=p>(</span><span class=s1>&#39;numpy&#39;</span><span class=p>)</span>
<span class=c1># numpy not loaded yet</span>
<span class=c1># arr = np_lazy.array([1, 2, 3])  # Now numpy loads</span>

<span class=c1># 10. Module Introspection</span>
<span class=kn>import</span><span class=w> </span><span class=nn>inspect</span>

<span class=c1># Get module path</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;os path: </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=vm>__file__</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># List module contents</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;os contents:&quot;</span><span class=p>,</span> <span class=nb>dir</span><span class=p>(</span><span class=n>os</span><span class=p>))</span>

<span class=c1># Check if name is from module</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;getcwd from os: </span><span class=si>{</span><span class=nb>hasattr</span><span class=p>(</span><span class=n>os</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;getcwd&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># Get module members</span>
<span class=n>members</span> <span class=o>=</span> <span class=n>inspect</span><span class=o>.</span><span class=n>getmembers</span><span class=p>(</span><span class=n>os</span><span class=p>)</span>
<span class=n>functions</span> <span class=o>=</span> <span class=n>inspect</span><span class=o>.</span><span class=n>getmembers</span><span class=p>(</span><span class=n>os</span><span class=p>,</span> <span class=n>inspect</span><span class=o>.</span><span class=n>isfunction</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;os has </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>functions</span><span class=p>)</span><span class=si>}</span><span class=s2> functions&quot;</span><span class=p>)</span>

<span class=c1># 11. Circular Import Problem &amp; Solution</span>
<span class=c1># a.py:</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>from b import b_function</span>

<span class=sd>def a_function():</span>
<span class=sd>    return &quot;A&quot;</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># b.py (circular dependency):</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>from a import a_function  # Circular import!</span>

<span class=sd>def b_function():</span>
<span class=sd>    return &quot;B&quot;</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># Solution 1: Import inside function</span>
<span class=c1># b.py:</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>def b_function():</span>
<span class=sd>    from a import a_function  # Import when needed</span>
<span class=sd>    return &quot;B&quot;</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># Solution 2: Restructure to eliminate cycle</span>
<span class=c1># common.py:</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>def shared_function():</span>
<span class=sd>    return &quot;Shared&quot;</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># a.py:</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>from common import shared_function</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># b.py:</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>from common import shared_function</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 12. Import Hooks</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>
<span class=kn>from</span><span class=w> </span><span class=nn>importlib.abc</span><span class=w> </span><span class=kn>import</span> <span class=n>MetaPathFinder</span><span class=p>,</span> <span class=n>Loader</span>
<span class=kn>from</span><span class=w> </span><span class=nn>importlib.util</span><span class=w> </span><span class=kn>import</span> <span class=n>spec_from_loader</span>

<span class=k>class</span><span class=w> </span><span class=nc>CustomFinder</span><span class=p>(</span><span class=n>MetaPathFinder</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom import hook.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>find_spec</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fullname</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=n>target</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>fullname</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;auto_&#39;</span><span class=p>):</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Custom loading: </span><span class=si>{</span><span class=n>fullname</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=c1># Return spec for custom loader</span>
            <span class=k>return</span> <span class=n>spec_from_loader</span><span class=p>(</span><span class=n>fullname</span><span class=p>,</span> <span class=n>CustomLoader</span><span class=p>())</span>
        <span class=k>return</span> <span class=kc>None</span>

<span class=k>class</span><span class=w> </span><span class=nc>CustomLoader</span><span class=p>(</span><span class=n>Loader</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom module loader.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>create_module</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>spec</span><span class=p>):</span>
        <span class=k>return</span> <span class=kc>None</span>  <span class=c1># Use default module creation</span>

    <span class=k>def</span><span class=w> </span><span class=nf>exec_module</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>module</span><span class=p>):</span>
        <span class=c1># Custom initialization</span>
        <span class=n>module</span><span class=o>.</span><span class=n>custom_attr</span> <span class=o>=</span> <span class=s2>&quot;Custom loaded&quot;</span>

<span class=c1># Install hook</span>
<span class=n>sys</span><span class=o>.</span><span class=n>meta_path</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>CustomFinder</span><span class=p>())</span>

<span class=c1># Now imports starting with &#39;auto_&#39; use custom loader</span>
<span class=c1># import auto_module</span>

<span class=c1># 13. __all__ for Wildcard Imports</span>
<span class=c1># mymodule.py:</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>__all__ = [&#39;public_function&#39;, &#39;PublicClass&#39;]</span>

<span class=sd>def public_function():</span>
<span class=sd>    pass</span>

<span class=sd>def _private_function():</span>
<span class=sd>    pass</span>

<span class=sd>class PublicClass:</span>
<span class=sd>    pass</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># Usage:</span>
<span class=c1># from mymodule import *  # Only imports items in __all__</span>

<span class=c1># 14. Import Performance</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=c1># Measure import time</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=kn>import</span><span class=w> </span><span class=nn>large_module</span>  <span class=c1># Replace with actual module</span>
<span class=n>import_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Import took: </span><span class=si>{</span><span class=n>import_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># Check module size in sys.modules</span>
<span class=n>module_count</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>modules</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Loaded modules: </span><span class=si>{</span><span class=n>module_count</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 15. Real-World Pattern: Plugin System</span>
<span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<span class=kn>import</span><span class=w> </span><span class=nn>importlib</span>
<span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>

<span class=k>class</span><span class=w> </span><span class=nc>PluginManager</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Manage plugins from directory.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>plugin_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>plugin_dir</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>plugin_dir</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>plugins</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>load_plugins</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Load all plugins from directory.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>plugin_dir</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
            <span class=k>return</span>

        <span class=c1># Add plugin directory to path</span>
        <span class=n>sys</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plugin_dir</span><span class=p>))</span>

        <span class=c1># Load all .py files</span>
        <span class=k>for</span> <span class=n>file</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>plugin_dir</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*.py&#39;</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>file</span><span class=o>.</span><span class=n>name</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;_&#39;</span><span class=p>):</span>
                <span class=k>continue</span>

            <span class=n>module_name</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>stem</span>
            <span class=k>try</span><span class=p>:</span>
                <span class=n>module</span> <span class=o>=</span> <span class=n>importlib</span><span class=o>.</span><span class=n>import_module</span><span class=p>(</span><span class=n>module_name</span><span class=p>)</span>

                <span class=c1># Get plugin class</span>
                <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>module</span><span class=p>,</span> <span class=s1>&#39;Plugin&#39;</span><span class=p>):</span>
                    <span class=n>plugin</span> <span class=o>=</span> <span class=n>module</span><span class=o>.</span><span class=n>Plugin</span><span class=p>()</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>plugins</span><span class=p>[</span><span class=n>module_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>plugin</span>
                    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Loaded plugin: </span><span class=si>{</span><span class=n>module_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Failed to load </span><span class=si>{</span><span class=n>module_name</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_plugin</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get plugin by name.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>plugins</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>list_plugins</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;List all loaded plugins.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plugins</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>

<span class=c1># manager = PluginManager(&#39;./plugins&#39;)</span>
<span class=c1># manager.load_plugins()</span>
<span class=c1># plugins = manager.list_plugins()</span>
</code></pre></div> <p><strong>Import Types:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Syntax</th> <th>Use Case</th> </tr> </thead> <tbody> <tr> <td><strong>Absolute</strong></td> <td><code>import package.module</code></td> <td>Clear, explicit</td> </tr> <tr> <td><strong>Relative</strong></td> <td><code>from . import module</code></td> <td>Within packages</td> </tr> <tr> <td><strong>Aliased</strong></td> <td><code>import numpy as np</code></td> <td>Shorter names</td> </tr> <tr> <td><strong>Selective</strong></td> <td><code>from math import pi</code></td> <td>Import specific</td> </tr> <tr> <td><strong>Dynamic</strong></td> <td><code>importlib.import_module()</code></td> <td>Runtime loading</td> </tr> </tbody> </table> <p><strong>Best Practices:</strong></p> <table> <thead> <tr> <th>Practice</th> <th>Reason</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Absolute imports</strong></td> <td>Clarity</td> <td><code>import package.module</code></td> </tr> <tr> <td><strong>Avoid <code>import *</code></strong></td> <td>Namespace pollution</td> <td>Use explicit imports</td> </tr> <tr> <td><strong>Order imports</strong></td> <td>Readability</td> <td>stdlib, third-party, local</td> </tr> <tr> <td><strong><strong>all</strong></strong></td> <td>Control exports</td> <td><code>__all__ = ['func1']</code></td> </tr> <tr> <td><strong>Lazy imports</strong></td> <td>Performance</td> <td>Import when needed</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Absolute imports: <code>import package.module</code>"</li> <li>"Relative imports: <code>from . import module</code>"</li> <li>"<code>importlib</code>: dynamic imports at runtime"</li> <li>"<code>sys.path</code>: module search paths"</li> <li>"<code>sys.modules</code>: loaded module cache"</li> <li>"Circular imports: import inside function"</li> <li>"<code>__all__</code>: control wildcard imports"</li> <li>"<code>__init__.py</code>: package initialization"</li> <li>"Import hooks: customize import behavior"</li> </ul> </div> </details> <hr> <h3 id=explain-virtual-environments-venv-amazon-dropbox-interview-question>Explain Virtual Environments (venv) - Amazon, Dropbox Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Environment</code>, <code>Dependencies</code>, <code>Development</code> | <strong>Asked by:</strong> Amazon, Dropbox, Google, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>Virtual environments</strong> isolate Python projects with separate package installations. Use <strong><code>venv</code></strong> (built-in), <strong><code>virtualenv</code></strong>, or <strong><code>conda</code></strong> to avoid dependency conflicts.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Create Virtual Environment (venv)</span>
<span class=c1># Python 3.3+</span>
python3<span class=w> </span>-m<span class=w> </span>venv<span class=w> </span>myenv

<span class=c1># Specific Python version</span>
python3.10<span class=w> </span>-m<span class=w> </span>venv<span class=w> </span>myenv

<span class=c1># With system packages</span>
python3<span class=w> </span>-m<span class=w> </span>venv<span class=w> </span>myenv<span class=w> </span>--system-site-packages

<span class=c1># 2. Activate Virtual Environment</span>
<span class=c1># Linux/macOS</span>
<span class=nb>source</span><span class=w> </span>myenv/bin/activate

<span class=c1># Windows</span>
myenv<span class=se>\S</span>cripts<span class=se>\a</span>ctivate

<span class=c1># Fish shell</span>
<span class=nb>source</span><span class=w> </span>myenv/bin/activate.fish

<span class=c1># After activation:</span>
<span class=c1># (myenv) $ python --version</span>
<span class=c1># (myenv) $ which python</span>

<span class=c1># 3. Deactivate</span>
deactivate

<span class=c1># 4. Install Packages in venv</span>
<span class=c1># After activation</span>
pip<span class=w> </span>install<span class=w> </span>requests
pip<span class=w> </span>install<span class=w> </span>numpy<span class=w> </span>pandas<span class=w> </span>matplotlib

<span class=c1># From requirements.txt</span>
pip<span class=w> </span>install<span class=w> </span>-r<span class=w> </span>requirements.txt

<span class=c1># Specific version</span>
pip<span class=w> </span>install<span class=w> </span><span class=nv>django</span><span class=o>==</span><span class=m>4</span>.2.0

<span class=c1># 5. List Installed Packages</span>
pip<span class=w> </span>list
pip<span class=w> </span>freeze

<span class=c1># Export to requirements.txt</span>
pip<span class=w> </span>freeze<span class=w> </span>&gt;<span class=w> </span>requirements.txt

<span class=c1># 6. Remove Virtual Environment</span>
<span class=c1># Just delete the directory</span>
rm<span class=w> </span>-rf<span class=w> </span>myenv

<span class=c1># 7. virtualenv (More Features)</span>
<span class=c1># Install</span>
pip<span class=w> </span>install<span class=w> </span>virtualenv

<span class=c1># Create environment</span>
virtualenv<span class=w> </span>myenv

<span class=c1># With specific Python</span>
virtualenv<span class=w> </span>-p<span class=w> </span>python3.10<span class=w> </span>myenv

<span class=c1># 8. Project Structure with venv</span>
myproject/
‚îú‚îÄ‚îÄ<span class=w> </span>venv/<span class=w>           </span><span class=c1># Virtual environment (git ignored)</span>
‚îú‚îÄ‚îÄ<span class=w> </span>src/<span class=w>            </span><span class=c1># Source code</span>
‚îú‚îÄ‚îÄ<span class=w> </span>tests/<span class=w>          </span><span class=c1># Tests</span>
‚îú‚îÄ‚îÄ<span class=w> </span>requirements.txt
‚îú‚îÄ‚îÄ<span class=w> </span>README.md
‚îî‚îÄ‚îÄ<span class=w> </span>.gitignore

<span class=c1># .gitignore</span>
venv/
*.pyc
__pycache__/

<span class=c1># 9. requirements.txt Best Practices</span>
<span class=c1># requirements.txt with pinned versions</span>
<span class=nv>requests</span><span class=o>==</span><span class=m>2</span>.31.0
<span class=nv>numpy</span><span class=o>==</span><span class=m>1</span>.24.3
<span class=nv>pandas</span><span class=o>==</span><span class=m>2</span>.0.2

<span class=c1># With comments</span>
<span class=c1># Web framework</span>
<span class=nv>django</span><span class=o>==</span><span class=m>4</span>.2.0

<span class=c1># Database</span>
<span class=nv>psycopg2</span><span class=o>==</span><span class=m>2</span>.9.6

<span class=c1># Testing</span>
<span class=nv>pytest</span><span class=o>==</span><span class=m>7</span>.3.1

<span class=c1># 10. requirements-dev.txt</span>
<span class=c1># requirements-dev.txt (development dependencies)</span>
-r<span class=w> </span>requirements.txt<span class=w>  </span><span class=c1># Include base requirements</span>

<span class=c1># Development tools</span>
<span class=nv>pytest</span><span class=o>==</span><span class=m>7</span>.3.1
<span class=nv>black</span><span class=o>==</span><span class=m>23</span>.3.0
<span class=nv>flake8</span><span class=o>==</span><span class=m>6</span>.0.0
<span class=nv>mypy</span><span class=o>==</span><span class=m>1</span>.3.0

<span class=c1># Install dev requirements</span>
<span class=c1># pip install -r requirements-dev.txt</span>
</code></pre></div> <p><strong>Python Code for Environment Management:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>subprocess</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>
<span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>

<span class=c1># 1. Check if in Virtual Environment</span>
<span class=k>def</span><span class=w> </span><span class=nf>is_venv</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if running in virtual environment.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=p>(</span>
        <span class=nb>hasattr</span><span class=p>(</span><span class=n>sys</span><span class=p>,</span> <span class=s1>&#39;real_prefix&#39;</span><span class=p>)</span> <span class=ow>or</span>
        <span class=p>(</span><span class=nb>hasattr</span><span class=p>(</span><span class=n>sys</span><span class=p>,</span> <span class=s1>&#39;base_prefix&#39;</span><span class=p>)</span> <span class=ow>and</span> <span class=n>sys</span><span class=o>.</span><span class=n>base_prefix</span> <span class=o>!=</span> <span class=n>sys</span><span class=o>.</span><span class=n>prefix</span><span class=p>)</span>
    <span class=p>)</span>

<span class=k>if</span> <span class=n>is_venv</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Running in virtual environment&quot;</span><span class=p>)</span>
<span class=k>else</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Not in virtual environment&quot;</span><span class=p>)</span>

<span class=c1># 2. Get Environment Info</span>
<span class=k>def</span><span class=w> </span><span class=nf>get_venv_info</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get virtual environment information.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=p>{</span>
        <span class=s2>&quot;in_venv&quot;</span><span class=p>:</span> <span class=n>is_venv</span><span class=p>(),</span>
        <span class=s2>&quot;prefix&quot;</span><span class=p>:</span> <span class=n>sys</span><span class=o>.</span><span class=n>prefix</span><span class=p>,</span>
        <span class=s2>&quot;base_prefix&quot;</span><span class=p>:</span> <span class=n>sys</span><span class=o>.</span><span class=n>base_prefix</span><span class=p>,</span>
        <span class=s2>&quot;executable&quot;</span><span class=p>:</span> <span class=n>sys</span><span class=o>.</span><span class=n>executable</span><span class=p>,</span>
        <span class=s2>&quot;version&quot;</span><span class=p>:</span> <span class=n>sys</span><span class=o>.</span><span class=n>version</span><span class=p>,</span>
    <span class=p>}</span>

<span class=n>info</span> <span class=o>=</span> <span class=n>get_venv_info</span><span class=p>()</span>
<span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>info</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 3. Programmatically Create venv</span>
<span class=kn>import</span><span class=w> </span><span class=nn>venv</span>

<span class=k>def</span><span class=w> </span><span class=nf>create_virtual_environment</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create virtual environment.&quot;&quot;&quot;</span>
    <span class=n>venv</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=n>with_pip</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Created virtual environment at </span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># create_virtual_environment(&#39;./new_venv&#39;)</span>

<span class=c1># 4. Activate venv Programmatically</span>
<span class=k>def</span><span class=w> </span><span class=nf>activate_venv</span><span class=p>(</span><span class=n>venv_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Activate virtual environment (Unix-like).&quot;&quot;&quot;</span>
    <span class=n>activate_script</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>venv_path</span><span class=p>)</span> <span class=o>/</span> <span class=s1>&#39;bin&#39;</span> <span class=o>/</span> <span class=s1>&#39;activate_this.py&#39;</span>

    <span class=k>if</span> <span class=n>activate_script</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
        <span class=n>exec</span><span class=p>(</span><span class=n>activate_script</span><span class=o>.</span><span class=n>read_text</span><span class=p>(),</span> <span class=p>{</span><span class=s1>&#39;__file__&#39;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>activate_script</span><span class=p>)})</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Activated </span><span class=si>{</span><span class=n>venv_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Activation script not found&quot;</span><span class=p>)</span>

<span class=c1># 5. Install Package in venv</span>
<span class=k>def</span><span class=w> </span><span class=nf>install_package</span><span class=p>(</span><span class=n>package</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>venv_path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Install package in virtual environment.&quot;&quot;&quot;</span>
    <span class=n>python_executable</span> <span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>executable</span>

    <span class=k>if</span> <span class=n>venv_path</span><span class=p>:</span>
        <span class=n>python_executable</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=n>venv_path</span><span class=p>)</span> <span class=o>/</span> <span class=s1>&#39;bin&#39;</span> <span class=o>/</span> <span class=s1>&#39;python&#39;</span><span class=p>)</span>

    <span class=n>subprocess</span><span class=o>.</span><span class=n>check_call</span><span class=p>([</span>
        <span class=n>python_executable</span><span class=p>,</span> <span class=s1>&#39;-m&#39;</span><span class=p>,</span> <span class=s1>&#39;pip&#39;</span><span class=p>,</span> <span class=s1>&#39;install&#39;</span><span class=p>,</span> <span class=n>package</span>
    <span class=p>])</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Installed </span><span class=si>{</span><span class=n>package</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># install_package(&#39;requests&#39;)</span>

<span class=c1># 6. List Installed Packages</span>
<span class=k>def</span><span class=w> </span><span class=nf>list_packages</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;List installed packages.&quot;&quot;&quot;</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span>
        <span class=p>[</span><span class=n>sys</span><span class=o>.</span><span class=n>executable</span><span class=p>,</span> <span class=s1>&#39;-m&#39;</span><span class=p>,</span> <span class=s1>&#39;pip&#39;</span><span class=p>,</span> <span class=s1>&#39;list&#39;</span><span class=p>,</span> <span class=s1>&#39;--format=json&#39;</span><span class=p>],</span>
        <span class=n>capture_output</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
        <span class=n>text</span><span class=o>=</span><span class=kc>True</span>
    <span class=p>)</span>

    <span class=kn>import</span><span class=w> </span><span class=nn>json</span>
    <span class=k>return</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>result</span><span class=o>.</span><span class=n>stdout</span><span class=p>)</span>

<span class=n>packages</span> <span class=o>=</span> <span class=n>list_packages</span><span class=p>()</span>
<span class=k>for</span> <span class=n>pkg</span> <span class=ow>in</span> <span class=n>packages</span><span class=p>[:</span><span class=mi>5</span><span class=p>]:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>pkg</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>==</span><span class=si>{</span><span class=n>pkg</span><span class=p>[</span><span class=s1>&#39;version&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 7. Check Package Version</span>
<span class=k>def</span><span class=w> </span><span class=nf>get_package_version</span><span class=p>(</span><span class=n>package_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get installed package version.&quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=kn>from</span><span class=w> </span><span class=nn>importlib.metadata</span><span class=w> </span><span class=kn>import</span> <span class=n>version</span>
        <span class=k>return</span> <span class=n>version</span><span class=p>(</span><span class=n>package_name</span><span class=p>)</span>
    <span class=k>except</span><span class=p>:</span>
        <span class=k>return</span> <span class=s2>&quot;Not installed&quot;</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;requests version: </span><span class=si>{</span><span class=n>get_package_version</span><span class=p>(</span><span class=s1>&#39;requests&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 8. Verify Requirements</span>
<span class=k>def</span><span class=w> </span><span class=nf>verify_requirements</span><span class=p>(</span><span class=n>requirements_file</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Verify all requirements are installed.&quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>requirements_file</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
        <span class=n>requirements</span> <span class=o>=</span> <span class=p>[</span>
            <span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;==&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
            <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span>
            <span class=k>if</span> <span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>line</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;#&#39;</span><span class=p>)</span>
        <span class=p>]</span>

    <span class=n>missing</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>package</span> <span class=ow>in</span> <span class=n>requirements</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>get_package_version</span><span class=p>(</span><span class=n>package</span><span class=p>)</span> <span class=o>==</span> <span class=s2>&quot;Not installed&quot;</span><span class=p>:</span>
            <span class=n>missing</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>package</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>missing</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Missing packages: </span><span class=si>{</span><span class=n>missing</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;All requirements satisfied&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=kc>True</span>

<span class=c1># verify_requirements(&#39;requirements.txt&#39;)</span>

<span class=c1># 9. Conda Environment (Alternative)</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd># Create conda environment</span>
<span class=sd>conda create -n myenv python=3.10</span>

<span class=sd># Activate</span>
<span class=sd>conda activate myenv</span>

<span class=sd># Install packages</span>
<span class=sd>conda install numpy pandas matplotlib</span>

<span class=sd># Export environment</span>
<span class=sd>conda env export &gt; environment.yml</span>

<span class=sd># Create from file</span>
<span class=sd>conda env create -f environment.yml</span>

<span class=sd># List environments</span>
<span class=sd>conda env list</span>

<span class=sd># Remove environment</span>
<span class=sd>conda env remove -n myenv</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 10. Poetry (Modern Alternative)</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd># Install Poetry</span>
<span class=sd>curl -sSL https://install.python-poetry.org | python3 -</span>

<span class=sd># Create new project</span>
<span class=sd>poetry new myproject</span>

<span class=sd># Add dependency</span>
<span class=sd>poetry add requests</span>

<span class=sd># Add dev dependency</span>
<span class=sd>poetry add --dev pytest</span>

<span class=sd># Install dependencies</span>
<span class=sd>poetry install</span>

<span class=sd># Run in environment</span>
<span class=sd>poetry run python script.py</span>

<span class=sd># Activate shell</span>
<span class=sd>poetry shell</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 11. pipenv (Alternative)</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd># Install pipenv</span>
<span class=sd>pip install pipenv</span>

<span class=sd># Create environment and install</span>
<span class=sd>pipenv install requests</span>

<span class=sd># Install dev dependencies</span>
<span class=sd>pipenv install --dev pytest</span>

<span class=sd># Activate environment</span>
<span class=sd>pipenv shell</span>

<span class=sd># Run command in environment</span>
<span class=sd>pipenv run python script.py</span>

<span class=sd># Generate requirements.txt</span>
<span class=sd>pipenv requirements &gt; requirements.txt</span>
<span class=sd>&quot;&quot;&quot;</span>
</code></pre></div> <p><strong>Comparison:</strong></p> <table> <thead> <tr> <th>Tool</th> <th>Pros</th> <th>Cons</th> <th>Use Case</th> </tr> </thead> <tbody> <tr> <td><strong>venv</strong></td> <td>Built-in, simple</td> <td>Basic features</td> <td>Simple projects</td> </tr> <tr> <td><strong>virtualenv</strong></td> <td>More features</td> <td>External package</td> <td>Legacy projects</td> </tr> <tr> <td><strong>conda</strong></td> <td>Cross-platform, handles non-Python</td> <td>Large install</td> <td>Data science</td> </tr> <tr> <td><strong>Poetry</strong></td> <td>Modern, dependency resolution</td> <td>Learning curve</td> <td>New projects</td> </tr> <tr> <td><strong>pipenv</strong></td> <td>Simple workflow</td> <td>Slower</td> <td>Medium projects</td> </tr> </tbody> </table> <p><strong>Best Practices:</strong></p> <table> <thead> <tr> <th>Practice</th> <th>Reason</th> <th>Implementation</th> </tr> </thead> <tbody> <tr> <td><strong>Always use venv</strong></td> <td>Isolation</td> <td>One per project</td> </tr> <tr> <td><strong>Pin versions</strong></td> <td>Reproducibility</td> <td><code>requests==2.31.0</code></td> </tr> <tr> <td><strong>Separate dev deps</strong></td> <td>Smaller production</td> <td><code>requirements-dev.txt</code></td> </tr> <tr> <td><strong>Ignore venv in git</strong></td> <td>Don't commit</td> <td>Add to <code>.gitignore</code></td> </tr> <tr> <td><strong>Document setup</strong></td> <td>Easy onboarding</td> <td>Clear <code>README.md</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Virtual environments: isolate project dependencies"</li> <li>"<code>venv</code>: built-in Python 3.3+"</li> <li>"Create: <code>python -m venv myenv</code>"</li> <li>"Activate: <code>source myenv/bin/activate</code>"</li> <li>"<code>requirements.txt</code>: specify dependencies"</li> <li>"<code>pip freeze &gt; requirements.txt</code>: export deps"</li> <li>"Always activate before installing packages"</li> <li>"Never commit venv directory to git"</li> <li>"Alternatives: virtualenv, conda, poetry, pipenv"</li> </ul> </div> </details> <hr> <h3 id=explain-weak-references-weakref-meta-google-interview-question>Explain Weak References (weakref) - Meta, Google Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Memory</code>, <code>References</code>, <code>GC</code> | <strong>Asked by:</strong> Meta, Google, Dropbox, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong>Weak references</strong> allow referencing objects without increasing their reference count, enabling garbage collection even when weak references exist.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>weakref</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>

<span class=c1># 1. Strong vs Weak Reference</span>
<span class=k>class</span><span class=w> </span><span class=nc>Data</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple data class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Data(</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>) deleted&quot;</span><span class=p>)</span>

<span class=c1># Strong reference prevents garbage collection</span>
<span class=n>obj</span> <span class=o>=</span> <span class=n>Data</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
<span class=n>ref</span> <span class=o>=</span> <span class=n>obj</span>  <span class=c1># Strong reference</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Ref count: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 3 (obj, ref, getrefcount arg)</span>
<span class=k>del</span> <span class=n>obj</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;After del obj&quot;</span><span class=p>)</span>
<span class=c1># Object still exists (ref holds it)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Value: </span><span class=si>{</span><span class=n>ref</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=k>del</span> <span class=n>ref</span>
<span class=c1># Now object is deleted</span>

<span class=c1># Weak reference allows garbage collection</span>
<span class=n>obj</span> <span class=o>=</span> <span class=n>Data</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
<span class=n>weak</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>ref</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>  <span class=c1># Weak reference</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Ref count: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getrefcount</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 2 (only obj and getrefcount arg)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Weak ref: </span><span class=si>{</span><span class=n>weak</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># Access via weak()</span>
<span class=k>del</span> <span class=n>obj</span>
<span class=c1># Object is deleted (weak doesn&#39;t prevent it)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;After del: </span><span class=si>{</span><span class=n>weak</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># None</span>

<span class=c1># 2. Weak Reference Callback</span>
<span class=k>def</span><span class=w> </span><span class=nf>object_deleted</span><span class=p>(</span><span class=n>weak_ref</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Called when object is garbage collected.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Object deleted: </span><span class=si>{</span><span class=n>weak_ref</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>Data</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>
<span class=n>weak</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>ref</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>object_deleted</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Deleting object...&quot;</span><span class=p>)</span>
<span class=k>del</span> <span class=n>obj</span>  <span class=c1># Callback is called</span>

<span class=c1># 3. WeakValueDictionary</span>
<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>user_id</span> <span class=o>=</span> <span class=n>user_id</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;User </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> deleted&quot;</span><span class=p>)</span>

<span class=c1># Regular dict keeps objects alive</span>
<span class=n>cache</span> <span class=o>=</span> <span class=p>{}</span>
<span class=n>user1</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;Alice&quot;</span><span class=p>)</span>
<span class=n>cache</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>user1</span>
<span class=k>del</span> <span class=n>user1</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;User in cache: </span><span class=si>{</span><span class=n>cache</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># Still exists</span>

<span class=c1># WeakValueDictionary doesn&#39;t prevent GC</span>
<span class=n>weak_cache</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>WeakValueDictionary</span><span class=p>()</span>
<span class=n>user2</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=s2>&quot;Bob&quot;</span><span class=p>)</span>
<span class=n>weak_cache</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=n>user2</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;In weak cache: </span><span class=si>{</span><span class=n>weak_cache</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=k>del</span> <span class=n>user2</span>
<span class=c1># User deleted automatically</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;After del: </span><span class=si>{</span><span class=n>weak_cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># None</span>

<span class=c1># 4. WeakKeyDictionary</span>
<span class=k>class</span><span class=w> </span><span class=nc>Document</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Document class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>title</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>title</span> <span class=o>=</span> <span class=n>title</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Document &#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>title</span><span class=si>}</span><span class=s2>&#39; deleted&quot;</span><span class=p>)</span>

<span class=c1># Associate metadata with objects</span>
<span class=n>metadata</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>WeakKeyDictionary</span><span class=p>()</span>

<span class=n>doc1</span> <span class=o>=</span> <span class=n>Document</span><span class=p>(</span><span class=s2>&quot;Report&quot;</span><span class=p>)</span>
<span class=n>doc2</span> <span class=o>=</span> <span class=n>Document</span><span class=p>(</span><span class=s2>&quot;Memo&quot;</span><span class=p>)</span>

<span class=n>metadata</span><span class=p>[</span><span class=n>doc1</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;author&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=s2>&quot;2024-01-15&quot;</span><span class=p>}</span>
<span class=n>metadata</span><span class=p>[</span><span class=n>doc2</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;author&quot;</span><span class=p>:</span> <span class=s2>&quot;Bob&quot;</span><span class=p>,</span> <span class=s2>&quot;date&quot;</span><span class=p>:</span> <span class=s2>&quot;2024-01-16&quot;</span><span class=p>}</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Metadata for doc1: </span><span class=si>{</span><span class=n>metadata</span><span class=p>[</span><span class=n>doc1</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>del</span> <span class=n>doc1</span>
<span class=c1># doc1 deleted, metadata auto-removed</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Remaining metadata: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>metadata</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 1</span>

<span class=c1># 5. WeakSet</span>
<span class=k>class</span><span class=w> </span><span class=nc>Task</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Task class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Task &#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&#39; deleted&quot;</span><span class=p>)</span>

<span class=c1># Track active tasks without preventing deletion</span>
<span class=n>active_tasks</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>WeakSet</span><span class=p>()</span>

<span class=n>task1</span> <span class=o>=</span> <span class=n>Task</span><span class=p>(</span><span class=s2>&quot;Download&quot;</span><span class=p>)</span>
<span class=n>task2</span> <span class=o>=</span> <span class=n>Task</span><span class=p>(</span><span class=s2>&quot;Process&quot;</span><span class=p>)</span>

<span class=n>active_tasks</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>task1</span><span class=p>)</span>
<span class=n>active_tasks</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>task2</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Active tasks: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>active_tasks</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 2</span>

<span class=k>del</span> <span class=n>task1</span>
<span class=c1># task1 removed from WeakSet automatically</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;After delete: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>active_tasks</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># 1</span>

<span class=c1># 6. Caching with Weak References</span>
<span class=k>class</span><span class=w> </span><span class=nc>ExpensiveObject</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Object expensive to create.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>key</span> <span class=o>=</span> <span class=n>key</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Creating expensive object: </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>compute</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Result for </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>key</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Deleting </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>key</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>WeakCache</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Cache using weak references.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>WeakValueDictionary</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get from cache or create.&quot;&quot;&quot;</span>
        <span class=n>obj</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>obj</span> <span class=o>=</span> <span class=n>ExpensiveObject</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_cache</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>obj</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cache hit: </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>obj</span>

<span class=n>cache</span> <span class=o>=</span> <span class=n>WeakCache</span><span class=p>()</span>

<span class=n>obj1</span> <span class=o>=</span> <span class=n>cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;data1&quot;</span><span class=p>)</span>  <span class=c1># Creates</span>
<span class=n>obj1_again</span> <span class=o>=</span> <span class=n>cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;data1&quot;</span><span class=p>)</span>  <span class=c1># Cache hit</span>

<span class=k>del</span> <span class=n>obj1</span>
<span class=k>del</span> <span class=n>obj1_again</span>
<span class=c1># Object deleted (no strong references)</span>

<span class=n>obj1_new</span> <span class=o>=</span> <span class=n>cache</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;data1&quot;</span><span class=p>)</span>  <span class=c1># Creates again</span>

<span class=c1># 7. Proxy Objects</span>
<span class=k>class</span><span class=w> </span><span class=nc>Resource</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Resource that can be proxied.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Processing </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Resource </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> deleted&quot;</span><span class=p>)</span>

<span class=n>resource</span> <span class=o>=</span> <span class=n>Resource</span><span class=p>(</span><span class=s2>&quot;Database&quot;</span><span class=p>)</span>

<span class=c1># Create proxy</span>
<span class=n>proxy</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>proxy</span><span class=p>(</span><span class=n>resource</span><span class=p>)</span>

<span class=c1># Use proxy like the object</span>
<span class=nb>print</span><span class=p>(</span><span class=n>proxy</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>proxy</span><span class=o>.</span><span class=n>process</span><span class=p>())</span>

<span class=c1># Delete original</span>
<span class=k>del</span> <span class=n>resource</span>

<span class=c1># Proxy raises exception</span>
<span class=k>try</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>proxy</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
<span class=k>except</span> <span class=ne>ReferenceError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># weakly-referenced object no longer exists</span>

<span class=c1># 8. Observer Pattern with Weak References</span>
<span class=k>class</span><span class=w> </span><span class=nc>Observable</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Observable that weakly references observers.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_observers</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>register</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>observer</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Register observer with weak reference.&quot;&quot;&quot;</span>
        <span class=n>weak_ref</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>ref</span><span class=p>(</span><span class=n>observer</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_cleanup</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_observers</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>weak_ref</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_cleanup</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>weak_ref</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Remove dead weak references.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_observers</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>weak_ref</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>notify</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Notify all observers.&quot;&quot;&quot;</span>
        <span class=n>dead_refs</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=k>for</span> <span class=n>ref</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_observers</span><span class=p>:</span>
            <span class=n>observer</span> <span class=o>=</span> <span class=n>ref</span><span class=p>()</span>
            <span class=k>if</span> <span class=n>observer</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
                <span class=n>observer</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>dead_refs</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>ref</span><span class=p>)</span>

        <span class=c1># Clean up dead references</span>
        <span class=k>for</span> <span class=n>ref</span> <span class=ow>in</span> <span class=n>dead_refs</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_observers</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>ref</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Observer</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Observer class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> received: </span><span class=si>{</span><span class=n>message</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Observer </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> deleted&quot;</span><span class=p>)</span>

<span class=n>observable</span> <span class=o>=</span> <span class=n>Observable</span><span class=p>()</span>

<span class=n>obs1</span> <span class=o>=</span> <span class=n>Observer</span><span class=p>(</span><span class=s2>&quot;Observer1&quot;</span><span class=p>)</span>
<span class=n>obs2</span> <span class=o>=</span> <span class=n>Observer</span><span class=p>(</span><span class=s2>&quot;Observer2&quot;</span><span class=p>)</span>

<span class=n>observable</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>obs1</span><span class=p>)</span>
<span class=n>observable</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>obs2</span><span class=p>)</span>

<span class=n>observable</span><span class=o>.</span><span class=n>notify</span><span class=p>(</span><span class=s2>&quot;Event 1&quot;</span><span class=p>)</span>  <span class=c1># Both notified</span>

<span class=k>del</span> <span class=n>obs1</span>  <span class=c1># Observer1 deleted</span>

<span class=n>observable</span><span class=o>.</span><span class=n>notify</span><span class=p>(</span><span class=s2>&quot;Event 2&quot;</span><span class=p>)</span>  <span class=c1># Only Observer2 notified</span>

<span class=c1># 9. finalize (Finalizer)</span>
<span class=k>class</span><span class=w> </span><span class=nc>DatabaseConnection</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Database connection with cleanup.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Opening connection: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_finalizer</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>finalize</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>cleanup</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>cleanup</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Cleanup when object is garbage collected.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Closing connection: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Explicit close.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_finalizer</span><span class=p>()</span>

<span class=n>conn</span> <span class=o>=</span> <span class=n>DatabaseConnection</span><span class=p>(</span><span class=s2>&quot;main_db&quot;</span><span class=p>)</span>
<span class=c1># Connection opened</span>

<span class=k>del</span> <span class=n>conn</span>
<span class=c1># Connection automatically closed</span>

<span class=c1># With explicit close</span>
<span class=n>conn2</span> <span class=o>=</span> <span class=n>DatabaseConnection</span><span class=p>(</span><span class=s2>&quot;cache_db&quot;</span><span class=p>)</span>
<span class=n>conn2</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>  <span class=c1># Explicit cleanup</span>
<span class=k>del</span> <span class=n>conn2</span>  <span class=c1># No duplicate cleanup</span>

<span class=c1># 10. Detecting Memory Leaks</span>
<span class=kn>import</span><span class=w> </span><span class=nn>gc</span>

<span class=k>class</span><span class=w> </span><span class=nc>LeakDetector</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Detect object leaks.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_tracked</span> <span class=o>=</span> <span class=n>weakref</span><span class=o>.</span><span class=n>WeakSet</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>track</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Track object.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_tracked</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>check_leaks</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Check for leaked objects.&quot;&quot;&quot;</span>
        <span class=n>gc</span><span class=o>.</span><span class=n>collect</span><span class=p>()</span>  <span class=c1># Force garbage collection</span>

        <span class=n>leaked</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_tracked</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>leaked</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Leaked objects: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>leaked</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=k>for</span> <span class=n>obj</span> <span class=ow>in</span> <span class=n>leaked</span><span class=p>:</span>
                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>obj</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;No leaks detected&quot;</span><span class=p>)</span>

<span class=n>detector</span> <span class=o>=</span> <span class=n>LeakDetector</span><span class=p>()</span>

<span class=n>obj1</span> <span class=o>=</span> <span class=n>Data</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=n>obj2</span> <span class=o>=</span> <span class=n>Data</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>

<span class=n>detector</span><span class=o>.</span><span class=n>track</span><span class=p>(</span><span class=n>obj1</span><span class=p>)</span>
<span class=n>detector</span><span class=o>.</span><span class=n>track</span><span class=p>(</span><span class=n>obj2</span><span class=p>)</span>

<span class=k>del</span> <span class=n>obj1</span>
<span class=c1># obj2 not deleted (still referenced)</span>

<span class=n>detector</span><span class=o>.</span><span class=n>check_leaks</span><span class=p>()</span>  <span class=c1># Shows obj2 as leaked</span>
</code></pre></div> <p><strong>Weak Reference Types:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Purpose</th> <th>Use Case</th> </tr> </thead> <tbody> <tr> <td><strong>ref()</strong></td> <td>Basic weak reference</td> <td>Simple tracking</td> </tr> <tr> <td><strong>proxy()</strong></td> <td>Transparent proxy</td> <td>Seamless access</td> </tr> <tr> <td><strong>WeakValueDictionary</strong></td> <td>Cache with weak values</td> <td>Object cache</td> </tr> <tr> <td><strong>WeakKeyDictionary</strong></td> <td>Metadata for objects</td> <td>Associate data</td> </tr> <tr> <td><strong>WeakSet</strong></td> <td>Set of weak references</td> <td>Track active objects</td> </tr> <tr> <td><strong>finalize</strong></td> <td>Cleanup callback</td> <td>Resource management</td> </tr> </tbody> </table> <p><strong>When to Use:</strong></p> <table> <thead> <tr> <th>Scenario</th> <th>Solution</th> <th>Benefit</th> </tr> </thead> <tbody> <tr> <td><strong>Caches</strong></td> <td>WeakValueDictionary</td> <td>Auto-cleanup</td> </tr> <tr> <td><strong>Observers</strong></td> <td>Weak references</td> <td>No leaks</td> </tr> <tr> <td><strong>Metadata</strong></td> <td>WeakKeyDictionary</td> <td>No ownership</td> </tr> <tr> <td><strong>Circular refs</strong></td> <td>Weak references</td> <td>Break cycles</td> </tr> <tr> <td><strong>Resource cleanup</strong></td> <td>finalize</td> <td>Guaranteed cleanup</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Weak references: don't prevent garbage collection"</li> <li>"<code>weakref.ref(obj)</code>: create weak reference"</li> <li>"Access: <code>weak_ref()</code> returns object or None"</li> <li>"<code>WeakValueDictionary</code>: cache that auto-cleans"</li> <li>"<code>WeakKeyDictionary</code>: metadata without ownership"</li> <li>"Use for caches, observers, breaking circular refs"</li> <li>"<code>proxy()</code>: transparent access"</li> <li>"<code>finalize</code>: cleanup callback"</li> <li>"Don't prevent GC, object can be deleted anytime"</li> </ul> </div> </details> <hr> <h3 id=explain-exception-handling-best-practices-amazon-microsoft-interview-question>Explain Exception Handling Best Practices - Amazon, Microsoft Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Exceptions</code>, <code>Error Handling</code>, <code>Best Practices</code> | <strong>Asked by:</strong> Amazon, Microsoft, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>Exception handling</strong> manages errors gracefully. Use <strong>try/except/else/finally</strong>, <strong>custom exceptions</strong>, <strong>context managers</strong>, and <strong>proper error messages</strong> for robust code.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Exception Handling</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>result</span> <span class=o>=</span> <span class=mi>10</span> <span class=o>/</span> <span class=mi>0</span>
<span class=k>except</span> <span class=ne>ZeroDivisionError</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Cannot divide by zero&quot;</span><span class=p>)</span>

<span class=c1># Multiple exceptions</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=s2>&quot;abc&quot;</span><span class=p>)</span>
<span class=k>except</span> <span class=p>(</span><span class=ne>ValueError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>)</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Conversion error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 2. Try/Except/Else/Finally</span>
<span class=k>def</span><span class=w> </span><span class=nf>read_file</span><span class=p>(</span><span class=n>filename</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Read file with proper error handling.&quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span>
        <span class=n>content</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
    <span class=k>except</span> <span class=ne>FileNotFoundError</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;File not found: </span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=s2>&quot;&quot;</span>
    <span class=k>except</span> <span class=ne>IOError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;IO error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=s2>&quot;&quot;</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=c1># Runs only if no exception</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;File read successfully&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>content</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=c1># Always runs</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>file</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;File closed&quot;</span><span class=p>)</span>
        <span class=k>except</span><span class=p>:</span>
            <span class=k>pass</span>

<span class=c1># content = read_file(&quot;data.txt&quot;)</span>

<span class=c1># 3. Custom Exceptions</span>
<span class=k>class</span><span class=w> </span><span class=nc>ValidationError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom validation error.&quot;&quot;&quot;</span>
    <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>DatabaseError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Database operation error.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>error_code</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>message</span> <span class=o>=</span> <span class=n>message</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>error_code</span> <span class=o>=</span> <span class=n>error_code</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>message</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>UserNotFoundError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User not found error.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>user_id</span> <span class=o>=</span> <span class=n>user_id</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;User </span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2> not found&quot;</span><span class=p>)</span>

<span class=c1># Raise custom exceptions</span>
<span class=k>def</span><span class=w> </span><span class=nf>validate_age</span><span class=p>(</span><span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>age</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=s2>&quot;Age cannot be negative&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>age</span> <span class=o>&gt;</span> <span class=mi>150</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=s2>&quot;Age too high&quot;</span><span class=p>)</span>

<span class=k>try</span><span class=p>:</span>
    <span class=n>validate_age</span><span class=p>(</span><span class=o>-</span><span class=mi>5</span><span class=p>)</span>
<span class=k>except</span> <span class=n>ValidationError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Validation failed: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 4. Exception Chaining</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_data</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process data with exception chaining.&quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
        <span class=n>result</span> <span class=o>=</span> <span class=mi>100</span> <span class=o>/</span> <span class=n>value</span>
    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
        <span class=c1># Chain exceptions</span>
        <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid data: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span> <span class=kn>from</span><span class=w> </span><span class=nn>e</span>
    <span class=k>except</span> <span class=ne>ZeroDivisionError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=s2>&quot;Cannot process zero&quot;</span><span class=p>)</span> <span class=kn>from</span><span class=w> </span><span class=nn>e</span>

<span class=k>try</span><span class=p>:</span>
    <span class=n>process_data</span><span class=p>(</span><span class=s2>&quot;0&quot;</span><span class=p>)</span>
<span class=k>except</span> <span class=n>ValidationError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Caused by: </span><span class=si>{</span><span class=n>e</span><span class=o>.</span><span class=n>__cause__</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 5. Context Manager for Resource Cleanup</span>
<span class=k>class</span><span class=w> </span><span class=nc>DatabaseConnection</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Database connection context manager.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>connection_string</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span> <span class=o>=</span> <span class=n>connection_string</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>connection</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__enter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Opening connection: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>connection_string</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>connection</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;connected&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>}</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>connection</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__exit__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>exc_type</span><span class=p>,</span> <span class=n>exc_val</span><span class=p>,</span> <span class=n>exc_tb</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Closing connection&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>connection</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>connection</span><span class=p>[</span><span class=s2>&quot;connected&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>

        <span class=c1># Handle exception</span>
        <span class=k>if</span> <span class=n>exc_type</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Exception occurred: </span><span class=si>{</span><span class=n>exc_type</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>exc_val</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
            <span class=k>return</span> <span class=kc>False</span>  <span class=c1># Re-raise exception</span>
        <span class=k>return</span> <span class=kc>True</span>

<span class=c1># Automatic cleanup even with exception</span>
<span class=k>try</span><span class=p>:</span>
    <span class=k>with</span> <span class=n>DatabaseConnection</span><span class=p>(</span><span class=s2>&quot;localhost:5432&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>conn</span><span class=p>:</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Connected: </span><span class=si>{</span><span class=n>conn</span><span class=p>[</span><span class=s1>&#39;connected&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=c1># raise ValueError(&quot;Database error&quot;)</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Query executed&quot;</span><span class=p>)</span>
<span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Caught: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 6. Exception Groups (Python 3.11+)</span>
<span class=c1># Handle multiple exceptions simultaneously</span>
<span class=k>try</span><span class=p>:</span>
    <span class=k>raise</span> <span class=n>ExceptionGroup</span><span class=p>(</span><span class=s2>&quot;Multiple errors&quot;</span><span class=p>,</span> <span class=p>[</span>
        <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid value&quot;</span><span class=p>),</span>
        <span class=ne>TypeError</span><span class=p>(</span><span class=s2>&quot;Invalid type&quot;</span><span class=p>),</span>
        <span class=ne>KeyError</span><span class=p>(</span><span class=s2>&quot;Missing key&quot;</span><span class=p>)</span>
    <span class=p>])</span>
<span class=k>except</span><span class=o>*</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>eg</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Value errors: </span><span class=si>{</span><span class=n>eg</span><span class=o>.</span><span class=n>exceptions</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=k>except</span><span class=o>*</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>eg</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Type errors: </span><span class=si>{</span><span class=n>eg</span><span class=o>.</span><span class=n>exceptions</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 7. Suppressing Exceptions</span>
<span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>suppress</span>

<span class=c1># Without suppress</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=s2>&quot;nonexistent.txt&quot;</span><span class=p>)</span>
<span class=k>except</span> <span class=ne>FileNotFoundError</span><span class=p>:</span>
    <span class=k>pass</span>

<span class=c1># With suppress (cleaner)</span>
<span class=k>with</span> <span class=n>suppress</span><span class=p>(</span><span class=ne>FileNotFoundError</span><span class=p>):</span>
    <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=s2>&quot;nonexistent.txt&quot;</span><span class=p>)</span>

<span class=c1># 8. Retry Logic</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>
<span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>wraps</span>

<span class=k>def</span><span class=w> </span><span class=nf>retry</span><span class=p>(</span><span class=n>max_attempts</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>3</span><span class=p>,</span> <span class=n>delay</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>1.0</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Retry decorator.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=n>attempts</span> <span class=o>=</span> <span class=mi>0</span>
            <span class=k>while</span> <span class=n>attempts</span> <span class=o>&lt;</span> <span class=n>max_attempts</span><span class=p>:</span>
                <span class=k>try</span><span class=p>:</span>
                    <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
                <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
                    <span class=n>attempts</span> <span class=o>+=</span> <span class=mi>1</span>
                    <span class=k>if</span> <span class=n>attempts</span> <span class=o>&gt;=</span> <span class=n>max_attempts</span><span class=p>:</span>
                        <span class=k>raise</span>
                    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Attempt </span><span class=si>{</span><span class=n>attempts</span><span class=si>}</span><span class=s2> failed: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
                    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>delay</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=nd>@retry</span><span class=p>(</span><span class=n>max_attempts</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>delay</span><span class=o>=</span><span class=mf>0.1</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>unstable_operation</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Operation that might fail.&quot;&quot;&quot;</span>
    <span class=kn>import</span><span class=w> </span><span class=nn>random</span>
    <span class=k>if</span> <span class=n>random</span><span class=o>.</span><span class=n>random</span><span class=p>()</span> <span class=o>&lt;</span> <span class=mf>0.7</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ConnectionError</span><span class=p>(</span><span class=s2>&quot;Network error&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=s2>&quot;Success&quot;</span>

<span class=c1># result = unstable_operation()</span>

<span class=c1># 9. Logging Exceptions</span>
<span class=kn>import</span><span class=w> </span><span class=nn>logging</span>

<span class=n>logging</span><span class=o>.</span><span class=n>basicConfig</span><span class=p>(</span><span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>
<span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>divide</span><span class=p>(</span><span class=n>a</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Divide with logging.&quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>a</span> <span class=o>/</span> <span class=n>b</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Division: </span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2> / </span><span class=si>{</span><span class=n>b</span><span class=si>}</span><span class=s2> = </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>except</span> <span class=ne>ZeroDivisionError</span><span class=p>:</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;Division by zero&quot;</span><span class=p>,</span> <span class=n>exc_info</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
        <span class=k>raise</span>
    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>exception</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unexpected error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>raise</span>

<span class=c1># divide(10, 0)</span>

<span class=c1># 10. Validation with Exceptions</span>
<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User with validation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>username</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>username</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_validate_username</span><span class=p>(</span><span class=n>username</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>email</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_validate_email</span><span class=p>(</span><span class=n>email</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_validate_age</span><span class=p>(</span><span class=n>age</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_validate_username</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>username</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>username</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Username cannot be empty&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>username</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Username too short&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>username</span><span class=o>.</span><span class=n>isalnum</span><span class=p>():</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Username must be alphanumeric&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>username</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_validate_email</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
        <span class=k>if</span> <span class=s1>&#39;@&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>email</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid email: missing @&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=s1>&#39;.&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>email</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;@&#39;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Invalid email: missing domain&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>email</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_validate_age</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>age</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>age</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s2>&quot;Age must be integer&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>age</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>age</span> <span class=o>&gt;</span> <span class=mi>150</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Age out of range&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>age</span>

<span class=k>try</span><span class=p>:</span>
    <span class=n>user</span> <span class=o>=</span> <span class=n>User</span><span class=p>(</span><span class=s2>&quot;alice&quot;</span><span class=p>,</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;User created&quot;</span><span class=p>)</span>
<span class=k>except</span> <span class=p>(</span><span class=ne>ValueError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>)</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Validation error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=c1># 11. Error Recovery</span>
<span class=k>def</span><span class=w> </span><span class=nf>safe_division</span><span class=p>(</span><span class=n>a</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>default</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.0</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Division with default fallback.&quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>a</span> <span class=o>/</span> <span class=n>b</span>
    <span class=k>except</span> <span class=ne>ZeroDivisionError</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>default</span>

<span class=n>result</span> <span class=o>=</span> <span class=n>safe_division</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Result: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <p><strong>Best Practices:</strong></p> <table> <thead> <tr> <th>Practice</th> <th>Bad ‚ùå</th> <th>Good ‚úÖ</th> </tr> </thead> <tbody> <tr> <td><strong>Specific exceptions</strong></td> <td><code>except:</code></td> <td><code>except ValueError:</code></td> </tr> <tr> <td><strong>Don't hide errors</strong></td> <td><code>except: pass</code></td> <td><code>except: logger.error(...)</code></td> </tr> <tr> <td><strong>Custom exceptions</strong></td> <td>Reuse built-in</td> <td>Custom for domain</td> </tr> <tr> <td><strong>Error messages</strong></td> <td>Generic</td> <td>Descriptive</td> </tr> <tr> <td><strong>Resource cleanup</strong></td> <td>Manual close</td> <td>Context manager</td> </tr> <tr> <td><strong>Exception chaining</strong></td> <td>Lose context</td> <td><code>raise ... from e</code></td> </tr> </tbody> </table> <p><strong>Common Exceptions:</strong></p> <table> <thead> <tr> <th>Exception</th> <th>When Raised</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>ValueError</strong></td> <td>Invalid value</td> <td><code>int("abc")</code></td> </tr> <tr> <td><strong>TypeError</strong></td> <td>Wrong type</td> <td><code>"2" + 2</code></td> </tr> <tr> <td><strong>KeyError</strong></td> <td>Missing dict key</td> <td><code>d["missing"]</code></td> </tr> <tr> <td><strong>IndexError</strong></td> <td>Out of bounds</td> <td><code>lst[100]</code></td> </tr> <tr> <td><strong>FileNotFoundError</strong></td> <td>File missing</td> <td><code>open("x.txt")</code></td> </tr> <tr> <td><strong>AttributeError</strong></td> <td>Missing attribute</td> <td><code>obj.missing</code></td> </tr> <tr> <td><strong>ZeroDivisionError</strong></td> <td>Divide by zero</td> <td><code>10 / 0</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Try/except/else/finally: complete error handling"</li> <li>"Catch specific exceptions, not bare <code>except:</code>"</li> <li>"Custom exceptions for domain errors"</li> <li>"Exception chaining: <code>raise ... from e</code>"</li> <li>"Context managers for resource cleanup"</li> <li>"Log exceptions: <code>logger.exception()</code>"</li> <li>"Don't silently swallow exceptions"</li> <li>"Fail fast: validate early"</li> <li>"Retry logic for transient errors"</li> </ul> </div> </details> <hr> <h3 id=explain-subprocess-module-dropbox-google-interview-question>Explain subprocess Module - Dropbox, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>System</code>, <code>subprocess</code>, <code>Process Management</code> | <strong>Asked by:</strong> Dropbox, Google, Amazon, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong><code>subprocess</code></strong> module runs external commands, capture output, handle errors, and manage processes. Use <strong><code>run()</code></strong>, <strong><code>Popen()</code></strong>, <strong>pipes</strong>, and <strong>timeouts</strong>.</p> <p><strong>Complete Examples:</strong></p> <p>```python import subprocess import sys</p> <h1 id=1-basic-command-execution>1. Basic Command Execution</h1> <h1 id=run-command-wait-for-completion>Run command, wait for completion</h1> <p>result = subprocess.run(["ls", "-l"]) print(f"Return code: {result.returncode}")</p> <h1 id=check-for-errors>Check for errors</h1> <p>result = subprocess.run(["ls", "nonexistent"], check=False) if result.returncode != 0: print("Command failed")</p> <h1 id=2-capture-output>2. Capture Output</h1> <p>result = subprocess.run( ["echo", "Hello, World!"], capture_output=True, text=True )</p> <p>print(f"stdout: {result.stdout}") print(f"stderr: {result.stderr}") print(f"return code: {result.returncode}")</p> <h1 id=capture-separately>Capture separately</h1> <p>result = subprocess.run( ["python", "--version"], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True ) print(result.stderr) # Python version goes to stderr</p> <h1 id=3-check-return-code>3. Check Return Code</h1> <p>try: result = subprocess.run( ["ls", "nonexistent"], check=True, # Raise exception on error capture_output=True, text=True ) except subprocess.CalledProcessError as e: print(f"Command failed with code {e.returncode}") print(f"stderr: {e.stderr}")</p> <h1 id=4-input-to-command>4. Input to Command</h1> <p>result = subprocess.run( ["cat"], input="Hello from Python\n", capture_output=True, text=True ) print(f"Output: {result.stdout}")</p> <h1 id=5-timeout>5. Timeout</h1> <p>try: result = subprocess.run( ["sleep", "5"], timeout=2 # Kill after 2 seconds ) except subprocess.TimeoutExpired: print("Command timed out")</p> <h1 id=6-shell-commands>6. Shell Commands</h1> <h1 id=be-careful-with-shelltrue-security-risk>Be careful with shell=True (security risk)</h1> <p>result = subprocess.run( "ls -l | grep '.py'", shell=True, capture_output=True, text=True ) print(result.stdout)</p> <h1 id=better-avoid-shell>Better: avoid shell</h1> <p>ps = subprocess.run(["ls", "-l"], capture_output=True, text=True) grep = subprocess.run( ["grep", ".py"], input=ps.stdout, capture_output=True, text=True ) print(grep.stdout)</p> <h1 id=7-popen-for-advanced-control>7. Popen for Advanced Control</h1> <h1 id=non-blocking-execution>Non-blocking execution</h1> <p>process = subprocess.Popen( ["python", "-c", "import time; time.sleep(2); print('Done')"], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True )</p> <p>print("Process started, doing other work...")</p> <h1 id=wait-for-completion>Wait for completion</h1> <p>stdout, stderr = process.communicate() print(f"Process finished: {stdout}") print(f"Return code: {process.returncode}")</p> <h1 id=8-pipes-between-processes>8. Pipes Between Processes</h1> <h1 id=ls-grep-py-wc-l>ls | grep .py | wc -l</h1> <p>p1 = subprocess.Popen( ["ls", "-l"], stdout=subprocess.PIPE )</p> <p>p2 = subprocess.Popen( ["grep", ".py"], stdin=p1.stdout, stdout=subprocess.PIPE )</p> <p>p1.stdout.close() # Allow p1 to receive SIGPIPE</p> <p>p3 = subprocess.Popen( ["wc", "-l"], stdin=p2.stdout, stdout=subprocess.PIPE, text=True )</p> <p>p2.stdout.close()</p> <p>output, _ = p3.communicate() print(f"Number of Python files: {output.strip()}")</p> <h1 id=9-environment-variables>9. Environment Variables</h1> <p>import os</p> <p>env = os.environ.copy() env["MY_VAR"] = "custom_value"</p> <p>result = subprocess.run( ["python", "-c", "import os; print(os.getenv('MY_VAR'))"], env=env, capture_output=True, text=True ) print(f"Environment variable: {result.stdout.strip()}")</p> <h1 id=10-working-directory>10. Working Directory</h1> <p>result = subprocess.run( ["pwd"], cwd="/tmp", capture_output=True, text=True ) print(f"Working directory: {result.stdout.strip()}")</p> <h1 id=11-process-communication>11. Process Communication</h1> <p>process = subprocess.Popen( ["python", "-u", "-c", """</p> </details> <p>import sys for line in sys.stdin: print(f"Echo: {line.strip()}") sys.stdout.flush() """], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True )</p> <div class=codehilite><pre><span></span><code><span class=c1># Send input</span>
<span class=k>process</span><span class=p>.</span><span class=n>stdin</span><span class=p>.</span><span class=k>write</span><span class=p>(</span><span class=s2>&quot;Hello</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
<span class=k>process</span><span class=p>.</span><span class=n>stdin</span><span class=p>.</span><span class=k>flush</span><span class=p>()</span>

<span class=c1># Read output</span>
<span class=n>line</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>process</span><span class=p>.</span><span class=n>stdout</span><span class=p>.</span><span class=n>readline</span><span class=p>()</span>
<span class=n>print</span><span class=p>(</span><span class=n>f</span><span class=s2>&quot;Received: {line.strip()}&quot;</span><span class=p>)</span>

<span class=c1># Close</span>
<span class=k>process</span><span class=p>.</span><span class=n>stdin</span><span class=p>.</span><span class=k>close</span><span class=p>()</span>
<span class=k>process</span><span class=p>.</span><span class=k>wait</span><span class=p>()</span>

<span class=c1># 12. Real-World Example: Git Commands</span>
<span class=n>class</span><span class=w> </span><span class=n>GitRepository</span><span class=o>:</span>
<span class=w>    </span><span class=s2>&quot;</span><span class=se>&quot;&quot;</span><span class=s2>Execute git commands.</span><span class=se>&quot;&quot;</span><span class=s2>&quot;</span>

<span class=w>    </span><span class=n>def</span><span class=w> </span><span class=n>__init__</span><span class=p>(</span><span class=n>self</span><span class=p>,</span><span class=w> </span><span class=n>repo_path</span><span class=o>:</span><span class=w> </span><span class=n>str</span><span class=p>)</span><span class=o>:</span>
<span class=w>        </span><span class=n>self</span><span class=p>.</span><span class=n>repo_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>repo_path</span>

<span class=w>    </span><span class=n>def</span><span class=w> </span><span class=n>run_git</span><span class=p>(</span><span class=n>self</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>args</span><span class=p>)</span><span class=o>:</span>
<span class=w>        </span><span class=s2>&quot;</span><span class=se>&quot;&quot;</span><span class=s2>Run git command.</span><span class=se>&quot;&quot;</span><span class=s2>&quot;</span>
<span class=w>        </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>subprocess</span><span class=p>.</span><span class=n>run</span><span class=p>(</span>
<span class=w>            </span><span class=err>[</span><span class=s2>&quot;git&quot;</span><span class=err>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=k>list</span><span class=p>(</span><span class=n>args</span><span class=p>),</span>
<span class=w>            </span><span class=n>cwd</span><span class=o>=</span><span class=n>self</span><span class=p>.</span><span class=n>repo_path</span><span class=p>,</span>
<span class=w>            </span><span class=n>capture_output</span><span class=o>=</span><span class=no>True</span><span class=p>,</span>
<span class=w>            </span><span class=kt>text</span><span class=o>=</span><span class=no>True</span><span class=p>,</span>
<span class=w>            </span><span class=k>check</span><span class=o>=</span><span class=no>True</span>
<span class=w>        </span><span class=p>)</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>result</span><span class=p>.</span><span class=n>stdout</span><span class=p>.</span><span class=n>strip</span><span class=p>()</span>

<span class=w>    </span><span class=n>def</span><span class=w> </span><span class=n>get_current_branch</span><span class=p>(</span><span class=n>self</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>str</span><span class=o>:</span>
<span class=w>        </span><span class=s2>&quot;</span><span class=se>&quot;&quot;</span><span class=s2>Get current branch name.</span><span class=se>&quot;&quot;</span><span class=s2>&quot;</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>self</span><span class=p>.</span><span class=n>run_git</span><span class=p>(</span><span class=s2>&quot;rev-parse&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;--abbrev-ref&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;HEAD&quot;</span><span class=p>)</span>

<span class=w>    </span><span class=n>def</span><span class=w> </span><span class=n>get_commit_hash</span><span class=p>(</span><span class=n>self</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>str</span><span class=o>:</span>
<span class=w>        </span><span class=s2>&quot;</span><span class=se>&quot;&quot;</span><span class=s2>Get current commit hash.</span><span class=se>&quot;&quot;</span><span class=s2>&quot;</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>self</span><span class=p>.</span><span class=n>run_git</span><span class=p>(</span><span class=s2>&quot;rev-parse&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;HEAD&quot;</span><span class=p>)</span>

<span class=w>    </span><span class=n>def</span><span class=w> </span><span class=n>get_status</span><span class=p>(</span><span class=n>self</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>str</span><span class=o>:</span>
<span class=w>        </span><span class=s2>&quot;</span><span class=se>&quot;&quot;</span><span class=s2>Get repository status.</span><span class=se>&quot;&quot;</span><span class=s2>&quot;</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>self</span><span class=p>.</span><span class=n>run_git</span><span class=p>(</span><span class=s2>&quot;status&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;--short&quot;</span><span class=p>)</span>

<span class=w>    </span><span class=n>def</span><span class=w> </span><span class=n>list_files</span><span class=p>(</span><span class=n>self</span><span class=p>)</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=k>list</span><span class=o>:</span>
<span class=w>        </span><span class=s2>&quot;</span><span class=se>&quot;&quot;</span><span class=s2>List tracked files.</span><span class=se>&quot;&quot;</span><span class=s2>&quot;</span>
<span class=w>        </span><span class=n>output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>self</span><span class=p>.</span><span class=n>run_git</span><span class=p>(</span><span class=s2>&quot;ls-files&quot;</span><span class=p>)</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>output</span><span class=p>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=n>output</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=err>[]</span>

<span class=c1># repo = GitRepository(&quot;.&quot;)</span>
<span class=c1># print(f&quot;Branch: {repo.get_current_branch()}&quot;)</span>
<span class=c1># print(f&quot;Files: {len(repo.list_files())}&quot;)</span>

<span class=c1># 13. Running Python Scripts</span>
<span class=n>def</span><span class=w> </span><span class=n>run_python_script</span><span class=p>(</span><span class=n>script</span><span class=o>:</span><span class=w> </span><span class=n>str</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=n>args</span><span class=p>)</span><span class=o>:</span>
<span class=w>    </span><span class=s2>&quot;</span><span class=se>&quot;&quot;</span><span class=s2>Run Python script with arguments.</span><span class=se>&quot;&quot;</span><span class=s2>&quot;</span>
<span class=w>    </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>subprocess</span><span class=p>.</span><span class=n>run</span><span class=p>(</span>
<span class=w>        </span><span class=err>[</span><span class=n>sys</span><span class=p>.</span><span class=n>executable</span><span class=p>,</span><span class=w> </span><span class=n>script</span><span class=err>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=k>list</span><span class=p>(</span><span class=n>args</span><span class=p>),</span>
<span class=w>        </span><span class=n>capture_output</span><span class=o>=</span><span class=no>True</span><span class=p>,</span>
<span class=w>        </span><span class=kt>text</span><span class=o>=</span><span class=no>True</span>
<span class=w>    </span><span class=p>)</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>result</span>

<span class=c1># result = run_python_script(&quot;my_script.py&quot;, &quot;arg1&quot;, &quot;arg2&quot;)</span>

<span class=c1># 14. Background Processes</span>
<span class=c1># Start background process</span>
<span class=k>process</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>subprocess</span><span class=p>.</span><span class=n>Popen</span><span class=p>(</span>
<span class=w>    </span><span class=err>[</span><span class=s2>&quot;python&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;-m&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;http.server&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;8000&quot;</span><span class=err>]</span><span class=p>,</span>
<span class=w>    </span><span class=n>stdout</span><span class=o>=</span><span class=n>subprocess</span><span class=p>.</span><span class=n>DEVNULL</span><span class=p>,</span>
<span class=w>    </span><span class=n>stderr</span><span class=o>=</span><span class=n>subprocess</span><span class=p>.</span><span class=n>DEVNULL</span>
<span class=p>)</span>

<span class=n>print</span><span class=p>(</span><span class=n>f</span><span class=s2>&quot;Server started with PID: {process.pid}&quot;</span><span class=p>)</span>

<span class=c1># Do work...</span>

<span class=c1># Terminate process</span>
<span class=k>process</span><span class=p>.</span><span class=n>terminate</span><span class=p>()</span>
<span class=k>process</span><span class=p>.</span><span class=k>wait</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
<span class=n>print</span><span class=p>(</span><span class=s2>&quot;Server stopped&quot;</span><span class=p>)</span>
<span class="n n-Quoted">`</span><span class="n n-Quoted n-Quoted-Escape">``</span>

<span class="n n-Quoted">**subprocess.run() Parameters:**</span>

<span class="n n-Quoted">| Parameter | Purpose | Example |</span>
<span class="n n-Quoted">|-----------|---------|---------|</span>
<span class="n n-Quoted">| **args** | Command and arguments | `</span><span class=err>[</span><span class=s2>&quot;ls&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;-l&quot;</span><span class=err>]</span><span class="n n-Quoted">` |</span>
<span class="n n-Quoted">| **capture_output** | Capture stdout/stderr | `</span><span class=no>True</span><span class="n n-Quoted">` |</span>
<span class="n n-Quoted">| **text** | Text mode (vs bytes) | `</span><span class=no>True</span><span class="n n-Quoted">` |</span>
<span class="n n-Quoted">| **check** | Raise on error | `</span><span class=no>True</span><span class="n n-Quoted">` |</span>
<span class="n n-Quoted">| **timeout** | Kill after seconds | `</span><span class=mi>5</span><span class="n n-Quoted">` |</span>
<span class="n n-Quoted">| **input** | Send to stdin | `</span><span class=s2>&quot;data&quot;</span><span class="n n-Quoted">` |</span>
<span class="n n-Quoted">| **cwd** | Working directory | `</span><span class=s2>&quot;/tmp&quot;</span><span class="n n-Quoted">` |</span>
<span class="n n-Quoted">| **env** | Environment variables | `</span><span class=err>{</span><span class=s2>&quot;KEY&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;val&quot;</span><span class=err>}</span><span class="n n-Quoted">` |</span>
<span class="n n-Quoted">| **shell** | Use shell | `</span><span class=no>True</span><span class="n n-Quoted">` (‚ö†Ô∏è security risk) |</span>

<span class="n n-Quoted">**run() vs Popen():**</span>

<span class="n n-Quoted">| Aspect | run() | Popen() |</span>
<span class="n n-Quoted">|--------|-------|---------|</span>
<span class="n n-Quoted">| **Simplicity** | ‚úÖ High | ‚ö†Ô∏è Low |</span>
<span class="n n-Quoted">| **Blocking** | Yes | No |</span>
<span class="n n-Quoted">| **Use Case** | Simple commands | Complex interaction |</span>
<span class="n n-Quoted">| **Output** | Easy capture | Manual handling |</span>
<span class="n n-Quoted">| **When** | Most cases | Advanced needs |</span>

<span class="n n-Quoted">**Security:**</span>

<span class="n n-Quoted">| Practice | Risk | Solution |</span>
<span class="n n-Quoted">|----------|------|----------|</span>
<span class="n n-Quoted">| **shell=True** | üî¥ Command injection | Use `</span><span class=n>shell</span><span class=o>=</span><span class=no>False</span><span class="n n-Quoted">`, pass list |</span>
<span class="n n-Quoted">| **User input** | üî¥ Arbitrary commands | Sanitize or whitelist |</span>
<span class="n n-Quoted">| **Quotes** | üî¥ Escape issues | Use list format |</span>

<span class="n n-Quoted">**Interview Insights:**</span>

<span class="n n-Quoted">!!! tip &quot;Interviewer&#39;s Insight&quot;</span>

<span class="n n-Quoted">    - &quot;`</span><span class=n>subprocess</span><span class=p>.</span><span class=n>run</span><span class=p>()</span><span class="n n-Quoted">`: run command, wait for completion&quot;</span>
<span class="n n-Quoted">    - &quot;`</span><span class=n>capture_output</span><span class=o>=</span><span class=no>True</span><span class="n n-Quoted">`: capture stdout/stderr&quot;</span>
<span class="n n-Quoted">    - &quot;`</span><span class=k>check</span><span class=o>=</span><span class=no>True</span><span class="n n-Quoted">`: raise exception on error&quot;</span>
<span class="n n-Quoted">    - &quot;`</span><span class=n>timeout</span><span class="n n-Quoted">`: kill long-running commands&quot;</span>
<span class="n n-Quoted">    - &quot;`</span><span class=n>Popen</span><span class=p>()</span><span class="n n-Quoted">`: non-blocking, advanced control&quot;</span>
<span class="n n-Quoted">    - &quot;Avoid `</span><span class=n>shell</span><span class=o>=</span><span class=no>True</span><span class="n n-Quoted">`: security risk&quot;</span>
<span class="n n-Quoted">    - &quot;Use list format: `</span><span class=err>[</span><span class=s1>&#39;ls&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;-l&#39;</span><span class=err>]</span><span class="n n-Quoted">` not `</span><span class=s1>&#39;ls -l&#39;</span><span class="n n-Quoted">`&quot;</span>
<span class="n n-Quoted">    - &quot;Pipes: connect process outputs&quot;</span>
<span class="n n-Quoted">    - &quot;`</span><span class=n>communicate</span><span class=p>()</span><span class="n n-Quoted">`: send input, get output&quot;</span>
</code></pre></div> <hr> <h3 id=explain-monkey-patching-meta-dropbox-interview-question>Explain Monkey Patching - Meta, Dropbox Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Metaprogramming</code>, <code>Testing</code>, <code>Dynamic</code> | <strong>Asked by:</strong> Meta, Dropbox, Google, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong>Monkey patching</strong> dynamically modifies classes/modules at runtime. Use for testing, hot fixes, or extending third-party code. But beware: it's powerful and dangerous!</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Monkey Patching</span>
<span class=k>class</span><span class=w> </span><span class=nc>Calculator</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple calculator.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>

<span class=n>calc</span> <span class=o>=</span> <span class=n>Calculator</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>calc</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>  <span class=c1># 5</span>

<span class=c1># Monkey patch the method</span>
<span class=k>def</span><span class=w> </span><span class=nf>new_add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Patched add called&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span> <span class=o>+</span> <span class=mi>100</span>

<span class=n>Calculator</span><span class=o>.</span><span class=n>add</span> <span class=o>=</span> <span class=n>new_add</span>
<span class=nb>print</span><span class=p>(</span><span class=n>calc</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>  <span class=c1># 105 (patched!)</span>

<span class=c1># 2. Patching Instance Method</span>
<span class=n>calc2</span> <span class=o>=</span> <span class=n>Calculator</span><span class=p>()</span>

<span class=c1># Patch single instance</span>
<span class=k>def</span><span class=w> </span><span class=nf>instance_add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span> <span class=o>+</span> <span class=mi>1000</span>

<span class=n>calc2</span><span class=o>.</span><span class=n>add</span> <span class=o>=</span> <span class=n>instance_add</span>
<span class=nb>print</span><span class=p>(</span><span class=n>calc2</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>  <span class=c1># 1005</span>
<span class=nb>print</span><span class=p>(</span><span class=n>calc</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>   <span class=c1># 105 (class-level patch)</span>

<span class=c1># 3. Patching Module Functions</span>
<span class=kn>import</span><span class=w> </span><span class=nn>math</span>

<span class=n>original_sqrt</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>sqrt</span>

<span class=k>def</span><span class=w> </span><span class=nf>patched_sqrt</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Patched square root with logging.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Computing sqrt of </span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>original_sqrt</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>

<span class=n>math</span><span class=o>.</span><span class=n>sqrt</span> <span class=o>=</span> <span class=n>patched_sqrt</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=mi>16</span><span class=p>)</span>  <span class=c1># Logs and computes</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

<span class=c1># Restore original</span>
<span class=n>math</span><span class=o>.</span><span class=n>sqrt</span> <span class=o>=</span> <span class=n>original_sqrt</span>

<span class=c1># 4. Testing with Monkey Patching</span>
<span class=kn>import</span><span class=w> </span><span class=nn>datetime</span>

<span class=k>class</span><span class=w> </span><span class=nc>Order</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Order with timestamp.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>item</span> <span class=o>=</span> <span class=n>item</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>created_at</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_recent</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Check if order is less than 1 hour old.&quot;&quot;&quot;</span>
        <span class=n>age</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>created_at</span>
        <span class=k>return</span> <span class=n>age</span><span class=o>.</span><span class=n>total_seconds</span><span class=p>()</span> <span class=o>&lt;</span> <span class=mi>3600</span>

<span class=c1># Test with fixed time</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_order_recent</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test with monkey patched datetime.&quot;&quot;&quot;</span>
    <span class=n>fixed_time</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2024</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>15</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

    <span class=c1># Patch datetime.now</span>
    <span class=n>original_now</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span>
    <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span> <span class=o>=</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>fixed_time</span>

    <span class=n>order</span> <span class=o>=</span> <span class=n>Order</span><span class=p>(</span><span class=s2>&quot;Book&quot;</span><span class=p>)</span>

    <span class=c1># Move time forward 30 minutes</span>
    <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span> <span class=o>=</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>fixed_time</span> <span class=o>+</span> <span class=n>datetime</span><span class=o>.</span><span class=n>timedelta</span><span class=p>(</span><span class=n>minutes</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span>
    <span class=k>assert</span> <span class=n>order</span><span class=o>.</span><span class=n>is_recent</span><span class=p>()</span> <span class=o>==</span> <span class=kc>True</span>

    <span class=c1># Move time forward 2 hours</span>
    <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span> <span class=o>=</span> <span class=k>lambda</span><span class=p>:</span> <span class=n>fixed_time</span> <span class=o>+</span> <span class=n>datetime</span><span class=o>.</span><span class=n>timedelta</span><span class=p>(</span><span class=n>hours</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
    <span class=k>assert</span> <span class=n>order</span><span class=o>.</span><span class=n>is_recent</span><span class=p>()</span> <span class=o>==</span> <span class=kc>False</span>

    <span class=c1># Restore</span>
    <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span> <span class=o>=</span> <span class=n>original_now</span>

<span class=n>test_order_recent</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Test passed&quot;</span><span class=p>)</span>

<span class=c1># 5. Adding Methods to Classes</span>
<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Person class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

<span class=c1># Add new method</span>
<span class=k>def</span><span class=w> </span><span class=nf>greet</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;Hello, I&#39;m </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=n>Person</span><span class=o>.</span><span class=n>greet</span> <span class=o>=</span> <span class=n>greet</span>

<span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=o>.</span><span class=n>greet</span><span class=p>())</span>  <span class=c1># Works!</span>

<span class=c1># 6. Patching Built-ins (Dangerous!)</span>
<span class=n>original_len</span> <span class=o>=</span> <span class=nb>len</span>

<span class=k>def</span><span class=w> </span><span class=nf>patched_len</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Patched len that adds 100.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>original_len</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span> <span class=o>+</span> <span class=mi>100</span>

<span class=kn>import</span><span class=w> </span><span class=nn>builtins</span>
<span class=n>builtins</span><span class=o>.</span><span class=n>len</span> <span class=o>=</span> <span class=n>patched_len</span>

<span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]))</span>  <span class=c1># 103 (patched!)</span>

<span class=c1># Restore immediately!</span>
<span class=n>builtins</span><span class=o>.</span><span class=n>len</span> <span class=o>=</span> <span class=n>original_len</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]))</span>  <span class=c1># 3 (normal)</span>

<span class=c1># 7. Context Manager for Temporary Patching</span>
<span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>contextmanager</span>

<span class=nd>@contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>patch_attribute</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>,</span> <span class=n>new_value</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Temporarily patch attribute.&quot;&quot;&quot;</span>
    <span class=n>original</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
    <span class=nb>setattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>,</span> <span class=n>new_value</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>yield</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>original</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=nb>setattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>,</span> <span class=n>original</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=nb>delattr</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Config</span><span class=p>:</span>
    <span class=n>debug</span> <span class=o>=</span> <span class=kc>False</span>

<span class=k>with</span> <span class=n>patch_attribute</span><span class=p>(</span><span class=n>Config</span><span class=p>,</span> <span class=s1>&#39;debug&#39;</span><span class=p>,</span> <span class=kc>True</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>Config</span><span class=o>.</span><span class=n>debug</span><span class=p>)</span>  <span class=c1># True</span>

<span class=nb>print</span><span class=p>(</span><span class=n>Config</span><span class=o>.</span><span class=n>debug</span><span class=p>)</span>  <span class=c1># False (restored)</span>

<span class=c1># 8. unittest.mock for Testing</span>
<span class=kn>from</span><span class=w> </span><span class=nn>unittest.mock</span><span class=w> </span><span class=kn>import</span> <span class=n>patch</span><span class=p>,</span> <span class=n>MagicMock</span>

<span class=k>class</span><span class=w> </span><span class=nc>EmailService</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Email service.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>send_email</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>to</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>subject</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>body</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Send email (real implementation).&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Sending email to </span><span class=si>{</span><span class=n>to</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=c1># Actually send email...</span>
        <span class=k>return</span> <span class=kc>True</span>

<span class=k>class</span><span class=w> </span><span class=nc>UserManager</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;User manager.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>email_service</span><span class=p>:</span> <span class=n>EmailService</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>email_service</span> <span class=o>=</span> <span class=n>email_service</span>

    <span class=k>def</span><span class=w> </span><span class=nf>register_user</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>email</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Register user and send welcome email.&quot;&quot;&quot;</span>
        <span class=c1># Save to database...</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>email_service</span><span class=o>.</span><span class=n>send_email</span><span class=p>(</span>
            <span class=n>to</span><span class=o>=</span><span class=n>email</span><span class=p>,</span>
            <span class=n>subject</span><span class=o>=</span><span class=s2>&quot;Welcome!&quot;</span><span class=p>,</span>
            <span class=n>body</span><span class=o>=</span><span class=sa>f</span><span class=s2>&quot;Welcome, </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&quot;</span>
        <span class=p>)</span>

<span class=c1># Test without actually sending emails</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_register_user</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test with mocked email service.&quot;&quot;&quot;</span>
    <span class=n>mock_email</span> <span class=o>=</span> <span class=n>MagicMock</span><span class=p>()</span>
    <span class=n>manager</span> <span class=o>=</span> <span class=n>UserManager</span><span class=p>(</span><span class=n>mock_email</span><span class=p>)</span>

    <span class=n>manager</span><span class=o>.</span><span class=n>register_user</span><span class=p>(</span><span class=s2>&quot;alice@example.com&quot;</span><span class=p>,</span> <span class=s2>&quot;Alice&quot;</span><span class=p>)</span>

    <span class=c1># Verify email was &quot;sent&quot;</span>
    <span class=n>mock_email</span><span class=o>.</span><span class=n>send_email</span><span class=o>.</span><span class=n>assert_called_once_with</span><span class=p>(</span>
        <span class=n>to</span><span class=o>=</span><span class=s2>&quot;alice@example.com&quot;</span><span class=p>,</span>
        <span class=n>subject</span><span class=o>=</span><span class=s2>&quot;Welcome!&quot;</span><span class=p>,</span>
        <span class=n>body</span><span class=o>=</span><span class=s2>&quot;Welcome, Alice!&quot;</span>
    <span class=p>)</span>

<span class=n>test_register_user</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Mock test passed&quot;</span><span class=p>)</span>

<span class=c1># 9. Patching External API Calls</span>
<span class=kn>import</span><span class=w> </span><span class=nn>requests</span>

<span class=k>def</span><span class=w> </span><span class=nf>fetch_user</span><span class=p>(</span><span class=n>user_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Fetch user from API.&quot;&quot;&quot;</span>
    <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;https://api.example.com/users/</span><span class=si>{</span><span class=n>user_id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>

<span class=c1># Test without hitting real API</span>
<span class=nd>@patch</span><span class=p>(</span><span class=s1>&#39;requests.get&#39;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>test_fetch_user</span><span class=p>(</span><span class=n>mock_get</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Test with patched requests.&quot;&quot;&quot;</span>
    <span class=c1># Configure mock</span>
    <span class=n>mock_response</span> <span class=o>=</span> <span class=n>MagicMock</span><span class=p>()</span>
    <span class=n>mock_response</span><span class=o>.</span><span class=n>json</span><span class=o>.</span><span class=n>return_value</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>}</span>
    <span class=n>mock_get</span><span class=o>.</span><span class=n>return_value</span> <span class=o>=</span> <span class=n>mock_response</span>

    <span class=c1># Call function</span>
    <span class=n>user</span> <span class=o>=</span> <span class=n>fetch_user</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>

    <span class=c1># Verify</span>
    <span class=k>assert</span> <span class=n>user</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;Alice&quot;</span>
    <span class=n>mock_get</span><span class=o>.</span><span class=n>assert_called_once_with</span><span class=p>(</span><span class=s2>&quot;https://api.example.com/users/1&quot;</span><span class=p>)</span>

<span class=c1># test_fetch_user()</span>

<span class=c1># 10. Decorator for Monkey Patching</span>
<span class=k>def</span><span class=w> </span><span class=nf>patch_method</span><span class=p>(</span><span class=n>target_class</span><span class=p>,</span> <span class=n>method_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator to patch class method.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
        <span class=n>original</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>target_class</span><span class=p>,</span> <span class=n>method_name</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>

        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=c1># Call patched method</span>
            <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>result</span>

        <span class=nb>setattr</span><span class=p>(</span><span class=n>target_class</span><span class=p>,</span> <span class=n>method_name</span><span class=p>,</span> <span class=n>wrapper</span><span class=p>)</span>
        <span class=n>wrapper</span><span class=o>.</span><span class=n>_original</span> <span class=o>=</span> <span class=n>original</span>
        <span class=k>return</span> <span class=n>wrapper</span>
    <span class=k>return</span> <span class=n>decorator</span>

<span class=k>class</span><span class=w> </span><span class=nc>DataProcessor</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>data</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span>

<span class=nd>@patch_method</span><span class=p>(</span><span class=n>DataProcessor</span><span class=p>,</span> <span class=s1>&#39;process&#39;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>patched_process</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Patched process with logging.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Processing: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>data</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span> <span class=o>+</span> <span class=s2>&quot;!!!&quot;</span>

<span class=n>processor</span> <span class=o>=</span> <span class=n>DataProcessor</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>processor</span><span class=o>.</span><span class=n>process</span><span class=p>(</span><span class=s2>&quot;hello&quot;</span><span class=p>))</span>  <span class=c1># Processing: hello\nHELLO!!!</span>

<span class=c1># 11. Dangers of Monkey Patching</span>
<span class=c1># DON&#39;T DO THIS IN PRODUCTION!</span>

<span class=c1># Global state pollution</span>
<span class=k>class</span><span class=w> </span><span class=nc>Database</span><span class=p>:</span>
    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>connect</span><span class=p>():</span>
        <span class=k>return</span> <span class=s2>&quot;Real connection&quot;</span>

<span class=c1># Patch for testing</span>
<span class=n>Database</span><span class=o>.</span><span class=n>connect</span> <span class=o>=</span> <span class=k>lambda</span><span class=p>:</span> <span class=s2>&quot;Mock connection&quot;</span>

<span class=c1># Problem: affects ALL code using Database!</span>
<span class=c1># Other parts of application now broken</span>

<span class=c1># Better: dependency injection</span>
<span class=k>class</span><span class=w> </span><span class=nc>UserService</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>database</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>database</span> <span class=o>=</span> <span class=n>database</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_user</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>conn</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>database</span><span class=o>.</span><span class=n>connect</span><span class=p>()</span>
        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;User from </span><span class=si>{</span><span class=n>conn</span><span class=si>}</span><span class=s2>&quot;</span>

<span class=c1># Test with mock</span>
<span class=k>class</span><span class=w> </span><span class=nc>MockDatabase</span><span class=p>:</span>
    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>connect</span><span class=p>():</span>
        <span class=k>return</span> <span class=s2>&quot;Mock connection&quot;</span>

<span class=n>service</span> <span class=o>=</span> <span class=n>UserService</span><span class=p>(</span><span class=n>MockDatabase</span><span class=p>())</span>
<span class=nb>print</span><span class=p>(</span><span class=n>service</span><span class=o>.</span><span class=n>get_user</span><span class=p>())</span>
</code></pre></div> <p><strong>When to Use:</strong></p> <table> <thead> <tr> <th>Scenario</th> <th>Use Monkey Patching?</th> <th>Better Alternative</th> </tr> </thead> <tbody> <tr> <td><strong>Unit tests</strong></td> <td>‚úÖ Yes (with mocks)</td> <td><code>unittest.mock</code></td> </tr> <tr> <td><strong>Hot fixes</strong></td> <td>‚ö†Ô∏è Maybe</td> <td>Patch source code</td> </tr> <tr> <td><strong>Extending 3<sup>rd</sup> party</strong></td> <td>‚ö†Ô∏è Last resort</td> <td>Wrapper class</td> </tr> <tr> <td><strong>Production code</strong></td> <td>‚ùå Never</td> <td>Proper design</td> </tr> </tbody> </table> <p><strong>Risks:</strong></p> <table> <thead> <tr> <th>Risk</th> <th>Problem</th> <th>Mitigation</th> </tr> </thead> <tbody> <tr> <td><strong>Global state</strong></td> <td>Affects all code</td> <td>Use context managers</td> </tr> <tr> <td><strong>Hard to debug</strong></td> <td>Unexpected behavior</td> <td>Document patches</td> </tr> <tr> <td><strong>Version conflicts</strong></td> <td>Breaks on updates</td> <td>Pin versions</td> </tr> <tr> <td><strong>Test pollution</strong></td> <td>Tests affect each other</td> <td>Restore after test</td> </tr> </tbody> </table> <p><strong>Best Practices:</strong></p> <table> <thead> <tr> <th>Practice</th> <th>Why</th> <th>How</th> </tr> </thead> <tbody> <tr> <td><strong>Use mocks</strong></td> <td>Safer</td> <td><code>unittest.mock</code></td> </tr> <tr> <td><strong>Restore patches</strong></td> <td>Clean state</td> <td>Context managers</td> </tr> <tr> <td><strong>Document</strong></td> <td>Maintainability</td> <td>Comments</td> </tr> <tr> <td><strong>Temporary only</strong></td> <td>Avoid bugs</td> <td>Test/debug only</td> </tr> <tr> <td><strong>Prefer DI</strong></td> <td>Better design</td> <td>Pass dependencies</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Monkey patching: modify classes/modules at runtime"</li> <li>"Use for testing, mocking external dependencies"</li> <li>"<code>unittest.mock</code>: safe way to patch"</li> <li>"Always restore original after patching"</li> <li>"Dangerous in production: global state pollution"</li> <li>"Better alternatives: dependency injection, wrapper classes"</li> <li>"Context managers for temporary patches"</li> <li>"Document all patches clearly"</li> <li>"Last resort for extending third-party code"</li> </ul> </div> </details> <hr> <h3 id=explain-python-debugging-with-pdb-google-dropbox-interview-question>Explain Python Debugging with pdb - Google, Dropbox Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Debugging</code>, <code>pdb</code>, <code>Development</code> | <strong>Asked by:</strong> Google, Dropbox, Amazon, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>pdb</strong> (Python Debugger) is a built-in interactive debugger. Use <strong>breakpoint()</strong>, <strong>stepping</strong>, <strong>inspection</strong>, and <strong>post-mortem</strong> debugging to find bugs.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Breakpoint</span>
<span class=k>def</span><span class=w> </span><span class=nf>calculate_total</span><span class=p>(</span><span class=n>prices</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculate total with debugging.&quot;&quot;&quot;</span>
    <span class=n>total</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>for</span> <span class=n>price</span> <span class=ow>in</span> <span class=n>prices</span><span class=p>:</span>
        <span class=nb>breakpoint</span><span class=p>()</span>  <span class=c1># Python 3.7+</span>
        <span class=c1># Old way: import pdb; pdb.set_trace()</span>
        <span class=n>total</span> <span class=o>+=</span> <span class=n>price</span>
    <span class=k>return</span> <span class=n>total</span>

<span class=c1># prices = [10, 20, 30]</span>
<span class=c1># result = calculate_total(prices)</span>
<span class=c1># When breakpoint() hits:</span>
<span class=c1># (Pdb) price</span>
<span class=c1># (Pdb) total</span>
<span class=c1># (Pdb) c  # continue</span>

<span class=c1># 2. Common pdb Commands</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>Commands during debugging:</span>

<span class=sd>n (next)          - Execute next line</span>
<span class=sd>s (step)          - Step into function</span>
<span class=sd>c (continue)      - Continue execution</span>
<span class=sd>l (list)          - Show source code</span>
<span class=sd>ll (longlist)     - Show entire function</span>
<span class=sd>p variable        - Print variable</span>
<span class=sd>pp variable       - Pretty print</span>
<span class=sd>w (where)         - Show stack trace</span>
<span class=sd>u (up)            - Move up stack</span>
<span class=sd>d (down)          - Move down stack</span>
<span class=sd>b line_number     - Set breakpoint</span>
<span class=sd>cl (clear)        - Clear breakpoints</span>
<span class=sd>q (quit)          - Quit debugger</span>
<span class=sd>h (help)          - Show help</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 3. Conditional Breakpoint</span>
<span class=k>def</span><span class=w> </span><span class=nf>process_items</span><span class=p>(</span><span class=n>items</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process with conditional break.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>items</span><span class=p>):</span>
        <span class=c1># Break only on specific condition</span>
        <span class=k>if</span> <span class=n>item</span> <span class=o>&gt;</span> <span class=mi>50</span><span class=p>:</span>
            <span class=nb>breakpoint</span><span class=p>()</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>item</span> <span class=o>*</span> <span class=mi>2</span>
    <span class=k>return</span> <span class=n>result</span>

<span class=c1># 4. Programmatic Breakpoint</span>
<span class=kn>import</span><span class=w> </span><span class=nn>pdb</span>

<span class=k>def</span><span class=w> </span><span class=nf>buggy_function</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Function with debugging.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=n>pdb</span><span class=o>.</span><span class=n>set_trace</span><span class=p>()</span>  <span class=c1># Break here only if x &lt; 0</span>

    <span class=n>result</span> <span class=o>=</span> <span class=n>x</span> <span class=o>/</span> <span class=n>y</span>
    <span class=k>return</span> <span class=n>result</span>

<span class=c1># 5. Post-Mortem Debugging</span>
<span class=k>def</span><span class=w> </span><span class=nf>divide</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Function that might crash.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>/</span> <span class=n>b</span>

<span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Main function.&quot;&quot;&quot;</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>divide</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>  <span class=c1># Crashes here</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>

<span class=c1># Run with post-mortem:</span>
<span class=c1># python -m pdb script.py</span>
<span class=c1># Or in code:</span>
<span class=k>try</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>
<span class=k>except</span> <span class=ne>Exception</span><span class=p>:</span>
    <span class=kn>import</span><span class=w> </span><span class=nn>pdb</span>
    <span class=n>pdb</span><span class=o>.</span><span class=n>post_mortem</span><span class=p>()</span>

<span class=c1># 6. Debug Decorator</span>
<span class=k>def</span><span class=w> </span><span class=nf>debug_calls</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator to debug function calls.&quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Calling </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Args: </span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Kwargs: </span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>breakpoint</span><span class=p>()</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Result: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@debug_calls</span>
<span class=k>def</span><span class=w> </span><span class=nf>multiply</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>x</span> <span class=o>*</span> <span class=n>y</span>

<span class=c1># result = multiply(3, 4)</span>

<span class=c1># 7. Inspect Variables</span>
<span class=k>def</span><span class=w> </span><span class=nf>complex_calculation</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Complex function to debug.&quot;&quot;&quot;</span>
    <span class=n>step1</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=o>*</span> <span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>]</span>
    <span class=n>step2</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=o>+</span> <span class=mi>10</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>step1</span><span class=p>]</span>
    <span class=n>step3</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>step2</span><span class=p>)</span>

    <span class=nb>breakpoint</span><span class=p>()</span>  <span class=c1># Inspect step1, step2, step3</span>

    <span class=k>return</span> <span class=n>step3</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

<span class=c1># 8. Stack Inspection</span>
<span class=k>def</span><span class=w> </span><span class=nf>level3</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Third level.&quot;&quot;&quot;</span>
    <span class=n>x</span> <span class=o>=</span> <span class=mi>30</span>
    <span class=nb>breakpoint</span><span class=p>()</span>
    <span class=c1># Commands:</span>
    <span class=c1># w - show stack</span>
    <span class=c1># u - move up to level2</span>
    <span class=c1># p y - access level2 variable</span>
    <span class=c1># d - move down</span>
    <span class=k>return</span> <span class=n>x</span>

<span class=k>def</span><span class=w> </span><span class=nf>level2</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Second level.&quot;&quot;&quot;</span>
    <span class=n>y</span> <span class=o>=</span> <span class=mi>20</span>
    <span class=k>return</span> <span class=n>level3</span><span class=p>()</span>

<span class=k>def</span><span class=w> </span><span class=nf>level1</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;First level.&quot;&quot;&quot;</span>
    <span class=n>z</span> <span class=o>=</span> <span class=mi>10</span>
    <span class=k>return</span> <span class=n>level2</span><span class=p>()</span>

<span class=c1># level1()</span>

<span class=c1># 9. Debugging with Assertions</span>
<span class=k>def</span><span class=w> </span><span class=nf>validate_data</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate with debugging.&quot;&quot;&quot;</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=nb>list</span><span class=p>),</span> <span class=s2>&quot;Data must be list&quot;</span>
    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>,</span> <span class=s2>&quot;Data cannot be empty&quot;</span>
    <span class=k>assert</span> <span class=nb>all</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>float</span><span class=p>))</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>),</span> <span class=s2>&quot;All items must be numbers&quot;</span>

    <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=n>data</span><span class=p>)</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

<span class=c1># Enable assertion debugging:</span>
<span class=c1># python -O script.py  # Disables assertions</span>
<span class=c1># python script.py     # Enables assertions</span>

<span class=c1># 10. Logging vs Debugging</span>
<span class=kn>import</span><span class=w> </span><span class=nn>logging</span>

<span class=n>logging</span><span class=o>.</span><span class=n>basicConfig</span><span class=p>(</span><span class=n>level</span><span class=o>=</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>
<span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>process_data</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process with logging.&quot;&quot;&quot;</span>
    <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Input data: </span><span class=si>{</span><span class=n>data</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=n>result</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Processing item: </span><span class=si>{</span><span class=n>item</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>processed</span> <span class=o>=</span> <span class=n>item</span> <span class=o>*</span> <span class=mi>2</span>
        <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>processed</span><span class=p>)</span>

    <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Result: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>result</span>

<span class=c1># 11. Interactive Debugging Session</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>Example debugging session:</span>

<span class=sd>$ python script.py</span>
<span class=sd>&gt; script.py(10)calculate_total()</span>
<span class=sd>-&gt; total += price</span>
<span class=sd>(Pdb) l  # List source</span>
<span class=sd>(Pdb) p price  # Print price</span>
<span class=sd>10</span>
<span class=sd>(Pdb) p total  # Print total</span>
<span class=sd>0</span>
<span class=sd>(Pdb) n  # Next line</span>
<span class=sd>(Pdb) p total  # Now total is 10</span>
<span class=sd>10</span>
<span class=sd>(Pdb) c  # Continue</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 12. Breakpoint Management</span>
<span class=k>def</span><span class=w> </span><span class=nf>set_breakpoints_example</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Manage breakpoints.&quot;&quot;&quot;</span>
    <span class=n>x</span> <span class=o>=</span> <span class=mi>1</span>
    <span class=n>x</span> <span class=o>+=</span> <span class=mi>1</span>  <span class=c1># Line 5</span>
    <span class=n>x</span> <span class=o>+=</span> <span class=mi>2</span>  <span class=c1># Line 6</span>
    <span class=n>x</span> <span class=o>+=</span> <span class=mi>3</span>  <span class=c1># Line 7</span>
    <span class=k>return</span> <span class=n>x</span>

<span class=c1># In debugger:</span>
<span class=c1># (Pdb) b 6  # Set breakpoint at line 6</span>
<span class=c1># (Pdb) b    # List all breakpoints</span>
<span class=c1># (Pdb) cl 1 # Clear breakpoint 1</span>
<span class=c1># (Pdb) disable 1  # Disable breakpoint</span>
<span class=c1># (Pdb) enable 1   # Enable breakpoint</span>

<span class=c1># 13. Environment Variables</span>
<span class=c1># PYTHONBREAKPOINT environment variable</span>
<span class=c1># export PYTHONBREAKPOINT=0  # Disable all breakpoint() calls</span>
<span class=c1># export PYTHONBREAKPOINT=ipdb.set_trace  # Use ipdb instead</span>

<span class=c1># 14. Alternative Debuggers</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>ipdb - IPython debugger (better interface)</span>
<span class=sd>pudb - Full-screen console debugger</span>
<span class=sd>pdb++ - Enhanced pdb</span>

<span class=sd>Install:</span>
<span class=sd>pip install ipdb</span>
<span class=sd>pip install pudb</span>

<span class=sd>Usage:</span>
<span class=sd>import ipdb; ipdb.set_trace()</span>
<span class=sd>import pudb; pudb.set_trace()</span>
<span class=sd>&quot;&quot;&quot;</span>
</code></pre></div> <p><strong>pdb Commands:</strong></p> <table> <thead> <tr> <th>Command</th> <th>Action</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>n</strong></td> <td>Next line</td> <td><code>(Pdb) n</code></td> </tr> <tr> <td><strong>s</strong></td> <td>Step into</td> <td><code>(Pdb) s</code></td> </tr> <tr> <td><strong>c</strong></td> <td>Continue</td> <td><code>(Pdb) c</code></td> </tr> <tr> <td><strong>l</strong></td> <td>List code</td> <td><code>(Pdb) l</code></td> </tr> <tr> <td><strong>p var</strong></td> <td>Print variable</td> <td><code>(Pdb) p x</code></td> </tr> <tr> <td><strong>pp var</strong></td> <td>Pretty print</td> <td><code>(Pdb) pp data</code></td> </tr> <tr> <td><strong>w</strong></td> <td>Stack trace</td> <td><code>(Pdb) w</code></td> </tr> <tr> <td><strong>u/d</strong></td> <td>Up/down stack</td> <td><code>(Pdb) u</code></td> </tr> <tr> <td><strong>b line</strong></td> <td>Set breakpoint</td> <td><code>(Pdb) b 10</code></td> </tr> <tr> <td><strong>cl</strong></td> <td>Clear breakpoints</td> <td><code>(Pdb) cl 1</code></td> </tr> <tr> <td><strong>q</strong></td> <td>Quit</td> <td><code>(Pdb) q</code></td> </tr> </tbody> </table> <p><strong>Debugging Strategies:</strong></p> <table> <thead> <tr> <th>Strategy</th> <th>When</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Print statements</strong></td> <td>Simple bugs</td> <td><code>print(f"x={x}")</code></td> </tr> <tr> <td><strong>Logging</strong></td> <td>Production</td> <td><code>logger.debug(...)</code></td> </tr> <tr> <td><strong>pdb</strong></td> <td>Complex bugs</td> <td><code>breakpoint()</code></td> </tr> <tr> <td><strong>Post-mortem</strong></td> <td>After crash</td> <td><code>pdb.post_mortem()</code></td> </tr> <tr> <td><strong>Assertions</strong></td> <td>Invariants</td> <td><code>assert x &gt; 0</code></td> </tr> </tbody> </table> <p><strong>Breakpoint() Features:</strong></p> <table> <thead> <tr> <th>Feature</th> <th>Benefit</th> <th>Usage</th> </tr> </thead> <tbody> <tr> <td><strong>Built-in</strong></td> <td>No import needed</td> <td><code>breakpoint()</code></td> </tr> <tr> <td><strong>Conditional</strong></td> <td>Break on condition</td> <td><code>if x &lt; 0: breakpoint()</code></td> </tr> <tr> <td><strong>Environment</strong></td> <td>Easy disable</td> <td><code>PYTHONBREAKPOINT=0</code></td> </tr> <tr> <td><strong>Pluggable</strong></td> <td>Use alternatives</td> <td><code>PYTHONBREAKPOINT=ipdb.set_trace</code></td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>breakpoint()</code>: start debugger (Python 3.7+)"</li> <li>"Common commands: <code>n</code> (next), <code>s</code> (step), <code>c</code> (continue)"</li> <li>"<code>p var</code>: print variable value"</li> <li>"<code>l</code>: list source code"</li> <li>"<code>w</code>: show stack trace"</li> <li>"Post-mortem: <code>pdb.post_mortem()</code> after exception"</li> <li>"Conditional breakpoints: <code>if condition: breakpoint()</code>"</li> <li>"Environment: <code>PYTHONBREAKPOINT=0</code> to disable"</li> <li>"Alternative: <code>import pdb; pdb.set_trace()</code> (old way)"</li> </ul> </div> </details> <hr> <h3 id=explain-metaclasses-meta-google-interview-question>Explain Metaclasses - Meta, Google Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Metaclasses</code>, <code>Advanced OOP</code>, <code>Metaprogramming</code> | <strong>Asked by:</strong> Meta, Google, Dropbox</p> <details class=success> <summary>View Answer</summary> <p><strong>Metaclasses</strong> are classes that create classes. They control class creation, allowing custom behavior like automatic registration, validation, or method injection.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Understanding type</span>
<span class=c1># type is the default metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=k>pass</span>

<span class=c1># These are equivalent:</span>
<span class=n>MyClass1</span> <span class=o>=</span> <span class=nb>type</span><span class=p>(</span><span class=s1>&#39;MyClass&#39;</span><span class=p>,</span> <span class=p>(),</span> <span class=p>{})</span>

<span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>MyClass</span><span class=p>))</span>   <span class=c1># &lt;class &#39;type&#39;&gt;</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=nb>int</span><span class=p>))</span>       <span class=c1># &lt;class &#39;type&#39;&gt;</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=nb>type</span><span class=p>))</span>      <span class=c1># &lt;class &#39;type&#39;&gt;</span>

<span class=c1># 2. Basic Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>SimpleMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple metaclass.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Creating class: </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=bp>cls</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span>

<span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>SimpleMeta</span><span class=p>):</span>
    <span class=k>pass</span>
<span class=c1># Output: Creating class: MyClass</span>

<span class=c1># 3. Singleton Pattern with Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Singleton</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Metaclass for singleton pattern.&quot;&quot;&quot;</span>

    <span class=n>_instances</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>cls</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>:</span>
            <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__call__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span>

<span class=k>class</span><span class=w> </span><span class=nc>Database</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>Singleton</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Creating database connection&quot;</span><span class=p>)</span>

<span class=n>db1</span> <span class=o>=</span> <span class=n>Database</span><span class=p>()</span>  <span class=c1># Creates instance</span>
<span class=n>db2</span> <span class=o>=</span> <span class=n>Database</span><span class=p>()</span>  <span class=c1># Returns same instance</span>
<span class=nb>print</span><span class=p>(</span><span class=n>db1</span> <span class=ow>is</span> <span class=n>db2</span><span class=p>)</span>  <span class=c1># True</span>

<span class=c1># 4. Automatic Registration</span>
<span class=k>class</span><span class=w> </span><span class=nc>PluginRegistry</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Metaclass for plugin registration.&quot;&quot;&quot;</span>

    <span class=n>plugins</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=bp>cls</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

        <span class=c1># Auto-register plugins (skip base class)</span>
        <span class=k>if</span> <span class=n>name</span> <span class=o>!=</span> <span class=s1>&#39;Plugin&#39;</span><span class=p>:</span>
            <span class=n>mcs</span><span class=o>.</span><span class=n>plugins</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=bp>cls</span>

        <span class=k>return</span> <span class=bp>cls</span>

<span class=k>class</span><span class=w> </span><span class=nc>Plugin</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>PluginRegistry</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Base plugin class.&quot;&quot;&quot;</span>
    <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>EmailPlugin</span><span class=p>(</span><span class=n>Plugin</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>SMSPlugin</span><span class=p>(</span><span class=n>Plugin</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=nb>print</span><span class=p>(</span><span class=n>PluginRegistry</span><span class=o>.</span><span class=n>plugins</span><span class=p>)</span>
<span class=c1># {&#39;EmailPlugin&#39;: &lt;class &#39;EmailPlugin&#39;&gt;, &#39;SMSPlugin&#39;: &lt;class &#39;SMSPlugin&#39;&gt;}</span>

<span class=c1># 5. Method Injection</span>
<span class=k>class</span><span class=w> </span><span class=nc>AddMethodsMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Inject methods into class.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=c1># Add automatic repr</span>
        <span class=k>def</span><span class=w> </span><span class=nf>auto_repr</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
            <span class=n>attrs</span> <span class=o>=</span> <span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>k</span><span class=si>}</span><span class=s2>=</span><span class=si>{</span><span class=n>v</span><span class=si>!r}</span><span class=s2>&quot;</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=vm>__dict__</span><span class=o>.</span><span class=n>items</span><span class=p>())</span>
            <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>(</span><span class=si>{</span><span class=n>attrs</span><span class=si>}</span><span class=s2>)&quot;</span>

        <span class=n>namespace</span><span class=p>[</span><span class=s1>&#39;__repr__&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>auto_repr</span>

        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>AddMethodsMeta</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>

<span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>person</span><span class=p>)</span>  <span class=c1># Person(name=&#39;Alice&#39;, age=30)</span>

<span class=c1># 6. Validation Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>ValidatedMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Metaclass for validation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=c1># Check required methods</span>
        <span class=n>required</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;validate&#39;</span><span class=p>,</span> <span class=s1>&#39;save&#39;</span><span class=p>]</span>
        <span class=k>for</span> <span class=n>method</span> <span class=ow>in</span> <span class=n>required</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>method</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>namespace</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Class </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> must implement </span><span class=si>{</span><span class=n>method</span><span class=si>}</span><span class=s2>()&quot;</span><span class=p>)</span>

        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

<span class=c1># This works:</span>
<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>ValidatedMeta</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>validate</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>pass</span>

<span class=c1># This fails:</span>
<span class=c1># class InvalidUser(metaclass=ValidatedMeta):</span>
<span class=c1>#     pass  # Missing validate() and save()</span>

<span class=c1># 7. ORM-like Metaclass</span>
<span class=k>class</span><span class=w> </span><span class=nc>Field</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Field descriptor.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>field_type</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>field_type</span> <span class=o>=</span> <span class=n>field_type</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>field_type</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Expected </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>field_type</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>

<span class=k>class</span><span class=w> </span><span class=nc>ModelMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;ORM metaclass.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=c1># Collect fields</span>
        <span class=n>fields</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>namespace</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>Field</span><span class=p>):</span>
                <span class=n>fields</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

        <span class=n>namespace</span><span class=p>[</span><span class=s1>&#39;_fields&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>fields</span>

        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Model</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>ModelMeta</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Base model class.&quot;&quot;&quot;</span>
    <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>User</span><span class=p>(</span><span class=n>Model</span><span class=p>):</span>
    <span class=n>name</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
    <span class=n>age</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>User</span><span class=o>.</span><span class=n>_fields</span><span class=p>)</span>  <span class=c1># {&#39;name&#39;: &lt;Field&gt;, &#39;age&#39;: &lt;Field&gt;}</span>

<span class=c1># 8. ABC Alternative</span>
<span class=k>class</span><span class=w> </span><span class=nc>InterfaceMeta</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Metaclass for interfaces.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>):</span>
        <span class=c1># Find abstract methods</span>
        <span class=n>abstract</span> <span class=o>=</span> <span class=p>[</span><span class=n>name</span> <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>namespace</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
                   <span class=k>if</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=s1>&#39;__isabstract__&#39;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)]</span>

        <span class=c1># Store abstract methods</span>
        <span class=n>namespace</span><span class=p>[</span><span class=s1>&#39;__abstract_methods__&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>abstract</span>

        <span class=bp>cls</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=n>mcs</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>bases</span><span class=p>,</span> <span class=n>namespace</span><span class=p>)</span>

        <span class=c1># Check implementation in concrete classes</span>
        <span class=k>if</span> <span class=n>abstract</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>namespace</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;__abstract__&#39;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
            <span class=n>missing</span> <span class=o>=</span> <span class=p>[</span><span class=n>m</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>abstract</span> <span class=k>if</span> <span class=ow>not</span> <span class=nb>callable</span><span class=p>(</span><span class=nb>getattr</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>m</span><span class=p>,</span> <span class=kc>None</span><span class=p>))]</span>
            <span class=k>if</span> <span class=n>missing</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Must implement: </span><span class=si>{</span><span class=n>missing</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

        <span class=k>return</span> <span class=bp>cls</span>

<span class=k>def</span><span class=w> </span><span class=nf>abstract</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Mark method as abstract.&quot;&quot;&quot;</span>
    <span class=n>func</span><span class=o>.</span><span class=n>__isabstract__</span> <span class=o>=</span> <span class=kc>True</span>
    <span class=k>return</span> <span class=n>func</span>

<span class=k>class</span><span class=w> </span><span class=nc>Shape</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>InterfaceMeta</span><span class=p>):</span>
    <span class=n>__abstract__</span> <span class=o>=</span> <span class=kc>True</span>

    <span class=nd>@abstract</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>pass</span>

<span class=c1># This fails:</span>
<span class=c1># class Circle(Shape):</span>
<span class=c1>#     pass  # Missing area()</span>

<span class=c1># This works:</span>
<span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=mf>3.14</span>
</code></pre></div> <p><strong>When to Use Metaclasses:</strong></p> <table> <thead> <tr> <th>Use Case</th> <th>Example</th> <th>Better Alternative?</th> </tr> </thead> <tbody> <tr> <td><strong>Registration</strong></td> <td>Plugin system</td> <td>Class decorator</td> </tr> <tr> <td><strong>Singleton</strong></td> <td>Single instance</td> <td><code>__new__</code> override</td> </tr> <tr> <td><strong>Validation</strong></td> <td>Enforce methods</td> <td>ABC</td> </tr> <tr> <td><strong>ORM</strong></td> <td>Database models</td> <td>Descriptors</td> </tr> <tr> <td><strong>API</strong></td> <td>Django models</td> <td>‚úÖ Good use</td> </tr> </tbody> </table> <p><strong>Metaclass vs Alternatives:</strong></p> <table> <thead> <tr> <th>Task</th> <th>Metaclass</th> <th>Alternative</th> </tr> </thead> <tbody> <tr> <td><strong>Singleton</strong></td> <td>Complex</td> <td><code>__new__</code> method</td> </tr> <tr> <td><strong>Add methods</strong></td> <td>Overkill</td> <td>Inheritance</td> </tr> <tr> <td><strong>Validation</strong></td> <td>Overkill</td> <td>ABC</td> </tr> <tr> <td><strong>Registration</strong></td> <td>OK</td> <td>Decorator</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Metaclass: class that creates classes"</li> <li>"<code>type</code> is default metaclass"</li> <li>"<code>__new__</code>: creates class"</li> <li>"<code>__call__</code>: creates instances"</li> <li>"Use <code>metaclass=MyMeta</code> parameter"</li> <li>"Control class creation, add methods, validate"</li> <li>"Singleton, registration, ORM common uses"</li> <li>"Usually overkill: prefer decorators, ABC, descriptors"</li> <li>"Django models: real-world metaclass example"</li> </ul> </div> </details> <hr> <h3 id=explain-descriptors-google-meta-interview-question>Explain Descriptors - Google, Meta Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>Descriptors</code>, <code>OOP</code>, <code>Properties</code> | <strong>Asked by:</strong> Google, Meta, Dropbox</p> <details class=success> <summary>View Answer</summary> <p><strong>Descriptors</strong> are objects that define <strong><code>__get__</code></strong>, <strong><code>__set__</code></strong>, or <strong><code>__delete__</code></strong> methods, controlling attribute access. They power properties, methods, static/class methods.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic Descriptor</span>
<span class=k>class</span><span class=w> </span><span class=nc>Descriptor</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Simple descriptor.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Getting </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>obj</span><span class=o>.</span><span class=vm>__dict__</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Setting </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> = </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>obj</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__delete__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Deleting </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>del</span> <span class=n>obj</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>]</span>

<span class=k>class</span><span class=w> </span><span class=nc>MyClass</span><span class=p>:</span>
    <span class=n>attr</span> <span class=o>=</span> <span class=n>Descriptor</span><span class=p>(</span><span class=s1>&#39;attr&#39;</span><span class=p>)</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>MyClass</span><span class=p>()</span>
<span class=n>obj</span><span class=o>.</span><span class=n>attr</span> <span class=o>=</span> <span class=mi>42</span>      <span class=c1># Setting attr = 42</span>
<span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>attr</span><span class=p>)</span>    <span class=c1># Getting attr / 42</span>
<span class=k>del</span> <span class=n>obj</span><span class=o>.</span><span class=n>attr</span>       <span class=c1># Deleting attr</span>

<span class=c1># 2. Type Checking Descriptor</span>
<span class=k>class</span><span class=w> </span><span class=nc>Typed</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Descriptor with type checking.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>expected_type</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>expected_type</span> <span class=o>=</span> <span class=n>expected_type</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>
        <span class=k>return</span> <span class=n>obj</span><span class=o>.</span><span class=vm>__dict__</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>expected_type</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> must be </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>expected_type</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span>
            <span class=p>)</span>
        <span class=n>obj</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

<span class=k>class</span><span class=w> </span><span class=nc>Person</span><span class=p>:</span>
    <span class=n>name</span> <span class=o>=</span> <span class=n>Typed</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span>
    <span class=n>age</span> <span class=o>=</span> <span class=n>Typed</span><span class=p>(</span><span class=s1>&#39;age&#39;</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>

<span class=n>person</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>
<span class=c1># person.age = &quot;thirty&quot;  # TypeError</span>

<span class=c1># 3. Validated Descriptor</span>
<span class=k>class</span><span class=w> </span><span class=nc>Validated</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Descriptor with validation.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>validator</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>validator</span> <span class=o>=</span> <span class=n>validator</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>__set_name__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>owner</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>))</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>validator</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=nb>id</span><span class=p>(</span><span class=n>obj</span><span class=p>)]</span> <span class=o>=</span> <span class=n>value</span>

<span class=k>def</span><span class=w> </span><span class=nf>positive</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Must be positive&quot;</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>non_empty</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>value</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Cannot be empty&quot;</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Product</span><span class=p>:</span>
    <span class=n>name</span> <span class=o>=</span> <span class=n>Validated</span><span class=p>(</span><span class=n>non_empty</span><span class=p>)</span>
    <span class=n>price</span> <span class=o>=</span> <span class=n>Validated</span><span class=p>(</span><span class=n>positive</span><span class=p>)</span>
    <span class=n>quantity</span> <span class=o>=</span> <span class=n>Validated</span><span class=p>(</span><span class=n>positive</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>quantity</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>price</span> <span class=o>=</span> <span class=n>price</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>quantity</span> <span class=o>=</span> <span class=n>quantity</span>

<span class=n>product</span> <span class=o>=</span> <span class=n>Product</span><span class=p>(</span><span class=s2>&quot;Laptop&quot;</span><span class=p>,</span> <span class=mf>999.99</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
<span class=c1># product.price = -10  # ValueError</span>

<span class=c1># 4. Lazy Property Descriptor</span>
<span class=k>class</span><span class=w> </span><span class=nc>LazyProperty</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Computed once, then cached.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>func</span> <span class=o>=</span> <span class=n>func</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>func</span><span class=o>.</span><span class=vm>__name__</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>

        <span class=c1># Compute and cache</span>
        <span class=n>value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>func</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>
        <span class=n>obj</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
        <span class=k>return</span> <span class=n>value</span>

<span class=k>class</span><span class=w> </span><span class=nc>DataSet</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>

    <span class=nd>@LazyProperty</span>
    <span class=k>def</span><span class=w> </span><span class=nf>mean</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Computed on first access.&quot;&quot;&quot;</span>
        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Computing mean...&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span>

<span class=n>dataset</span> <span class=o>=</span> <span class=n>DataSet</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dataset</span><span class=o>.</span><span class=n>mean</span><span class=p>)</span>  <span class=c1># Computing mean... / 3.0</span>
<span class=nb>print</span><span class=p>(</span><span class=n>dataset</span><span class=o>.</span><span class=n>mean</span><span class=p>)</span>  <span class=c1># 3.0 (cached, no computation)</span>

<span class=c1># 5. Property Implementation</span>
<span class=k>class</span><span class=w> </span><span class=nc>MyProperty</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Implementing property descriptor.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fget</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>fset</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>fdel</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fget</span> <span class=o>=</span> <span class=n>fget</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fset</span> <span class=o>=</span> <span class=n>fset</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fdel</span> <span class=o>=</span> <span class=n>fdel</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>fget</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>AttributeError</span><span class=p>(</span><span class=s2>&quot;unreadable attribute&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>fget</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>fset</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>AttributeError</span><span class=p>(</span><span class=s2>&quot;can&#39;t set attribute&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fset</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__delete__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>fdel</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>AttributeError</span><span class=p>(</span><span class=s2>&quot;can&#39;t delete attribute&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fdel</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>getter</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fget</span><span class=p>):</span>
        <span class=k>return</span> <span class=nb>type</span><span class=p>(</span><span class=bp>self</span><span class=p>)(</span><span class=n>fget</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>fset</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>fdel</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>setter</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fset</span><span class=p>):</span>
        <span class=k>return</span> <span class=nb>type</span><span class=p>(</span><span class=bp>self</span><span class=p>)(</span><span class=bp>self</span><span class=o>.</span><span class=n>fget</span><span class=p>,</span> <span class=n>fset</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>fdel</span><span class=p>)</span>

<span class=k>class</span><span class=w> </span><span class=nc>Circle</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>radius</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span> <span class=o>=</span> <span class=n>radius</span>

    <span class=nd>@MyProperty</span>
    <span class=k>def</span><span class=w> </span><span class=nf>radius</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span>

    <span class=nd>@radius</span><span class=o>.</span><span class=n>setter</span>
    <span class=k>def</span><span class=w> </span><span class=nf>radius</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Radius cannot be negative&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_radius</span> <span class=o>=</span> <span class=n>value</span>

<span class=n>circle</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>circle</span><span class=o>.</span><span class=n>radius</span><span class=p>)</span>  <span class=c1># 5</span>
<span class=n>circle</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=mi>10</span>    <span class=c1># OK</span>
<span class=c1># circle.radius = -1  # ValueError</span>

<span class=c1># 6. Data Descriptor vs Non-Data Descriptor</span>
<span class=k>class</span><span class=w> </span><span class=nc>DataDescriptor</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Has __set__, takes precedence.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>return</span> <span class=s2>&quot;data descriptor&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__set__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>pass</span>

<span class=k>class</span><span class=w> </span><span class=nc>NonDataDescriptor</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Only __get__, can be overridden.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>obj</span><span class=p>,</span> <span class=n>objtype</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>return</span> <span class=s2>&quot;non-data descriptor&quot;</span>

<span class=k>class</span><span class=w> </span><span class=nc>Example</span><span class=p>:</span>
    <span class=n>data_desc</span> <span class=o>=</span> <span class=n>DataDescriptor</span><span class=p>()</span>
    <span class=n>non_data_desc</span> <span class=o>=</span> <span class=n>NonDataDescriptor</span><span class=p>()</span>

<span class=n>obj</span> <span class=o>=</span> <span class=n>Example</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>data_desc</span><span class=p>)</span>      <span class=c1># data descriptor</span>
<span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>non_data_desc</span><span class=p>)</span>  <span class=c1># non-data descriptor</span>

<span class=c1># Instance attribute overrides non-data descriptor</span>
<span class=n>obj</span><span class=o>.</span><span class=n>non_data_desc</span> <span class=o>=</span> <span class=s2>&quot;instance&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>non_data_desc</span><span class=p>)</span>  <span class=c1># instance</span>

<span class=c1># Instance attribute cannot override data descriptor</span>
<span class=n>obj</span><span class=o>.</span><span class=n>data_desc</span> <span class=o>=</span> <span class=s2>&quot;instance&quot;</span>
<span class=nb>print</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>data_desc</span><span class=p>)</span>      <span class=c1># data descriptor</span>
</code></pre></div> <p><strong>Descriptor Protocol:</strong></p> <table> <thead> <tr> <th>Method</th> <th>Purpose</th> <th>Descriptor Type</th> </tr> </thead> <tbody> <tr> <td><strong><code>__get__</code></strong></td> <td>Get attribute</td> <td>All descriptors</td> </tr> <tr> <td><strong><code>__set__</code></strong></td> <td>Set attribute</td> <td>Data descriptor</td> </tr> <tr> <td><strong><code>__delete__</code></strong></td> <td>Delete attribute</td> <td>Data descriptor</td> </tr> <tr> <td><strong><code>__set_name__</code></strong></td> <td>Store attribute name</td> <td>All (Python 3.6+)</td> </tr> </tbody> </table> <p><strong>Attribute Lookup Order:</strong></p> <ol> <li>Data descriptors from class (and parents)</li> <li>Instance <code>__dict__</code></li> <li>Non-data descriptors from class (and parents)</li> <li>Class <code>__dict__</code></li> <li><code>__getattr__</code> (if defined)</li> </ol> <p><strong>Built-in Descriptors:</strong></p> <table> <thead> <tr> <th>Built-in</th> <th>Descriptor Type</th> <th>Purpose</th> </tr> </thead> <tbody> <tr> <td><strong>property</strong></td> <td>Data</td> <td>Managed attributes</td> </tr> <tr> <td><strong>staticmethod</strong></td> <td>Non-data</td> <td>Static methods</td> </tr> <tr> <td><strong>classmethod</strong></td> <td>Non-data</td> <td>Class methods</td> </tr> <tr> <td><strong>functions</strong></td> <td>Non-data</td> <td>Bound methods</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Descriptors: objects with <code>__get__</code>, <code>__set__</code>, <code>__delete__</code>"</li> <li>"Data descriptor: has <code>__set__</code>, takes precedence"</li> <li>"Non-data descriptor: only <code>__get__</code>, can be overridden"</li> <li>"<code>property</code>, <code>classmethod</code>, <code>staticmethod</code> are descriptors"</li> <li>"Use for validation, type checking, computed properties"</li> <li>"<code>__set_name__</code>: get attribute name (Python 3.6+)"</li> <li>"Lookup order: data descriptor &gt; instance dict &gt; non-data"</li> <li>"Methods are descriptors that return bound methods"</li> </ul> </div> </details> <hr> <h3 id=explain-generators-vs-iterators-amazon-google-interview-question>Explain Generators vs Iterators - Amazon, Google Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Generators</code>, <code>Iterators</code>, <code>Lazy Evaluation</code> | <strong>Asked by:</strong> Amazon, Google, Meta, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>Iterators</strong> implement <code>__iter__</code> and <code>__next__</code>. <strong>Generators</strong> are simpler iterators created with <code>yield</code>. Generators are memory-efficient for large sequences.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Iterator Protocol</span>
<span class=k>class</span><span class=w> </span><span class=nc>CountIterator</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Manual iterator.&quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>=</span> <span class=n>start</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>end</span> <span class=o>=</span> <span class=n>end</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__next__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>end</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>StopIteration</span>
        <span class=n>value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>current</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>current</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=k>return</span> <span class=n>value</span>

<span class=c1># Use iterator</span>
<span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>CountIterator</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>  <span class=c1># 1, 2, 3, 4</span>

<span class=c1># 2. Generator Function (Simpler)</span>
<span class=k>def</span><span class=w> </span><span class=nf>count_generator</span><span class=p>(</span><span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generator version.&quot;&quot;&quot;</span>
    <span class=n>current</span> <span class=o>=</span> <span class=n>start</span>
    <span class=k>while</span> <span class=n>current</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>current</span>
        <span class=n>current</span> <span class=o>+=</span> <span class=mi>1</span>

<span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>count_generator</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>  <span class=c1># 1, 2, 3, 4</span>

<span class=c1># 3. Memory Comparison</span>
<span class=kn>import</span><span class=w> </span><span class=nn>sys</span>

<span class=c1># List: stores all values</span>
<span class=n>numbers_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000000</span><span class=p>)]</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;List size: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>numbers_list</span><span class=p>)</span><span class=si>:</span><span class=s2>,</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>

<span class=c1># Generator: computes on demand</span>
<span class=n>numbers_gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1000000</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Generator size: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>numbers_gen</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>

<span class=c1># 4. Generator Expression</span>
<span class=c1># List comprehension</span>
<span class=n>squares_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>

<span class=c1># Generator expression</span>
<span class=n>squares_gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>

<span class=nb>print</span><span class=p>(</span><span class=n>squares_list</span><span class=p>)</span>  <span class=c1># [0, 1, 4, 9, ...]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>squares_gen</span><span class=p>)</span>   <span class=c1># &lt;generator object&gt;</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>squares_gen</span><span class=p>))</span>  <span class=c1># [0, 1, 4, 9, ...]</span>

<span class=c1># 5. Infinite Generator</span>
<span class=k>def</span><span class=w> </span><span class=nf>fibonacci</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Infinite Fibonacci sequence.&quot;&quot;&quot;</span>
    <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>a</span>
        <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>b</span><span class=p>,</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span>

<span class=n>fib</span> <span class=o>=</span> <span class=n>fibonacci</span><span class=p>()</span>
<span class=k>for</span> <span class=n>_</span><span class=p>,</span> <span class=n>val</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>),</span> <span class=n>fib</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>val</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39; &#39;</span><span class=p>)</span>  <span class=c1># 0 1 1 2 3 5 8 13 21 34</span>

<span class=c1># 6. Generator State</span>
<span class=k>def</span><span class=w> </span><span class=nf>stateful_generator</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generator maintains state.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Starting&quot;</span><span class=p>)</span>
    <span class=k>yield</span> <span class=mi>1</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;After first yield&quot;</span><span class=p>)</span>
    <span class=k>yield</span> <span class=mi>2</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;After second yield&quot;</span><span class=p>)</span>
    <span class=k>yield</span> <span class=mi>3</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Finishing&quot;</span><span class=p>)</span>

<span class=n>gen</span> <span class=o>=</span> <span class=n>stateful_generator</span><span class=p>()</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># Starting / 1</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># After first yield / 2</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># After second yield / 3</span>
<span class=c1># print(next(gen))  # Finishing / StopIteration</span>

<span class=c1># 7. send() Method</span>
<span class=k>def</span><span class=w> </span><span class=nf>echo_generator</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generator that receives values.&quot;&quot;&quot;</span>
    <span class=n>value</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>value</span> <span class=o>=</span> <span class=k>yield</span> <span class=n>value</span>
        <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>value</span> <span class=o>=</span> <span class=n>value</span> <span class=o>**</span> <span class=mi>2</span>

<span class=n>gen</span> <span class=o>=</span> <span class=n>echo_generator</span><span class=p>()</span>
<span class=nb>next</span><span class=p>(</span><span class=n>gen</span><span class=p>)</span>  <span class=c1># Prime the generator</span>
<span class=nb>print</span><span class=p>(</span><span class=n>gen</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>2</span><span class=p>))</span>   <span class=c1># 4</span>
<span class=nb>print</span><span class=p>(</span><span class=n>gen</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>3</span><span class=p>))</span>   <span class=c1># 9</span>
<span class=nb>print</span><span class=p>(</span><span class=n>gen</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>  <span class=c1># 100</span>

<span class=c1># 8. Pipeline with Generators</span>
<span class=k>def</span><span class=w> </span><span class=nf>read_file</span><span class=p>(</span><span class=n>filename</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate lines from file.&quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
            <span class=k>yield</span> <span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>

<span class=k>def</span><span class=w> </span><span class=nf>filter_lines</span><span class=p>(</span><span class=n>lines</span><span class=p>,</span> <span class=n>keyword</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Filter lines containing keyword.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>keyword</span> <span class=ow>in</span> <span class=n>line</span><span class=p>:</span>
            <span class=k>yield</span> <span class=n>line</span>

<span class=k>def</span><span class=w> </span><span class=nf>uppercase_lines</span><span class=p>(</span><span class=n>lines</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert lines to uppercase.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>line</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span>

<span class=c1># Efficient pipeline (lazy evaluation)</span>
<span class=c1># lines = read_file(&#39;data.txt&#39;)</span>
<span class=c1># filtered = filter_lines(lines, &#39;python&#39;)</span>
<span class=c1># upper = uppercase_lines(filtered)</span>
<span class=c1># for line in upper:</span>
<span class=c1>#     print(line)</span>

<span class=c1># 9. yield from</span>
<span class=k>def</span><span class=w> </span><span class=nf>flatten</span><span class=p>(</span><span class=n>nested</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Flatten nested iterables.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>nested</span><span class=p>:</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
            <span class=k>yield from</span> <span class=n>flatten</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>  <span class=c1># Delegate to recursive call</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>yield</span> <span class=n>item</span>

<span class=n>nested_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=mi>5</span><span class=p>],</span> <span class=mi>6</span><span class=p>,</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]]</span>
<span class=n>flat</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>flatten</span><span class=p>(</span><span class=n>nested_list</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>flat</span><span class=p>)</span>  <span class=c1># [1, 2, 3, 4, 5, 6, 7, 8]</span>

<span class=c1># 10. Coroutine-like Behavior</span>
<span class=k>def</span><span class=w> </span><span class=nf>running_average</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Maintain running average.&quot;&quot;&quot;</span>
    <span class=n>total</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>average</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
        <span class=n>value</span> <span class=o>=</span> <span class=k>yield</span> <span class=n>average</span>
        <span class=n>total</span> <span class=o>+=</span> <span class=n>value</span>
        <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=n>average</span> <span class=o>=</span> <span class=n>total</span> <span class=o>/</span> <span class=n>count</span>

<span class=n>avg</span> <span class=o>=</span> <span class=n>running_average</span><span class=p>()</span>
<span class=nb>next</span><span class=p>(</span><span class=n>avg</span><span class=p>)</span>  <span class=c1># Prime</span>
<span class=nb>print</span><span class=p>(</span><span class=n>avg</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>  <span class=c1># 10.0</span>
<span class=nb>print</span><span class=p>(</span><span class=n>avg</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>20</span><span class=p>))</span>  <span class=c1># 15.0</span>
<span class=nb>print</span><span class=p>(</span><span class=n>avg</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=mi>30</span><span class=p>))</span>  <span class=c1># 20.0</span>
</code></pre></div> <p><strong>Iterator vs Generator:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>Iterator</th> <th>Generator</th> </tr> </thead> <tbody> <tr> <td><strong>Implementation</strong></td> <td>Class with <code>__iter__</code>, <code>__next__</code></td> <td>Function with <code>yield</code></td> </tr> <tr> <td><strong>Complexity</strong></td> <td>More code</td> <td>Simpler</td> </tr> <tr> <td><strong>State</strong></td> <td>Manual tracking</td> <td>Automatic</td> </tr> <tr> <td><strong>Memory</strong></td> <td>Efficient</td> <td>Efficient</td> </tr> <tr> <td><strong>When</strong></td> <td>Complex logic</td> <td>Simple sequences</td> </tr> </tbody> </table> <p><strong>Generator Benefits:</strong></p> <table> <thead> <tr> <th>Benefit</th> <th>Description</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Memory</strong></td> <td>Generate on demand</td> <td>Large files</td> </tr> <tr> <td><strong>Infinite</strong></td> <td>Can be infinite</td> <td>Fibonacci</td> </tr> <tr> <td><strong>Lazy</strong></td> <td>Compute when needed</td> <td>Pipelines</td> </tr> <tr> <td><strong>Simple</strong></td> <td>Less code</td> <td>vs iterators</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"Generator: function with <code>yield</code>"</li> <li>"Iterator: <code>__iter__</code> and <code>__next__</code> methods"</li> <li>"Generators are simpler iterators"</li> <li>"Memory efficient: lazy evaluation"</li> <li>"<code>yield from</code>: delegate to sub-iterator"</li> <li>"<code>send()</code>: send values to generator"</li> <li>"Generator expression: <code>(x for x in range(10))</code>"</li> <li>"Use for: large data, infinite sequences, pipelines"</li> <li>"One-time use: can't reset generator"</li> </ul> </div> </details> <hr> <h3 id=explain-pythons-global-interpreter-lock-gil-netflix-google-interview-question>Explain Python's Global Interpreter Lock (GIL) - Netflix, Google Interview Question</h3> <p><strong>Difficulty:</strong> üî¥ Hard | <strong>Tags:</strong> <code>GIL</code>, <code>Threading</code>, <code>Performance</code> | <strong>Asked by:</strong> Netflix, Google, Meta, Amazon</p> <details class=success> <summary>View Answer</summary> <p><strong>GIL (Global Interpreter Lock)</strong> is a mutex that protects Python objects, allowing only one thread to execute Python bytecode at a time. It simplifies memory management but limits multi-threading for CPU-bound tasks.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>threading</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>
<span class=kn>from</span><span class=w> </span><span class=nn>multiprocessing</span><span class=w> </span><span class=kn>import</span> <span class=n>Process</span>

<span class=c1># 1. GIL Impact on CPU-Bound Tasks</span>
<span class=k>def</span><span class=w> </span><span class=nf>cpu_bound</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;CPU-intensive task.&quot;&quot;&quot;</span>
    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
        <span class=n>count</span> <span class=o>+=</span> <span class=n>i</span> <span class=o>**</span> <span class=mi>2</span>
    <span class=k>return</span> <span class=n>count</span>

<span class=c1># Single-threaded</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>result1</span> <span class=o>=</span> <span class=n>cpu_bound</span><span class=p>(</span><span class=mi>10_000_000</span><span class=p>)</span>
<span class=n>result2</span> <span class=o>=</span> <span class=n>cpu_bound</span><span class=p>(</span><span class=mi>10_000_000</span><span class=p>)</span>
<span class=n>single_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Single-threaded: </span><span class=si>{</span><span class=n>single_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># Multi-threaded (limited by GIL)</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>t1</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>cpu_bound</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=mi>10_000_000</span><span class=p>,))</span>
<span class=n>t2</span> <span class=o>=</span> <span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>cpu_bound</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=mi>10_000_000</span><span class=p>,))</span>
<span class=n>t1</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
<span class=n>t2</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
<span class=n>t1</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
<span class=n>t2</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
<span class=n>thread_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Multi-threaded: </span><span class=si>{</span><span class=n>thread_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Speedup: </span><span class=si>{</span><span class=n>single_time</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>thread_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>x&quot;</span><span class=p>)</span>
<span class=c1># Usually slower or same due to GIL!</span>

<span class=c1># 2. GIL Release for I/O</span>
<span class=k>def</span><span class=w> </span><span class=nf>io_bound</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;I/O-bound task (GIL released during I/O).&quot;&quot;&quot;</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># Simulates I/O</span>

<span class=c1># Multi-threaded I/O (GIL released)</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>threads</span> <span class=o>=</span> <span class=p>[</span><span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>io_bound</span><span class=p>)</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
    <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
<span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
    <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
<span class=n>io_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;I/O multi-threaded: </span><span class=si>{</span><span class=n>io_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>  <span class=c1># ~0.1s (10x speedup)</span>

<span class=c1># 3. Multiprocessing Bypasses GIL</span>
<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
    <span class=n>p1</span> <span class=o>=</span> <span class=n>Process</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>cpu_bound</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=mi>10_000_000</span><span class=p>,))</span>
    <span class=n>p2</span> <span class=o>=</span> <span class=n>Process</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>cpu_bound</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=mi>10_000_000</span><span class=p>,))</span>
    <span class=n>p1</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
    <span class=n>p2</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
    <span class=n>p1</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
    <span class=n>p2</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
    <span class=n>process_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Multi-process: </span><span class=si>{</span><span class=n>process_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Speedup: </span><span class=si>{</span><span class=n>single_time</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>process_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>x&quot;</span><span class=p>)</span>
    <span class=c1># ~2x speedup on 2+ cores!</span>

<span class=c1># 4. When GIL is Released</span>
<span class=c1># - I/O operations (file, network, sleep)</span>
<span class=c1># - NumPy operations (releases GIL internally)</span>
<span class=c1># - C extensions that explicitly release GIL</span>

<span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>

<span class=k>def</span><span class=w> </span><span class=nf>numpy_computation</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;NumPy releases GIL.&quot;&quot;&quot;</span>
    <span class=n>a</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
    <span class=n>b</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>1000</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>np</span><span class=o>.</span><span class=n>dot</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>

<span class=c1># Threading works well with NumPy</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>threads</span> <span class=o>=</span> <span class=p>[</span><span class=n>threading</span><span class=o>.</span><span class=n>Thread</span><span class=p>(</span><span class=n>target</span><span class=o>=</span><span class=n>numpy_computation</span><span class=p>)</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>)]</span>
<span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
    <span class=n>t</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
<span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>threads</span><span class=p>:</span>
    <span class=n>t</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
<span class=n>numpy_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;NumPy multi-threaded: </span><span class=si>{</span><span class=n>numpy_time</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
</code></pre></div> <p><strong>GIL Impact:</strong></p> <table> <thead> <tr> <th>Task Type</th> <th>Threading</th> <th>Multiprocessing</th> <th>Why</th> </tr> </thead> <tbody> <tr> <td><strong>CPU-bound</strong></td> <td>‚ùå No speedup</td> <td>‚úÖ Scales</td> <td>GIL limits</td> </tr> <tr> <td><strong>I/O-bound</strong></td> <td>‚úÖ Good</td> <td>‚ö†Ô∏è Overkill</td> <td>GIL released</td> </tr> <tr> <td><strong>NumPy</strong></td> <td>‚úÖ Good</td> <td>‚úÖ Good</td> <td>GIL released</td> </tr> <tr> <td><strong>Network</strong></td> <td>‚úÖ Good</td> <td>‚ö†Ô∏è Overkill</td> <td>GIL released</td> </tr> </tbody> </table> <p><strong>Workarounds:</strong></p> <table> <thead> <tr> <th>Solution</th> <th>Use Case</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td><strong>Multiprocessing</strong></td> <td>CPU-bound</td> <td>Parallel computation</td> </tr> <tr> <td><strong>async/await</strong></td> <td>I/O-bound</td> <td>Web servers</td> </tr> <tr> <td><strong>NumPy/C extensions</strong></td> <td>Heavy compute</td> <td>Scientific computing</td> </tr> <tr> <td><strong>PyPy</strong></td> <td>Alternative</td> <td>JIT compilation</td> </tr> <tr> <td><strong>CPython alternatives</strong></td> <td>No GIL</td> <td>Jython, IronPython</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"GIL: only one thread executes Python bytecode at a time"</li> <li>"Simplifies memory management, prevents race conditions"</li> <li>"Limits CPU-bound multi-threading performance"</li> <li>"Released during I/O operations"</li> <li>"Use multiprocessing for CPU-bound parallelism"</li> <li>"Threading good for I/O-bound tasks"</li> <li>"NumPy, C extensions can release GIL"</li> <li>"Not an issue for I/O-heavy applications"</li> <li>"Alternative: async/await for concurrency"</li> </ul> </div> </details> <hr> <h3 id=explain-list-comprehensions-vs-generator-expressions-microsoft-amazon-interview-question>Explain List Comprehensions vs Generator Expressions - Microsoft, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Comprehensions</code>, <code>Generators</code>, <code>Performance</code> | <strong>Asked by:</strong> Microsoft, Amazon, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong>List comprehensions</strong> create lists immediately (eager). <strong>Generator expressions</strong> create generators (lazy). Use generators for memory efficiency with large datasets.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>sys</span>

<span class=c1># 1. Basic Comparison</span>
<span class=c1># List comprehension: eager evaluation</span>
<span class=n>squares_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>squares_list</span><span class=p>)</span>  <span class=c1># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span>

<span class=c1># Generator expression: lazy evaluation</span>
<span class=n>squares_gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=n>squares_gen</span><span class=p>)</span>   <span class=c1># &lt;generator object&gt;</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>squares_gen</span><span class=p>))</span>  <span class=c1># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span>

<span class=c1># 2. Memory Usage</span>
<span class=c1># List: allocates all values</span>
<span class=n>big_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1_000_000</span><span class=p>)]</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;List: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>big_list</span><span class=p>)</span><span class=si>:</span><span class=s2>,</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>  <span class=c1># ~8 MB</span>

<span class=c1># Generator: minimal memory</span>
<span class=n>big_gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1_000_000</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Generator: </span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>getsizeof</span><span class=p>(</span><span class=n>big_gen</span><span class=p>)</span><span class=si>}</span><span class=s2> bytes&quot;</span><span class=p>)</span>  <span class=c1># ~200 bytes</span>

<span class=c1># 3. Performance Comparison</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=c1># List comprehension: all at once</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>data_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1_000_000</span><span class=p>)]</span>
<span class=nb>sum</span><span class=p>(</span><span class=n>data_list</span><span class=p>)</span>
<span class=n>list_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;List: </span><span class=si>{</span><span class=n>list_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>

<span class=c1># Generator: computed on demand</span>
<span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=n>data_gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1_000_000</span><span class=p>))</span>
<span class=nb>sum</span><span class=p>(</span><span class=n>data_gen</span><span class=p>)</span>
<span class=n>gen_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=o>-</span> <span class=n>start</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Generator: </span><span class=si>{</span><span class=n>gen_time</span><span class=si>:</span><span class=s2>.4f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>)</span>
<span class=c1># Generator usually faster!</span>

<span class=c1># 4. One-Time Use vs Reusable</span>
<span class=n>gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># [0, 1, 2, 3, 4]</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>gen</span><span class=p>))</span>  <span class=c1># [] (exhausted!)</span>

<span class=n>lst</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>lst</span><span class=p>))</span>  <span class=c1># [0, 1, 2, 3, 4]</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>lst</span><span class=p>))</span>  <span class=c1># [0, 1, 2, 3, 4] (reusable)</span>

<span class=c1># 5. When to Use Each</span>
<span class=c1># Use list: need multiple iterations, indexing</span>
<span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>numbers</span><span class=p>[</span><span class=mi>5</span><span class=p>])</span>  <span class=c1># 5</span>
<span class=nb>print</span><span class=p>(</span><span class=n>numbers</span><span class=p>[:</span><span class=mi>3</span><span class=p>])</span>  <span class=c1># [0, 1, 2]</span>

<span class=c1># Use generator: single iteration, large data</span>
<span class=n>total</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1_000_000</span><span class=p>))</span>

<span class=c1># 6. Nested Comprehensions</span>
<span class=c1># List comprehension</span>
<span class=n>matrix</span> <span class=o>=</span> <span class=p>[[</span><span class=n>i</span> <span class=o>*</span> <span class=n>j</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span>  <span class=c1># [0, 2, 4, 6, 8]</span>

<span class=c1># Generator expression (nested)</span>
<span class=n>matrix_gen</span> <span class=o>=</span> <span class=p>((</span><span class=n>i</span> <span class=o>*</span> <span class=n>j</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>
<span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>matrix_gen</span><span class=p>)))</span>  <span class=c1># [0, 0, 0, 0, 0]</span>

<span class=c1># 7. Conditional Expressions</span>
<span class=c1># With filter</span>
<span class=n>evens_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>]</span>
<span class=n>evens_gen</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>

<span class=c1># With transformation</span>
<span class=n>processed</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=k>else</span> <span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>processed</span><span class=p>)</span>  <span class=c1># [0, 1, 4, 3, 16, 5, 36, 7, 64, 9]</span>

<span class=c1># 8. Dict and Set Comprehensions</span>
<span class=c1># Dictionary comprehension</span>
<span class=n>squares_dict</span> <span class=o>=</span> <span class=p>{</span><span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>)}</span>
<span class=nb>print</span><span class=p>(</span><span class=n>squares_dict</span><span class=p>)</span>  <span class=c1># {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}</span>

<span class=c1># Set comprehension</span>
<span class=n>squares_set</span> <span class=o>=</span> <span class=p>{</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=o>-</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>)}</span>
<span class=nb>print</span><span class=p>(</span><span class=n>squares_set</span><span class=p>)</span>  <span class=c1># {0, 1, 4, 9, 16, 25}</span>

<span class=c1># 9. Pipeline Processing</span>
<span class=c1># Chained generators (memory efficient)</span>
<span class=k>def</span><span class=w> </span><span class=nf>read_data</span><span class=p>():</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1_000_000</span><span class=p>):</span>
        <span class=k>yield</span> <span class=n>i</span>

<span class=k>def</span><span class=w> </span><span class=nf>filter_evens</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
    <span class=k>return</span> <span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>square</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
    <span class=k>return</span> <span class=p>(</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>data</span><span class=p>)</span>

<span class=c1># Lazy pipeline</span>
<span class=n>pipeline</span> <span class=o>=</span> <span class=n>square</span><span class=p>(</span><span class=n>filter_evens</span><span class=p>(</span><span class=n>read_data</span><span class=p>()))</span>
<span class=n>result</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span><span class=p>,</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>pipeline</span><span class=p>,</span> <span class=nb>range</span><span class=p>(</span><span class=mi>100</span><span class=p>)))</span>  <span class=c1># First 100</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</code></pre></div> <p><strong>List vs Generator:</strong></p> <table> <thead> <tr> <th>Aspect</th> <th>List Comprehension</th> <th>Generator Expression</th> </tr> </thead> <tbody> <tr> <td><strong>Syntax</strong></td> <td><code>[x for x in ...]</code></td> <td><code>(x for x in ...)</code></td> </tr> <tr> <td><strong>Evaluation</strong></td> <td>Eager (immediate)</td> <td>Lazy (on demand)</td> </tr> <tr> <td><strong>Memory</strong></td> <td>Stores all values</td> <td>Minimal</td> </tr> <tr> <td><strong>Speed</strong></td> <td>Slower for large data</td> <td>Faster</td> </tr> <tr> <td><strong>Reusable</strong></td> <td>‚úÖ Yes</td> <td>‚ùå One-time</td> </tr> <tr> <td><strong>Indexing</strong></td> <td>‚úÖ Yes</td> <td>‚ùå No</td> </tr> <tr> <td><strong>When</strong></td> <td>Small data, multiple use</td> <td>Large data, single use</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"List comp: <code>[x for x in ...]</code>, eager"</li> <li>"Generator expr: <code>(x for x in ...)</code>, lazy"</li> <li>"Generator: memory efficient for large data"</li> <li>"List: reusable, supports indexing"</li> <li>"Generator: one-time use, sequential only"</li> <li>"Use generator for: single pass, large data"</li> <li>"Use list for: multiple iterations, indexing"</li> <li>"Dict/set comprehensions also available"</li> <li>"Generators compose well in pipelines"</li> </ul> </div> </details> <hr> <h3 id=explain-args-and-kwargs-amazon-microsoft-interview-question>Explain *args and **kwargs - Amazon, Microsoft Interview Question</h3> <p><strong>Difficulty:</strong> üü¢ Easy | <strong>Tags:</strong> <code>Arguments</code>, <code>Functions</code>, <code>Unpacking</code> | <strong>Asked by:</strong> Amazon, Microsoft, Google, Meta</p> <details class=success> <summary>View Answer</summary> <p><strong><code>*args</code></strong> captures variable positional arguments as tuple. <strong><code>**kwargs</code></strong> captures variable keyword arguments as dict. Use for flexible function signatures.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic *args</span>
<span class=k>def</span><span class=w> </span><span class=nf>sum_all</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Sum any number of arguments.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=n>args</span><span class=p>)</span>

<span class=nb>print</span><span class=p>(</span><span class=n>sum_all</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>           <span class=c1># 6</span>
<span class=nb>print</span><span class=p>(</span><span class=n>sum_all</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>))</span>     <span class=c1># 15</span>
<span class=nb>print</span><span class=p>(</span><span class=n>sum_all</span><span class=p>())</span>                   <span class=c1># 0</span>

<span class=c1># 2. Basic **kwargs</span>
<span class=k>def</span><span class=w> </span><span class=nf>print_info</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Print keyword arguments.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>print_info</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>city</span><span class=o>=</span><span class=s2>&quot;NYC&quot;</span><span class=p>)</span>
<span class=c1># name: Alice</span>
<span class=c1># age: 30</span>
<span class=c1># city: NYC</span>

<span class=c1># 3. Combining args and kwargs</span>
<span class=k>def</span><span class=w> </span><span class=nf>flexible_function</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Function accepting both.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Positional: </span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Keyword: </span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>flexible_function</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span>
<span class=c1># Positional: (1, 2, 3)</span>
<span class=c1># Keyword: {&#39;name&#39;: &#39;Alice&#39;, &#39;age&#39;: 30}</span>

<span class=c1># 4. Order of Parameters</span>
<span class=k>def</span><span class=w> </span><span class=nf>proper_order</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=n>key1</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>key2</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Correct parameter order.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Required: </span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>b</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Extra positional: </span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Specific keywords: </span><span class=si>{</span><span class=n>key1</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>key2</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Extra keywords: </span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

<span class=n>proper_order</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=n>key1</span><span class=o>=</span><span class=s2>&quot;x&quot;</span><span class=p>,</span> <span class=n>key2</span><span class=o>=</span><span class=s2>&quot;y&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=s2>&quot;z&quot;</span><span class=p>)</span>

<span class=c1># 5. Unpacking Arguments</span>
<span class=k>def</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Add three numbers.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span> <span class=o>+</span> <span class=n>c</span>

<span class=n>numbers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
<span class=n>result</span> <span class=o>=</span> <span class=n>add</span><span class=p>(</span><span class=o>*</span><span class=n>numbers</span><span class=p>)</span>  <span class=c1># Unpacks list</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>  <span class=c1># 6</span>

<span class=c1># 6. Unpacking Dictionaries</span>
<span class=k>def</span><span class=w> </span><span class=nf>create_user</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>email</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create user.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=n>age</span><span class=p>,</span> <span class=s2>&quot;email&quot;</span><span class=p>:</span> <span class=n>email</span><span class=p>}</span>

<span class=n>user_data</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;Alice&quot;</span><span class=p>,</span> <span class=s2>&quot;age&quot;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span> <span class=s2>&quot;email&quot;</span><span class=p>:</span> <span class=s2>&quot;alice@example.com&quot;</span><span class=p>}</span>
<span class=n>user</span> <span class=o>=</span> <span class=n>create_user</span><span class=p>(</span><span class=o>**</span><span class=n>user_data</span><span class=p>)</span>  <span class=c1># Unpacks dict</span>
<span class=nb>print</span><span class=p>(</span><span class=n>user</span><span class=p>)</span>

<span class=c1># 7. Forwarding Arguments</span>
<span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Forward to another function.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Before calling&quot;</span><span class=p>)</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>target_function</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;After calling&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>result</span>

<span class=k>def</span><span class=w> </span><span class=nf>target_function</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>10</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Target function.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span> <span class=o>+</span> <span class=n>z</span>

<span class=n>result</span> <span class=o>=</span> <span class=n>wrapper</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>z</span><span class=o>=</span><span class=mi>20</span><span class=p>)</span>  <span class=c1># 23</span>

<span class=c1># 8. Decorator Pattern</span>
<span class=kn>import</span><span class=w> </span><span class=nn>functools</span>

<span class=k>def</span><span class=w> </span><span class=nf>log_calls</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Decorator that logs calls.&quot;&quot;&quot;</span>
    <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
    <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Calling </span><span class=si>{</span><span class=n>func</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Args: </span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=s2>, Kwargs: </span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Result: </span><span class=si>{</span><span class=n>result</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>
    <span class=k>return</span> <span class=n>wrapper</span>

<span class=nd>@log_calls</span>
<span class=k>def</span><span class=w> </span><span class=nf>multiply</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>a</span> <span class=o>*</span> <span class=n>b</span>

<span class=n>multiply</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>

<span class=c1># 9. Merging Dictionaries</span>
<span class=k>def</span><span class=w> </span><span class=nf>merge_dicts</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Merge multiple dictionaries.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>kwargs</span>

<span class=n>config1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;host&quot;</span><span class=p>:</span> <span class=s2>&quot;localhost&quot;</span><span class=p>,</span> <span class=s2>&quot;port&quot;</span><span class=p>:</span> <span class=mi>8000</span><span class=p>}</span>
<span class=n>config2</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;debug&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;timeout&quot;</span><span class=p>:</span> <span class=mi>30</span><span class=p>}</span>

<span class=n>merged</span> <span class=o>=</span> <span class=n>merge_dicts</span><span class=p>(</span><span class=o>**</span><span class=n>config1</span><span class=p>,</span> <span class=o>**</span><span class=n>config2</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>merged</span><span class=p>)</span>
<span class=c1># {&#39;host&#39;: &#39;localhost&#39;, &#39;port&#39;: 8000, &#39;debug&#39;: True, &#39;timeout&#39;: 30}</span>
</code></pre></div> <p><strong>Parameter Order:</strong></p> <ol> <li>Positional parameters: <code>def func(a, b)</code></li> <li><code>*args</code>: <code>def func(a, b, *args)</code></li> <li>Keyword-only: <code>def func(a, b, *args, key=None)</code></li> <li><code>**kwargs</code>: <code>def func(a, b, *args, key=None, **kwargs)</code></li> </ol> <p><strong>Common Patterns:</strong></p> <table> <thead> <tr> <th>Pattern</th> <th>Example</th> <th>Use Case</th> </tr> </thead> <tbody> <tr> <td><strong>Variadic positional</strong></td> <td><code>def func(*args)</code></td> <td>Variable args</td> </tr> <tr> <td><strong>Variadic keyword</strong></td> <td><code>def func(**kwargs)</code></td> <td>Variable kwargs</td> </tr> <tr> <td><strong>Forwarding</strong></td> <td><code>func(*args, **kwargs)</code></td> <td>Wrappers/decorators</td> </tr> <tr> <td><strong>Unpacking</strong></td> <td><code>func(*list, **dict)</code></td> <td>Pass collections</td> </tr> </tbody> </table> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"<code>*args</code>: tuple of positional arguments"</li> <li>"<code>**kwargs</code>: dict of keyword arguments"</li> <li>"Order: required, *args, keyword-only, **kwargs"</li> <li>"Unpacking: <code>func(*list)</code>, <code>func(**dict)</code>"</li> <li>"Decorators use for forwarding"</li> <li>"Names 'args' and 'kwargs' are convention"</li> <li>"Can combine with regular parameters"</li> <li>"Use for flexible APIs"</li> </ul> </div> </details> <hr> <h3 id=explain-packaging-with-setuptools-dropbox-amazon-interview-question>Explain Packaging with setuptools - Dropbox, Amazon Interview Question</h3> <p><strong>Difficulty:</strong> üü° Medium | <strong>Tags:</strong> <code>Packaging</code>, <code>Distribution</code>, <code>setuptools</code> | <strong>Asked by:</strong> Dropbox, Amazon, Google, Microsoft</p> <details class=success> <summary>View Answer</summary> <p><strong>Packaging</strong> distributes Python projects. Use <strong>setuptools</strong> with <strong>setup.py</strong> or <strong>pyproject.toml</strong> to define dependencies, metadata, and build configuration.</p> <p><strong>Complete Examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 1. Basic setup.py</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>from setuptools import setup, find_packages</span>

<span class=sd>setup(</span>
<span class=sd>    name=&quot;myproject&quot;,</span>
<span class=sd>    version=&quot;1.0.0&quot;,</span>
<span class=sd>    author=&quot;Your Name&quot;,</span>
<span class=sd>    author_email=&quot;you@example.com&quot;,</span>
<span class=sd>    description=&quot;A short description&quot;,</span>
<span class=sd>    long_description=open(&quot;README.md&quot;).read(),</span>
<span class=sd>    long_description_content_type=&quot;text/markdown&quot;,</span>
<span class=sd>    url=&quot;https://github.com/yourusername/myproject&quot;,</span>
<span class=sd>    packages=find_packages(),</span>
<span class=sd>    classifiers=[</span>
<span class=sd>        &quot;Programming Language :: Python :: 3&quot;,</span>
<span class=sd>        &quot;License :: OSI Approved :: MIT License&quot;,</span>
<span class=sd>        &quot;Operating System :: OS Independent&quot;,</span>
<span class=sd>    ],</span>
<span class=sd>    python_requires=&quot;&gt;=3.7&quot;,</span>
<span class=sd>    install_requires=[</span>
<span class=sd>        &quot;requests&gt;=2.25.0&quot;,</span>
<span class=sd>        &quot;numpy&gt;=1.20.0&quot;,</span>
<span class=sd>    ],</span>
<span class=sd>    extras_require={</span>
<span class=sd>        &quot;dev&quot;: [&quot;pytest&quot;, &quot;black&quot;, &quot;flake8&quot;],</span>
<span class=sd>    },</span>
<span class=sd>    entry_points={</span>
<span class=sd>        &quot;console_scripts&quot;: [</span>
<span class=sd>            &quot;myapp=myproject.main:main&quot;,</span>
<span class=sd>        ],</span>
<span class=sd>    },</span>
<span class=sd>)</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 2. Project Structure</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>myproject/</span>
<span class=sd>‚îú‚îÄ‚îÄ setup.py</span>
<span class=sd>‚îú‚îÄ‚îÄ pyproject.toml</span>
<span class=sd>‚îú‚îÄ‚îÄ README.md</span>
<span class=sd>‚îú‚îÄ‚îÄ LICENSE</span>
<span class=sd>‚îú‚îÄ‚îÄ requirements.txt</span>
<span class=sd>‚îú‚îÄ‚îÄ myproject/</span>
<span class=sd>‚îÇ   ‚îú‚îÄ‚îÄ __init__.py</span>
<span class=sd>‚îÇ   ‚îú‚îÄ‚îÄ main.py</span>
<span class=sd>‚îÇ   ‚îî‚îÄ‚îÄ utils.py</span>
<span class=sd>‚îî‚îÄ‚îÄ tests/</span>
<span class=sd>    ‚îú‚îÄ‚îÄ __init__.py</span>
<span class=sd>    ‚îî‚îÄ‚îÄ test_main.py</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 3. Modern pyproject.toml (PEP 518)</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>[build-system]</span>
<span class=sd>requires = [&quot;setuptools&gt;=45&quot;, &quot;wheel&quot;]</span>
<span class=sd>build-backend = &quot;setuptools.build_meta&quot;</span>

<span class=sd>[project]</span>
<span class=sd>name = &quot;myproject&quot;</span>
<span class=sd>version = &quot;1.0.0&quot;</span>
<span class=sd>description = &quot;A short description&quot;</span>
<span class=sd>readme = &quot;README.md&quot;</span>
<span class=sd>requires-python = &quot;&gt;=3.7&quot;</span>
<span class=sd>license = {text = &quot;MIT&quot;}</span>
<span class=sd>authors = [</span>
<span class=sd>    {name = &quot;Your Name&quot;, email = &quot;you@example.com&quot;}</span>
<span class=sd>]</span>

<span class=sd>dependencies = [</span>
<span class=sd>    &quot;requests&gt;=2.25.0&quot;,</span>
<span class=sd>    &quot;numpy&gt;=1.20.0&quot;,</span>
<span class=sd>]</span>

<span class=sd>[project.optional-dependencies]</span>
<span class=sd>dev = [&quot;pytest&quot;, &quot;black&quot;, &quot;flake8&quot;]</span>

<span class=sd>[project.scripts]</span>
<span class=sd>myapp = &quot;myproject.main:main&quot;</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 4. Building and Installing</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd># Build package</span>
<span class=sd>python setup.py sdist bdist_wheel</span>

<span class=sd># Install locally</span>
<span class=sd>pip install -e .</span>

<span class=sd># Install from source</span>
<span class=sd>pip install .</span>

<span class=sd># Upload to PyPI</span>
<span class=sd>pip install twine</span>
<span class=sd>twine upload dist/*</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 5. Entry Points</span>
<span class=c1># myproject/main.py</span>
<span class=k>def</span><span class=w> </span><span class=nf>main</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Command-line entry point.&quot;&quot;&quot;</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Hello from myproject!&quot;</span><span class=p>)</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>main</span><span class=p>()</span>

<span class=c1># After installation: myapp command available</span>

<span class=c1># 6. Version Management</span>
<span class=c1># myproject/__init__.py</span>
<span class=n>__version__</span> <span class=o>=</span> <span class=s2>&quot;1.0.0&quot;</span>

<span class=c1># In setup.py:</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>import myproject</span>

<span class=sd>setup(</span>
<span class=sd>    version=myproject.__version__,</span>
<span class=sd>    ...</span>
<span class=sd>)</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=c1># 7. MANIFEST.in</span>
<span class=sd>&quot;&quot;&quot;</span>
<span class=sd>include README.md</span>
<span class=sd>include LICENSE</span>
<span class=sd>include requirements.txt</span>
<span class=sd>recursive-include myproject/data *</span>
<span class=sd>global-exclude *.pyc</span>
<span class=sd>&quot;&quot;&quot;</span>
</code></pre></div> <p><strong>Key Files:</strong></p> <table> <thead> <tr> <th>File</th> <th>Purpose</th> </tr> </thead> <tbody> <tr> <td><strong>setup.py</strong></td> <td>Build configuration (old style)</td> </tr> <tr> <td><strong>pyproject.toml</strong></td> <td>Modern build config (PEP 518)</td> </tr> <tr> <td><strong>README.md</strong></td> <td>Project description</td> </tr> <tr> <td><strong>LICENSE</strong></td> <td>License text</td> </tr> <tr> <td><strong>requirements.txt</strong></td> <td>Dependencies (pip)</td> </tr> <tr> <td><strong>MANIFEST.in</strong></td> <td>Include non-Python files</td> </tr> </tbody> </table> <p><strong>Common Commands:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Install in editable mode</span>
pip<span class=w> </span>install<span class=w> </span>-e<span class=w> </span>.

<span class=c1># Build distribution</span>
python<span class=w> </span>-m<span class=w> </span>build

<span class=c1># Upload to PyPI</span>
twine<span class=w> </span>upload<span class=w> </span>dist/*

<span class=c1># Install from PyPI</span>
pip<span class=w> </span>install<span class=w> </span>myproject
</code></pre></div> <p><strong>Interview Insights:</strong></p> <div class="admonition tip"> <p class=admonition-title>Interviewer's Insight</p> <ul> <li>"setuptools: standard packaging tool"</li> <li>"setup.py or pyproject.toml: define package"</li> <li>"<code>find_packages()</code>: auto-discover modules"</li> <li>"<code>install_requires</code>: runtime dependencies"</li> <li>"<code>extras_require</code>: optional dependencies"</li> <li>"<code>entry_points</code>: create CLI commands"</li> <li>"Build: <code>python setup.py sdist bdist_wheel</code>"</li> <li>"Install editable: <code>pip install -e .</code>"</li> <li>"Modern: prefer pyproject.toml"</li> </ul> </div> </details> <hr> <h2 id=questions-asked-in-google-interview>Questions asked in Google interview</h2> <ul> <li>Explain the Global Interpreter Lock (GIL) and its impact on multi-threading.</li> <li>How does Python's garbage collection mechanism work? (Reference counting vs Generational GC).</li> <li>Write a custom decorator that caches function results (Memoization).</li> <li>How would you debug a memory leak in a long-running Python process?</li> <li>Explain the method resolution order (MRO) works with multiple inheritance.</li> <li>Write code to implement a thread-safe singleton.</li> <li>How to optimize a CPU-bound Python script?</li> <li>Explain the key differences between Python 2 and Python 3.</li> <li>How to implement a context manager using <code>contextlib</code>.</li> <li>Write code to parse a large log file without loading it entirely into memory.</li> </ul> <h2 id=questions-asked-in-meta-interview>Questions asked in Meta interview</h2> <ul> <li>How are dictionaries implemented in Python? (Hash collision handling).</li> <li>Explain the difference between <code>__new__</code> and <code>__init__</code>.</li> <li>Write code to flatten a deeply nested dictionary.</li> <li>How does <code>asyncio</code> differ from threading? When to use which?</li> <li>Explain the concept of metaclasses and a use case.</li> <li>Write a generator that yields Fibonacci numbers indefinitely.</li> <li>How to handle circular imports in a large project?</li> <li>Explain the descriptor protocol and how properties work.</li> <li>How would you implement a custom iterator?</li> <li>Write code to validate and parse JSON data using <code>dataclasses</code> or <code>pydantic</code>.</li> </ul> <h2 id=questions-asked-in-amazon-interview>Questions asked in Amazon interview</h2> <ul> <li>Write code to reverse a string without using built-in methods.</li> <li>Explain the difference between deep copy and shallow copy.</li> <li>How to handle exceptions in a large-scale application?</li> <li>Write code to find the most frequent element in a list efficiently.</li> <li>Explain the use of <code>*args</code> and <code>**kwargs</code>.</li> <li>How to implement a producer-consumer problem using <code>queue</code>?</li> <li>Explain the difference between <code>@staticmethod</code>, <code>@classmethod</code>, and instance methods.</li> <li>Write code to sort a list of dictionaries by a specific key.</li> <li>How does variable scope work in Python (LEGB rule)?</li> <li>Explain what <code>if __name__ == "__main__":</code> does.</li> </ul> <h2 id=questions-asked-in-netflix-interview>Questions asked in Netflix interview</h2> <ul> <li>How to optimize Python for high-throughput network applications?</li> <li>Explain the internals of CPython execution loop.</li> <li>Write code to implement a rate limiter using Redis and Python.</li> <li>How to handle dependency management in a microservices architecture?</li> <li>Explain how <code>gunicorn</code> or <code>uwsgi</code> works with Python web apps.</li> <li>Write code to implement async HTTP requests using <code>aiohttp</code>.</li> <li>How to profile Python code to find bottlenecks? (cProfile, py-spy).</li> <li>Explain the challenge of serialization (pickling) in distributed systems.</li> <li>How to implement rigorous unit testing with <code>pytest</code>?</li> <li>Write code to process a stream of data using generators.</li> </ul> <hr> <h2 id=additional-resources>Additional Resources</h2> <ul> <li><a href=https://docs.python.org/3/ >Official Python Documentation</a></li> <li><a href=https://realpython.com/ >Real Python Tutorials</a></li> <li><a href=https://www.oreilly.com/library/view/fluent-python-2nd/9781492056348/ >Fluent Python (Book)</a></li> <li><a href=https://github.com/zpoint/CPython-Internals>Python Internals (GitHub)</a></li> <li><a href=https://docs.python-guide.org/ >Hitchhiker's Guide to Python</a></li> </ul> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2020 - <script>document.write(/\d{4}/.exec(Date())[0])</script> ‚Ä¢ <strong>Kuldeep Singh Sidhu</strong> ‚Ä¢ <u><a href=https://choosealicense.com/licenses/agpl-3.0/ target=‚Äù_blank‚Äù>License</a></u> ‚Ä¢ <u><a href=/privacy>Privacy Policy</a></u> ‚Ä¢ <u><a href=/contact>Contact</a></u> ‚Ä¢ </div> </div> <div class=md-social> <a href=https://github.com/singhsidhukuldeep/ target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 0c4.42 0 8 3.58 8 8a8.01 8.01 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27s-1.36.09-2 .27c-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8"/></svg> </a> <a href=https://linkedin.com/in/singhsidhukuldeep target=_blank rel=noopener title=linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://twitter.com/kuldeep_s_s target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://stackoverflow.com/u/7182350/ target=_blank rel=noopener title=stackoverflow.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M290.7 311 95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"/></svg> </a> <a href=https://huggingface.co/singhsidhukuldeep target=_blank rel=noopener title=huggingface.co class=md-social__link> <svg width=500 height=463 viewbox="0 0 500 463" fill=none xmlns=http://www.w3.org/2000/svg> <path fill=white d="M496.592 369.699C500.563 381.093 499.61 393.227 494.315 403.778C490.503 411.48 485.05 417.441 478.379 422.769C470.331 429.099 460.324 434.48 448.253 439.65C433.852 445.77 416.274 451.52 408.226 453.63C387.63 458.958 367.829 462.334 347.762 462.493C319.066 462.756 294.34 456.004 276.762 438.753C267.656 439.861 258.443 440.494 249.178 440.494C240.389 440.494 231.706 439.967 223.076 438.912C205.445 456.057 180.825 462.756 152.234 462.493C132.168 462.334 112.366 458.958 91.7177 453.63C83.7229 451.52 66.145 445.77 51.7439 439.65C39.6723 434.48 29.6656 429.099 21.6708 422.769C14.9467 417.441 9.49334 411.48 5.68127 403.778C0.439661 393.227 -0.566304 381.093 3.45755 369.699C-0.248631 360.994 -1.20165 351.024 1.71035 339.998C3.03399 334.987 5.20476 330.344 7.95792 326.229C7.37552 324.067 6.89901 321.851 6.58134 319.424C4.56941 304.97 9.59923 291.781 19.0765 281.547C23.7357 276.43 28.7655 272.895 34.0071 270.627C30.1421 254.273 28.1302 237.445 28.1302 220.247C28.1302 98.5969 127.085 0 249.178 0C291.111 0 330.343 11.6058 363.805 31.8633C369.84 35.5561 375.77 39.5126 381.436 43.7329C384.242 45.8431 387.048 48.006 389.748 50.2744C392.501 52.49 395.201 54.8112 397.796 57.1851C405.632 64.3069 412.991 71.9562 419.715 80.133C421.992 82.8235 424.163 85.6194 426.28 88.4681C430.569 94.1128 434.54 99.9685 438.193 106.035C443.752 115.109 448.623 124.604 452.859 134.469C455.665 141.064 458.101 147.816 460.271 154.727C463.501 165.067 465.99 175.723 467.684 186.696C468.213 190.336 468.69 194.028 469.06 197.721C469.802 205.107 470.225 212.598 470.225 220.247C470.225 237.234 468.213 253.904 464.454 269.994C470.278 272.262 475.784 275.955 480.92 281.547C490.397 291.781 495.427 305.022 493.415 319.477C493.098 321.851 492.621 324.067 492.039 326.229C494.792 330.344 496.963 334.987 498.286 339.998C501.198 351.024 500.245 360.994 496.592 369.699Z"/> <path fill=black d="M433.839 221.75C433.839 120.838 351.531 39.0323 250 39.0323C148.469 39.0323 66.1613 120.838 66.1613 221.75C66.1613 322.662 148.469 404.468 250 404.468C351.531 404.468 433.839 322.662 433.839 221.75ZM45 221.75C45 109.222 136.782 18 250 18C363.218 18 455 109.222 455 221.75C455 334.278 363.218 425.5 250 425.5C136.782 425.5 45 334.278 45 221.75Z"/> <path fill=white d="M250 405.5C352.173 405.5 435 323.232 435 221.75C435 120.268 352.173 38 250 38C147.827 38 65 120.268 65 221.75C65 323.232 147.827 405.5 250 405.5Z"/> <path fill=white d="M202.198 404.174C216.789 383.118 215.755 367.316 195.735 347.627C175.715 327.943 164.062 299.145 164.062 299.145C164.062 299.145 159.709 282.419 149.794 283.958C139.88 285.497 132.6 310.492 153.368 325.783C174.135 341.069 149.232 351.456 141.242 337.099C133.252 322.741 111.435 285.831 100.121 278.772C88.8117 271.713 80.8483 275.668 83.5151 290.218C86.182 304.769 133.48 340.036 128.878 347.668C124.276 355.296 108.058 338.7 108.058 338.7C108.058 338.7 57.3079 293.255 46.2587 305.097C35.2096 316.94 54.641 326.863 82.3328 343.359C110.03 359.85 112.177 364.206 108.248 370.446C104.314 376.685 43.1836 325.971 37.4417 347.47C31.705 368.969 99.8291 375.209 95.6247 390.051C91.4203 404.899 47.6372 361.958 38.6823 378.689C29.7221 395.425 100.465 415.088 101.038 415.234C123.889 421.067 181.924 433.426 202.198 404.174Z"/> <path fill=black d="M90.9935 255C82.4744 255 74.8603 258.477 69.551 264.784C66.2675 268.69 62.8367 274.986 62.5578 284.414C58.985 283.394 55.5489 282.824 52.3391 282.824C44.183 282.824 36.8163 285.93 31.6069 291.573C24.9137 298.815 21.9407 307.715 23.2351 316.62C23.8508 320.861 25.2768 324.663 27.4079 328.182C22.9142 331.795 19.6044 336.826 18.0047 342.876C16.7524 347.619 15.4685 357.497 22.1722 367.673C21.746 368.337 21.3461 369.027 20.9725 369.733C16.9418 377.336 16.684 385.927 20.2411 393.928C25.6346 406.054 39.0368 415.608 65.0625 425.863C81.2536 432.242 96.0661 436.321 96.1976 436.357C117.603 441.874 136.962 444.677 153.721 444.677C184.525 444.677 206.578 435.301 219.27 416.811C239.697 387.036 236.776 359.803 210.346 333.552C195.717 319.026 185.993 297.607 183.967 292.906C179.884 278.986 169.086 263.513 151.138 263.513H151.133C149.622 263.513 148.096 263.633 146.592 263.869C138.73 265.097 131.858 269.595 126.949 276.361C121.65 269.814 116.504 264.606 111.847 261.667C104.827 257.243 97.813 255 90.9935 255ZM90.9935 275.917C93.6771 275.917 96.9553 277.051 100.57 279.331C111.794 286.406 133.452 323.403 141.382 337.793C144.039 342.614 148.581 344.654 152.669 344.654C160.783 344.654 167.118 336.638 153.411 326.451C132.8 311.124 140.03 286.072 149.87 284.529C150.301 284.461 150.727 284.43 151.138 284.43C160.083 284.43 164.03 299.751 164.03 299.751C164.03 299.751 175.595 328.616 195.465 348.346C215.334 368.08 216.36 383.919 201.879 405.024C192.002 419.415 173.096 421.292 153.721 421.292C133.626 421.292 112.99 417.772 101.445 414.796C100.877 414.65 30.7019 396.255 39.5946 379.48C41.089 376.661 43.5516 375.532 46.6509 375.532C59.1744 375.532 81.9535 394.054 91.746 394.054C93.935 394.054 95.5662 392.371 96.1976 390.112C100.555 374.522 32.6646 369.738 38.3633 348.189C39.3683 344.377 42.094 342.829 45.9248 342.834C62.4737 342.834 99.6021 371.756 107.385 371.756C107.979 371.756 108.405 371.584 108.637 371.218C112.536 364.964 110.74 359.872 83.257 343.343C55.7738 326.808 36.1428 317.588 47.114 305.718C48.3768 304.347 50.1659 303.741 52.3391 303.741C69.0248 303.746 108.447 339.398 108.447 339.398C108.447 339.398 119.087 350.395 125.523 350.395C127.001 350.395 128.259 349.815 129.111 348.382C133.673 340.737 86.7366 305.388 84.0898 290.804C82.2955 280.921 85.3474 275.917 90.9935 275.917Z"/> <path fill=white d="M296.9 404.174C282.31 383.118 283.343 367.316 303.363 347.627C323.383 327.943 335.037 299.145 335.037 299.145C335.037 299.145 339.39 282.419 349.304 283.958C359.219 285.497 366.498 310.492 345.731 325.783C324.963 341.069 349.866 351.456 357.856 337.099C365.846 322.741 387.663 285.831 398.978 278.772C410.287 271.713 418.25 275.668 415.583 290.218C412.916 304.769 365.618 340.036 370.22 347.668C374.822 355.296 391.041 338.7 391.041 338.7C391.041 338.7 441.791 293.255 452.84 305.097C463.889 316.94 444.457 326.863 416.766 343.359C389.068 359.85 386.921 364.206 390.85 370.446C394.784 376.685 455.915 325.971 461.657 347.47C467.393 368.969 399.269 375.209 403.474 390.051C407.678 404.899 451.461 361.958 460.416 378.689C469.376 395.425 398.633 415.088 398.06 415.234C375.209 421.067 317.175 433.426 296.9 404.174Z"/> <path fill=black d="M408.105 255C416.624 255 424.238 258.477 429.547 264.784C432.831 268.69 436.262 274.986 436.541 284.414C440.113 283.394 443.549 282.824 446.759 282.824C454.915 282.824 462.282 285.93 467.491 291.573C474.185 298.815 477.158 307.715 475.863 316.62C475.248 320.861 473.822 324.663 471.69 328.182C476.184 331.795 479.494 336.826 481.094 342.876C482.346 347.619 483.63 357.497 476.926 367.673C477.352 368.337 477.752 369.027 478.126 369.733C482.157 377.336 482.414 385.927 478.857 393.928C473.464 406.054 460.062 415.608 434.036 425.863C417.845 432.242 403.032 436.321 402.901 436.357C381.495 441.874 362.136 444.677 345.377 444.677C314.573 444.677 292.52 435.301 279.829 416.811C259.402 387.036 262.322 359.803 288.753 333.552C303.381 319.026 313.105 297.607 315.131 292.906C319.214 278.986 330.012 263.513 347.961 263.513H347.966C349.476 263.513 351.002 263.633 352.507 263.869C360.368 265.097 367.24 269.595 372.15 276.361C377.449 269.814 382.595 264.606 387.252 261.667C394.271 257.243 401.285 255 408.105 255ZM408.105 275.917C405.421 275.917 402.143 277.051 398.528 279.331C387.304 286.406 365.646 323.403 357.716 337.793C355.059 342.614 350.518 344.654 346.429 344.654C338.315 344.654 331.98 336.638 345.687 326.451C366.299 311.124 359.069 286.072 349.229 284.529C348.797 284.461 348.371 284.43 347.961 284.43C339.015 284.43 335.069 299.751 335.069 299.751C335.069 299.751 323.503 328.616 303.634 348.346C283.764 368.08 282.738 383.919 297.219 405.024C307.096 419.415 326.002 421.292 345.377 421.292C365.472 421.292 386.108 417.772 397.653 414.796C398.221 414.65 468.397 396.255 459.504 379.48C458.009 376.661 455.547 375.532 452.447 375.532C439.924 375.532 417.145 394.054 407.352 394.054C405.163 394.054 403.532 392.371 402.901 390.112C398.543 374.522 466.434 369.738 460.735 348.189C459.73 344.377 457.004 342.829 453.174 342.834C436.625 342.834 399.496 371.756 391.714 371.756C391.119 371.756 390.693 371.584 390.461 371.218C386.562 364.964 388.358 359.872 415.841 343.343C443.325 326.808 462.956 317.588 451.984 305.718C450.722 304.347 448.932 303.741 446.759 303.741C430.074 303.746 390.651 339.398 390.651 339.398C390.651 339.398 380.011 350.395 373.576 350.395C372.097 350.395 370.84 349.815 369.987 348.382C365.425 340.737 412.362 305.388 415.009 290.804C416.803 280.921 413.751 275.917 408.105 275.917Z"/> <path fill=#0E1116 d="M319.277 228.901C319.277 205.236 288.585 241.304 250.637 241.465C212.692 241.306 182 205.238 182 228.901C182 244.591 189.507 270.109 209.669 285.591C213.681 271.787 235.726 260.729 238.877 262.317C243.364 264.578 243.112 270.844 250.637 276.365C258.163 270.844 257.911 264.58 262.398 262.317C265.551 260.729 287.594 271.787 291.605 285.591C311.767 270.109 319.275 244.591 319.275 228.903L319.277 228.901Z"/> <path fill=#FF323D d="M262.4 262.315C257.913 264.576 258.165 270.842 250.639 276.363C243.114 270.842 243.366 264.578 238.879 262.315C235.726 260.727 213.683 271.785 209.672 285.589C219.866 293.417 233.297 298.678 250.627 298.806C250.631 298.806 250.635 298.806 250.641 298.806C250.646 298.806 250.65 298.806 250.656 298.806C267.986 298.68 281.417 293.417 291.611 285.589C287.6 271.785 265.555 260.727 262.404 262.315H262.4Z"/> <path fill=black d="M373 196C382.389 196 390 188.389 390 179C390 169.611 382.389 162 373 162C363.611 162 356 169.611 356 179C356 188.389 363.611 196 373 196Z"/> <path fill=black d="M128 196C137.389 196 145 188.389 145 179C145 169.611 137.389 162 128 162C118.611 162 111 169.611 111 179C111 188.389 118.611 196 128 196Z"/> <path fill=#0E1116 d="M313.06 171.596C319.796 173.968 322.476 187.779 329.281 184.171C342.167 177.337 347.06 161.377 340.208 148.524C333.356 135.671 317.354 130.792 304.467 137.626C291.58 144.46 286.688 160.419 293.54 173.272C296.774 179.339 307.039 169.475 313.06 171.596Z"/> <path fill=#0E1116 d="M188.554 171.596C181.818 173.968 179.138 187.779 172.334 184.171C159.447 177.337 154.555 161.377 161.407 148.524C168.259 135.671 184.26 130.792 197.147 137.626C210.034 144.46 214.926 160.419 208.074 173.272C204.84 179.339 194.575 169.475 188.554 171.596Z"/> </svg> </a> <a href=http://kuldeepsinghsidhu.com target=_blank rel=noopener title=kuldeepsinghsidhu.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0M5.78 8.75a9.64 9.64 0 0 0 1.363 4.177q.383.64.857 1.215c.245-.296.551-.705.857-1.215A9.64 9.64 0 0 0 10.22 8.75Zm4.44-1.5a9.64 9.64 0 0 0-1.363-4.177c-.307-.51-.612-.919-.857-1.215a10 10 0 0 0-.857 1.215A9.64 9.64 0 0 0 5.78 7.25Zm-5.944 1.5H1.543a6.51 6.51 0 0 0 4.666 5.5q-.184-.271-.352-.552c-.715-1.192-1.437-2.874-1.581-4.948m-2.733-1.5h2.733c.144-2.074.866-3.756 1.58-4.948q.18-.295.353-.552a6.51 6.51 0 0 0-4.666 5.5m10.181 1.5c-.144 2.074-.866 3.756-1.58 4.948q-.18.296-.353.552a6.51 6.51 0 0 0 4.666-5.5Zm2.733-1.5a6.51 6.51 0 0 0-4.666-5.5q.184.272.353.552c.714 1.192 1.436 2.874 1.58 4.948Z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "search.highlight", "search.share", "search.suggest", "content.tooltips", "navigation.instant.progress", "navigation.path", "navigation.top", "toc.follow"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.60a45f97.min.js></script> <script src=../../javascripts/mathjax.js></script> <script src=https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js></script> <script src=../../javascripts/xfile.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>